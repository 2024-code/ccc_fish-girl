{"version":3,"sources":["assets\\Script\\roulette\\RouletteMain.js"],"names":["Russian_Roulette_Red","Russian_Roulette_Black","cc","Class","Component","properties","usrName","Label","usrScore","usrIdLbl","usrHead","Sprite","showView","Node","SpList","SpriteAtlas","betPb","Prefab","historyList","timerLbl","waitUI","startBetNode","stopBetNode","resultNode","ballNode","ballPrNode","wheelNode","winNode","showGoldNode","angleNode","onLoad","selChip","betPool","historyResult","allowBet","betHistory","playerInfo","require","getInstant","setGameObj_Function","netWork","setLobbyMainObj_Function","roulette","start","NodePool","i","nd","instantiate","put","Helper","loadHead","playerHeadId","res","spriteFrame","active","string","playerId","playerName","playerCoin","toFixed","showHistory","history","startBet","schedule","tm","parseInt","getBetPb","size","get","onSelChip","e","args","node","_name","substring","console","log","onCheckNum","pos","v2","currentTarget","x","y","Math","random","lotteryEmit","onCheckDouble","split","onCheckThree","onCheckFour","onCheckSix","onCheckSpecial","type","bet","chip","nameList","getChildByName","getComponent","getSpriteFrame","addChild","position","scale","clearBet","children","nList","onClickExit","rouletteSocket","disconnect","director","loadScene","reBet","startWheel","num","offestAngle","angle","rotation","runAction","rotateTo","easing","easeSineOut","sequence","delayTime","moveTo","targetRotation","showResult","number","winGold","myGold","hsitory","resultBd","scheduleOnce","includes","bs","arrList","arr","reverse","length","push"],"mappings":"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","sourceRoot":"/","sourcesContent":["const Russian_Roulette_Red = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36]; //红\r\nconst Russian_Roulette_Black = [2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35]; //黑\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        usrName: cc.Label,\r\n        usrScore: cc.Label,\r\n        usrIdLbl: cc.Label,\r\n        usrHead: cc.Sprite,\r\n        showView: cc.Node,\r\n        SpList: cc.SpriteAtlas,\r\n        betPb: cc.Prefab,\r\n        historyList: [cc.Node],\r\n        timerLbl: cc.Label,\r\n        waitUI: cc.Node,\r\n        startBetNode: cc.Node,\r\n        stopBetNode: cc.Node,\r\n        resultNode: cc.Node,\r\n        ballNode: cc.Node,\r\n        ballPrNode: cc.Node,\r\n        wheelNode: cc.Node,\r\n        winNode: cc.Node,\r\n        showGoldNode: cc.Node,\r\n        angleNode: cc.Node,\r\n\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        // 初始化变量\r\n        this.selChip = '1'; //选择的筹码\r\n        this.betPool = null; //筹码结点池\r\n        this.historyResult = []; //历史5局结果\r\n        this.allowBet = false; //是否允许下注\r\n        this.betHistory = []; // 上局下注历史\r\n        //加载固定体统\r\n        this.playerInfo = require(\"PlayerInfo\").getInstant;\r\n        this.playerInfo.setGameObj_Function(this);\r\n        this.netWork = require(\"RouletteNet\").getInstant;\r\n        this.netWork.setLobbyMainObj_Function(this);\r\n        this.netWork.roulette = this;\r\n    },\r\n\r\n    start() {\r\n        // this.startWheel(16);\r\n        // return;\r\n\r\n        this.betPool = new cc.NodePool();\r\n        for (let i = 0; i < 100; i++) {\r\n            let nd = cc.instantiate(this.betPb);\r\n            this.betPool.put(nd);\r\n        }\r\n        Helper.loadHead(this.playerInfo.playerHeadId, res => {\r\n            this.usrHead.spriteFrame = res;\r\n        })\r\n        this.waitUI.active = true;\r\n        this.usrIdLbl.string = this.playerInfo.playerId;\r\n        this.usrName.string = this.playerInfo.playerName;\r\n        this.usrScore.string = (this.playerInfo.playerCoin / 100).toFixed(2);\r\n        this.showHistory(this.netWork.history);\r\n    },\r\n\r\n\r\n    //开始下注\r\n    startBet() {\r\n        this.waitUI.active = false;\r\n        this.timerLbl.string = '30';\r\n        this.startBetNode.active = true;\r\n        this.allowBet = true;\r\n        this.schedule(() => {\r\n            let tm = parseInt(this.timerLbl.string, 10);\r\n            this.timerLbl.string = tm - 1;\r\n            if (tm === 30) {\r\n                this.startBetNode.active = false;\r\n            } else if (tm === 2) {\r\n                this.stopBetNode.active = true;\r\n            } else if (tm === 1) {\r\n                this.stopBetNode.active = false;\r\n            }\r\n        }, 1, 29);\r\n    },\r\n\r\n    getBetPb() {\r\n        if (this.betPool.size() <= 0) {\r\n            let nd = cc.instantiate(this.betPb);\r\n            this.betPool.put(nd);\r\n        }\r\n        return this.betPool.get();\r\n    },\r\n\r\n    //选择筹码\r\n    onSelChip(e, args) {\r\n        this.selChip = e.node._name.substring(6);\r\n        console.log('选择筹码' + this.selChip);\r\n    },\r\n\r\n    onCheckNum(e, args) {\r\n        console.log(args);\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        if (args == '0') {\r\n            pos.x += Math.random() * 25;\r\n            pos.y += Math.random() * 150 - 75;\r\n        }\r\n        args = [parseInt(args, 0), ];\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(6, parseInt(this.selChip, 10), pos, args);\r\n        }\r\n    },\r\n\r\n    onCheckDouble(e, args) {\r\n        console.log(args);\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        args = args.split(',');\r\n        for (let i in args) {\r\n            args[i] = parseInt(args[i]);\r\n        }\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(args[0] == 0 ? 7 : 5, parseInt(this.selChip, 10), pos, args);\r\n        }\r\n    },\r\n\r\n    onCheckThree(e, args) {\r\n        console.log(args);\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        args = args.split(',');\r\n        for (let i in args) {\r\n            args[i] = parseInt(args[i]);\r\n        }\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(args[0] == 0 ? 7 : 4, parseInt(this.selChip, 10), pos, args);\r\n        }\r\n    },\r\n\r\n    onCheckFour(e, args) {\r\n        console.log(args);\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        args = args.split(',');\r\n        for (let i in args) {\r\n            args[i] = parseInt(args[i]);\r\n        }\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(args[0] == 0 ? 7 : 3, parseInt(this.selChip, 10), pos, args);\r\n        }\r\n    },\r\n\r\n    onCheckSix(e, args) {\r\n        console.log(args);\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        args = args.split(',');\r\n        for (let i in args) {\r\n            args[i] = parseInt(args[i]);\r\n        }\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(2, parseInt(this.selChip, 10), pos, args);\r\n        }\r\n    },\r\n\r\n    onCheckSpecial(e, args) {\r\n        let pos = cc.v2(e.currentTarget.x, e.currentTarget.y);\r\n        let type = 1;\r\n        let res = 0;\r\n        switch (args) {\r\n            //2:1\r\n            case '1000':\r\n                type = 1;\r\n                res = 3;\r\n                pos.x += Math.random() * 50 - 25;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '1001':\r\n                type = 1;\r\n                res = 4;\r\n                pos.x += Math.random() * 50 - 25;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '1002':\r\n                type = 1;\r\n                res = 5;\r\n                pos.x += Math.random() * 50 - 25;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '2000':\r\n                // 1-12\r\n                type = 1;\r\n                res = 0;\r\n                pos.x += Math.random() * 300 - 150;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '2001':\r\n                //13-24\r\n                type = 1;\r\n                res = 1;\r\n                pos.x += Math.random() * 300 - 150;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '2002':\r\n                //25-36\r\n                type = 1;\r\n                res = 2;\r\n                pos.x += Math.random() * 300 - 150;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3000':\r\n                //1-18\r\n                type = 0;\r\n                res = 0;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3001':\r\n                //偶数\r\n                type = 0;\r\n                res = 5;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3002':\r\n                //red\r\n                type = 0;\r\n                res = 2;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3003':\r\n                //black\r\n                type = 0;\r\n                res = 3;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3004':\r\n                //奇数\r\n                type = 0;\r\n                res = 4;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n            case '3005':\r\n                //19-36\r\n                type = 0;\r\n                res = 1;\r\n                pos.x += Math.random() * 150 - 75;\r\n                pos.y += Math.random() * 50 - 25;\r\n                break;\r\n\r\n        }\r\n        if (!!this.selChip && this.allowBet) {\r\n            this.netWork.lotteryEmit(type, parseInt(this.selChip, 10), pos, res);\r\n        }\r\n    },\r\n\r\n    //下注表现\r\n    bet(pos, chip) {\r\n        const nameList = {\r\n            '100': 's_chip_00',\r\n            '500': 's_chip_01',\r\n            '1000': 's_chip_02',\r\n            '2500': 's_chip_03',\r\n            '5000': 's_chip_04',\r\n            '10000': 's_chip_05',\r\n        };\r\n        let nd = this.getBetPb();\r\n        nd.getChildByName('betLbl').getComponent(cc.Label).string = parseInt(chip / 100);\r\n        nd.getChildByName('betSp').getComponent(cc.Sprite).spriteFrame = this.SpList.getSpriteFrame(nameList[chip]);\r\n        this.showView.addChild(nd);\r\n        nd.position = pos;\r\n        nd.scale = 0.5;\r\n    },\r\n\r\n    //清理注\r\n    clearBet() {\r\n        this.waitUI.active = true;\r\n        let children = this.showView.children;\r\n        let nList = [...children];\r\n        for (let i in nList) {\r\n            this.betPool.put(nList[i]);\r\n        }\r\n        this.resultNode.active = false;\r\n        this.showGoldNode.active = false;\r\n    },\r\n\r\n    onClickExit(e, args) {\r\n        this.netWork.rouletteSocket.disconnect();\r\n        cc.director.loadScene(\"LobbyMain\");\r\n    },\r\n\r\n    //续押\r\n    reBet(e, args) {\r\n\r\n    },\r\n\r\n    startWheel(num) {\r\n        let offestAngle = parseInt(Math.random() + 360 + 1);\r\n        let angle = this.angleNode.getChildByName('' + num).rotation;\r\n        this.wheelNode.rotation = 0;\r\n        this.ballPrNode.rotation = 0;\r\n        this.ballNode.position = cc.v2(-375, 0);\r\n        this.wheelNode.runAction(cc.rotateTo(3, 360 * 3 + offestAngle).easing(cc.easeSineOut(3)));\r\n        this.ballNode.runAction(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(-260, 0))));\r\n        let targetRotation = 90 - 360 * 4 + angle - offestAngle + 1;\r\n        this.ballPrNode.runAction(cc.rotateTo(3, targetRotation).easing(cc.easeSineOut(3)));\r\n    },\r\n\r\n    showResult(number, winGold, myGold, hsitory) {\r\n        let resultBd = this.resultNode.getChildByName('结果显示');\r\n        this.scheduleOnce(() => {\r\n            this.waitUI.active = false;\r\n            this.resultNode.active = true;\r\n            resultBd.active = false;\r\n            this.startWheel(number);\r\n        }, 1);\r\n        this.scheduleOnce(() => {\r\n            this.usrScore.string = (myGold / 100).toFixed(2);\r\n            resultBd.active = true;\r\n            resultBd.getChildByName('s_result_green').active = number == 0;\r\n            resultBd.getChildByName('s_result_red').active = !!Russian_Roulette_Red.includes(number)\r\n            let bs = number >= 19 ? '大' : '小';\r\n            resultBd.getChildByName('大小').getComponent(cc.Label).string = number == 0 ? '0' : bs;\r\n            resultBd.getChildByName('单双').getComponent(cc.Label).string = number % 2 == 0 ? '双' : '单';\r\n            resultBd.getChildByName('数字').getComponent(cc.Label).string = number;\r\n            resultBd.getChildByName('您赢得').active = winGold > 0;\r\n            resultBd.getChildByName('无中奖').active = winGold <= 0;\r\n            resultBd.getChildByName('您赢得').getChildByName('str').getComponent(cc.Label).string = winGold > 0 ? (winGold / 100).toFixed(2) : '';\r\n            this.showHistory(hsitory);\r\n        }, 10);\r\n        this.scheduleOnce(() => {\r\n            this.clearBet();\r\n        }, 20)\r\n    },\r\n\r\n    showHistory(arrList) {\r\n        let arr = [...arrList.reverse()];\r\n        while (arr.length < 5) {\r\n            arr.push('');\r\n        }\r\n        for (let i in arr) {\r\n            this.historyList[i].getChildByName('green').active = arr[i] === 0;\r\n            this.historyList[i].getChildByName('red').active = Russian_Roulette_Red.includes(arr[i]);\r\n            this.historyList[i].getChildByName('number').getComponent(cc.Label).string = arr[i];\r\n        }\r\n    }\r\n});"]}