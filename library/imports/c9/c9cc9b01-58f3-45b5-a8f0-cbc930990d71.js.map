{"version":3,"sources":["assets\\Texture\\Slot_Xiyouji\\js\\XYJMain.js"],"names":["BETNUM","LINES","TOPBET","BET","cc","Class","Component","properties","spUserFace","type","Sprite","displayName","lblUserName","Label","lblUserCoin","lblBet","lblLines","lblCurBet","lblWinCoin","lblCoinList","rollBtnAnim","Animation","rolePb","Prefab","spAtlas","SpriteAtlas","autoBtn","effectAnimPr","Node","effectAnimFullA","effectAnimFullB","effectAnimBigFull","BgNode","freeBgNode","freeBeginNode","freeEndNode","freeTimesNode","helpUI","audioBtn","onLoad","playerInfo","require","getInstant","net","node","getComponent","audio","wheelList","bet","auto","status","bigWinResList","bigWinCard","bigWinCoin","bigWinBoo","freeTimes","rollResult","rollIndex","lotteryRes","stopFree","freeGameCoin","bIsFreeGame","delayClick","turnNum","start","string","setBet","Helper","loadHead","playerHeadId","sp","spriteFrame","playerName","playerCoin","toFixed","onCLick","event","args","getSpriteFrame","sendRoll","play","viewarray","getFreeTime","bFlag","scheduleOnce","stopImmediately","length","playBgm","active","socket","disconnect","director","loadScene","pInfo","musicControl","stopAudio","emit","JSON","stringify","exchangeRate","i","stateCallBack","st","rIndex","userscore","winscore","playWinAnim","nFreeType","nFreeTime","tm","hasWinBool","allLine","nWinCards","push","lines","nWinLinesDetail","list","Skeleton","clearTrack","setAnimation","lbl_coin","getChildByName","addcoin","schedule","animIndex","closeShine","clsoeAnim","parseInt","j","showAnim","fMultiple","stopFreeTimes","startFreeGame","console","log","freeHideNode","initWheel","setTypeResult","data","freeCount","cols","index","beishu","playBW","roleIdList","rolePbList","playAnim","nodeList","children","stopAnim","checkRollData","iterator","roll","alert","line","startRoll","sendData","nBetList","gameState"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG,GAAf,EAAoB;;AACpB,IAAMC,KAAK,GAAG,GAAd,EAAmB;;AACnB,IAAMC,MAAM,GAAG,CAAC,EAAD,EAAK,IAAL,EAAW,GAAX,EAAgB,EAAhB,CAAf;AACA,IAAMC,GAAG,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,EAA5B,CAAZ;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAE;AACR,iBAAS,IADD;AAERC,MAAAA,IAAI,EAAEL,EAAE,CAACM,MAFD;AAGRC,MAAAA,WAAW,EAAE;AAHL,KADJ;AAMRC,IAAAA,WAAW,EAAE;AACT,iBAAS,IADA;AAETH,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFA;AAGTF,MAAAA,WAAW,EAAE;AAHJ,KANL;AAWRG,IAAAA,WAAW,EAAE;AACT,iBAAS,IADA;AAETL,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFA;AAGTF,MAAAA,WAAW,EAAE;AAHJ,KAXL;AAgBRI,IAAAA,MAAM,EAAE;AACJ,iBAAS,IADL;AAEJN,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFL;AAGJF,MAAAA,WAAW,EAAE;AAHT,KAhBA;AAqBRK,IAAAA,QAAQ,EAAE;AACN,iBAAS,IADH;AAENP,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFH;AAGNF,MAAAA,WAAW,EAAE;AAHP,KArBF;AA0BRM,IAAAA,SAAS,EAAE;AACP,iBAAS,IADF;AAEPR,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFF;AAGPF,MAAAA,WAAW,EAAE;AAHN,KA1BH;AA+BRO,IAAAA,UAAU,EAAE;AACR,iBAAS,IADD;AAERT,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFD;AAGRF,MAAAA,WAAW,EAAE;AAHL,KA/BJ;AAoCRQ,IAAAA,WAAW,EAAE;AACT,iBAAS,EADA;AAETV,MAAAA,IAAI,EAAEL,EAAE,CAACS,KAFA;AAGTF,MAAAA,WAAW,EAAE;AAHJ,KApCL;AAyCRS,IAAAA,WAAW,EAAE;AACT,iBAAS,IADA;AAETX,MAAAA,IAAI,EAAEL,EAAE,CAACiB,SAFA;AAGTV,MAAAA,WAAW,EAAE;AAHJ,KAzCL;AA8CRW,IAAAA,MAAM,EAAE;AACJ,iBAAS,EADL;AAEJb,MAAAA,IAAI,EAAEL,EAAE,CAACmB,MAFL;AAGJZ,MAAAA,WAAW,EAAE;AAHT,KA9CA;AAmDRa,IAAAA,OAAO,EAAE;AACL,iBAAS,IADJ;AAELf,MAAAA,IAAI,EAAEL,EAAE,CAACqB,WAFJ;AAGLd,MAAAA,WAAW,EAAE;AAHR,KAnDD;AAwDRe,IAAAA,OAAO,EAAE;AACL,iBAAS,IADJ;AAELjB,MAAAA,IAAI,EAAEL,EAAE,CAACM,MAFJ;AAGLC,MAAAA,WAAW,EAAE;AAHR,KAxDD;AA6DRgB,IAAAA,YAAY,EAAE;AACV,iBAAS,IADC;AAEVlB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFC;AAGVjB,MAAAA,WAAW,EAAE;AAHH,KA7DN;AAkERkB,IAAAA,eAAe,EAAE;AACb,iBAAS,IADI;AAEbpB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFI;AAGbjB,MAAAA,WAAW,EAAE;AAHA,KAlET;AAuERmB,IAAAA,eAAe,EAAE;AACb,iBAAS,IADI;AAEbrB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFI;AAGbjB,MAAAA,WAAW,EAAE;AAHA,KAvET;AA4ERoB,IAAAA,iBAAiB,EAAE;AACf,iBAAS,IADM;AAEftB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFM;AAGfjB,MAAAA,WAAW,EAAE;AAHE,KA5EX;AAkFRqB,IAAAA,MAAM,EAAE;AACJ,iBAAS,IADL;AAEJvB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFL;AAGJjB,MAAAA,WAAW,EAAE;AAHT,KAlFA;AAwFR;AACAsB,IAAAA,UAAU,EAAE;AACR,iBAAS,IADD;AAERxB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFD;AAGRjB,MAAAA,WAAW,EAAE;AAHL,KAzFJ;AA8FRuB,IAAAA,aAAa,EAAE;AACX,iBAAS,IADE;AAEXzB,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFE;AAGXjB,MAAAA,WAAW,EAAE;AAHF,KA9FP;AAmGRwB,IAAAA,WAAW,EAAE;AACT,iBAAS,IADA;AAET1B,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFA;AAGTjB,MAAAA,WAAW,EAAE;AAHJ,KAnGL;AAyGRyB,IAAAA,aAAa,EAAE;AACX,iBAAS,IADE;AAEX3B,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFE;AAGXjB,MAAAA,WAAW,EAAE;AAHF,KAzGP;AA+GR0B,IAAAA,MAAM,EAAE;AACJ,iBAAS,IADL;AAEJ5B,MAAAA,IAAI,EAAEL,EAAE,CAACwB,IAFL;AAGJjB,MAAAA,WAAW,EAAE;AAHT,KA/GA;AAqHR2B,IAAAA,QAAQ,EAAE;AACN,iBAAS,IADH;AAEN7B,MAAAA,IAAI,EAAEL,EAAE,CAACM,MAFH;AAGNC,MAAAA,WAAW,EAAE;AAHP;AArHF,GAHP;AA+HL4B,EAAAA,MA/HK,oBA+HI;AACL,SAAKC,UAAL,GAAkBC,OAAO,CAAC,YAAD,CAAP,CAAsBC,UAAxC;AACA,SAAKC,GAAL,GAAW,KAAKC,IAAL,CAAUC,YAAV,CAAuB,YAAvB,CAAX;AACA,SAAKC,KAAL,GAAa,KAAKF,IAAL,CAAUC,YAAV,CAAuB,UAAvB,CAAb;AACA,SAAKE,SAAL,GAAiB,EAAjB;AACA,SAAKC,GAAL,GAAW,CAAX;AACA,SAAKC,IAAL,GAAY,KAAZ;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,aAAL,GAAqB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAArB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,OAAL,GAAe,CAAf;AACH,GApJI;AAsJLC,EAAAA,KAtJK,mBAsJG;AAAA;;AACJ,SAAKhD,QAAL,CAAciD,MAAd,GAAuBhE,KAAvB;AACA,SAAKiB,UAAL,CAAgB+C,MAAhB,GAAyB,MAAzB;AACA,SAAKC,MAAL;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgB,KAAK5B,UAAL,CAAgB6B,YAAhC,EAA8C,UAAAC,EAAE,EAAI;AAChD,MAAA,KAAI,CAAC9D,UAAL,CAAgB+D,WAAhB,GAA8BD,EAA9B;AACH,KAFD;AAGA,SAAK1D,WAAL,CAAiBqD,MAAjB,GAA0B,KAAKzB,UAAL,CAAgBgC,UAA1C;AACA,SAAK1D,WAAL,CAAiBmD,MAAjB,GAA0B,KAAKzB,UAAL,CAAgBiC,UAAhB,CAA2BC,OAA3B,CAAmC,CAAnC,CAA1B;AACH,GA/JI;AAiKLC,EAAAA,OAjKK,mBAiKGC,KAjKH,EAiKUC,IAjKV,EAiKgB;AAAA;;AACjB,QAAIA,IAAI,IAAI,MAAZ,EAAoB;AAChB,UAAI,KAAKtB,SAAL,GAAiB,CAAjB,IAAsB,KAAKD,SAA3B,IAAwC,KAAKK,QAA7C,IAAyD,KAAKE,WAA9D,IAA6E,KAAKC,UAAtF,EAAkG;AAC9F;AACH;;AACD,WAAKb,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACA,WAAKvB,OAAL,CAAa6C,WAAb,GAA2B,KAAK/C,OAAL,CAAasD,cAAb,CAA4B,KAAK7B,IAAL,GAAY,aAAZ,GAA4B,YAAxD,CAA3B;;AACA,UAAI,KAAKA,IAAL,IAAa,KAAKC,MAAL,IAAe,CAAhC,EAAmC;AAC/B,aAAK6B,QAAL;AACH;AACJ,KATD,MASO,IAAIF,IAAI,IAAI,MAAZ,EAAoB;AACvB,UAAI,KAAKtB,SAAL,GAAiB,CAAjB,IAAsB,KAAKD,SAA3B,IAAwC,KAAKK,QAA7C,IAAyD,KAAKE,WAA9D,IAA6E,KAAKC,UAAtF,EAAkG;AAC9F;AACH;;AACD,UAAI,CAAC,KAAKb,IAAV,EAAgB;AACZ,YAAI,KAAKC,MAAL,IAAe,CAAnB,EAAsB;AAClB,eAAK9B,WAAL,CAAiB4D,IAAjB;AACA,eAAK9B,MAAL,GAAc,CAAd;AACA,eAAK6B,QAAL;AACH,SAJD,MAIO,IAAI,KAAK7B,MAAL,IAAe,CAAnB,EAAsB;AACzB,cAAI,KAAKQ,UAAL,CAAgBuB,SAAhB,CAA0BC,WAA1B,CAAsCC,KAA1C,EAAiD;AAC7C;AACH;;AACD,eAAKrB,UAAL,GAAkB,IAAlB;AACA,eAAKsB,YAAL,CAAkB,YAAM;AACpB,YAAA,MAAI,CAACtB,UAAL,GAAkB,KAAlB;AACH,WAFD,EAEG,CAFH;AAGA,eAAKuB,eAAL;AACH;AACJ;AACJ,KApBM,MAoBA,IAAIR,IAAI,IAAI,KAAZ,EAAmB;AACtB,UAAI,KAAKtB,SAAL,GAAiB,CAAjB,IAAsB,KAAKD,SAA3B,IAAwC,KAAKK,QAA7C,IAAyD,KAAKV,IAAlE,EAAwE;AACpE;AACH;;AACD,WAAKD,GAAL,IAAY,CAAZ;AACA,WAAKA,GAAL,GAAW,KAAKA,GAAL,IAAY7C,GAAG,CAACmF,MAAhB,GAAyBnF,GAAG,CAACmF,MAAJ,GAAa,CAAtC,GAA0C,KAAKtC,GAA1D;AACA,WAAKkB,MAAL;AACH,KAPM,MAOA,IAAIW,IAAI,IAAI,KAAZ,EAAmB;AACtB,UAAI,KAAKtB,SAAL,GAAiB,CAAjB,IAAsB,KAAKD,SAA3B,IAAwC,KAAKK,QAA7C,IAAyD,KAAKV,IAAlE,EAAwE;AACpE;AACH;;AACD,WAAKD,GAAL,IAAY,CAAZ;AACA,WAAKA,GAAL,GAAW,KAAKA,GAAL,IAAY,CAAZ,GAAgB,KAAKA,GAArB,GAA2B,CAAtC;AACA,WAAKkB,MAAL;AACH,KAPM,MAOA,IAAIW,IAAI,IAAI,aAAZ,EAA2B;AAC9B,WAAK/B,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACH,KAFM,MAEA,IAAIV,IAAI,IAAI,MAAZ,EAAoB;AACvB,WAAKxC,MAAL,CAAYmD,MAAZ,GAAqB,IAArB;AACH,KAFM,MAEA,IAAIX,IAAI,IAAI,WAAZ,EAAyB;AAC5B,WAAKxC,MAAL,CAAYmD,MAAZ,GAAqB,KAArB;AACH,KAFM,MAEA,IAAIX,IAAI,IAAI,UAAZ,EAAwB;AAC3B,WAAKlC,GAAL,CAAS8C,MAAT,CAAgBC,UAAhB;AACAtF,MAAAA,EAAE,CAACuF,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACH,KAHM,MAGA,IAAIf,IAAI,IAAI,OAAZ,EAAqB;AACxB,WAAK/B,KAAL,CAAW+C,KAAX,CAAiBC,YAAjB,GAAgC,CAAC,KAAKhD,KAAL,CAAW+C,KAAX,CAAiBC,YAAlD;AACA,WAAKxD,QAAL,CAAciC,WAAd,GAA4B,KAAK/C,OAAL,CAAasD,cAAb,CAA4B,KAAKhC,KAAL,CAAW+C,KAAX,CAAiBC,YAAjB,GAAgC,WAAhC,GAA8C,aAA1E,CAA5B;;AACA,UAAI,CAAC,KAAKhD,KAAL,CAAW+C,KAAX,CAAiBC,YAAtB,EAAoC;AAChC,aAAKhD,KAAL,CAAWiD,SAAX;AACH,OAFD,MAEO;AACH,YAAI,KAAKxC,SAAL,GAAiB,CAArB,EAAwB;AACpB,eAAKT,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACH,SAFD,MAEO,IAAI,KAAKjC,SAAT,EAAoB;AACvB,eAAKR,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACH,SAFM,MAEA;AACH,eAAKzC,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACH;AACJ;AACJ,KAdM,MAcA,IAAIV,IAAI,IAAI,WAAZ,EAAyB;AAC5B,UAAI,KAAKtB,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACH;;AACD,WAAKZ,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe;AAAEzF,QAAAA,IAAI,EAAE;AAAR,OAAf,CAArC;AACH,KALM,MAKA,IAAIoE,IAAI,IAAI,WAAZ,EAAyB;AAC5B,UAAI,KAAKtB,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACH;;AACD,WAAKZ,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe;AAAEzF,QAAAA,IAAI,EAAE;AAAR,OAAf,CAArC;AACH,KALM,MAKA,IAAIoE,IAAI,IAAI,WAAZ,EAAyB;AAC5B,UAAI,KAAKtB,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACH;;AACD,WAAKZ,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe;AAAEzF,QAAAA,IAAI,EAAE;AAAR,OAAf,CAArC;AACH,KALM,MAKA,IAAIoE,IAAI,IAAI,WAAZ,EAAyB;AAC5B,UAAI,KAAKtB,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACH;;AACD,WAAKZ,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe;AAAEzF,QAAAA,IAAI,EAAE;AAAR,OAAf,CAArC;AACH,KALM,MAKA,IAAIoE,IAAI,IAAI,WAAZ,EAAyB;AAC5B,UAAI,KAAKtB,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACH;;AACD,WAAKZ,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAe;AAAEzF,QAAAA,IAAI,EAAE;AAAR,OAAf,CAArC;AACH;AACJ,GA9PI;AAgQLyD,EAAAA,MAhQK,oBAgQI;AACL,SAAKnD,MAAL,CAAYkD,MAAZ,GAAqB,CAACjE,MAAM,GAAG,KAAKwC,UAAL,CAAgB2D,YAA1B,EAAwCzB,OAAxC,CAAgD,CAAhD,CAArB;AACA,SAAKzD,SAAL,CAAegD,MAAf,GAAwB,CAAC9D,GAAG,CAAC,KAAK6C,GAAN,CAAH,GAAgBhD,MAAhB,GAAyB,KAAKwC,UAAL,CAAgB2D,YAA1C,EAAwDzB,OAAxD,CAAgE,CAAhE,CAAxB;;AACA,SAAK,IAAI0B,CAAT,IAAc,KAAKjF,WAAnB,EAAgC;AAC5B,WAAKA,WAAL,CAAiBiF,CAAjB,EAAoBnC,MAApB,GAA6B,CAAC/D,MAAM,CAACkG,CAAD,CAAN,IAAa,KAAKpD,GAAL,GAAW,CAAxB,IAA6BhD,MAA7B,GAAsC,KAAKwC,UAAL,CAAgB2D,YAAvD,EAAqEzB,OAArE,CAA6E,CAA7E,CAA7B;AACH;AACJ,GAtQI;AAwQL2B,EAAAA,aAxQK,2BAwQW;AAAA;;AACZ,QAAIC,EAAE,GAAG,CAAT;;AACA,SAAK,IAAIF,CAAT,IAAc,KAAKrD,SAAnB,EAA8B;AAC1B,UAAI,KAAKA,SAAL,CAAeqD,CAAf,EAAkBlD,MAAtB,EAA8B;AAC1BoD,QAAAA,EAAE,GAAG,CAAL;AACA;AACH;AACJ;;AACD,SAAKpD,MAAL,GAAcoD,EAAd;;AACA,QAAI,KAAKpD,MAAL,IAAe,CAAnB,EAAsB;AAClB;AACA,UAAIqD,MAAM,GAAG,KAAK9C,SAAlB;AACA,WAAK3C,WAAL,CAAiBmD,MAAjB,GAA0B,CAAC,KAAKP,UAAL,CAAgB8C,SAAhB,GAA4B,KAAKhE,UAAL,CAAgB2D,YAA7C,EAA2DzB,OAA3D,CAAmE,CAAnE,CAA1B;AACA,WAAKxD,UAAL,CAAgB+C,MAAhB,GAAyB,CAAC,KAAKP,UAAL,CAAgB+C,QAAhB,GAA2B,KAAKjE,UAAL,CAAgB2D,YAA5C,EAA0DzB,OAA1D,CAAkE,CAAlE,CAAzB;;AACA,UAAI,KAAKb,WAAT,EAAsB;AAClB,aAAKD,YAAL,IAAqB,KAAKF,UAAL,CAAgB+C,QAArC;AACH;;AAED,WAAKrB,YAAL,CAAkB,YAAM;AACpB,YAAImB,MAAM,IAAI,MAAI,CAAC9C,SAAnB,EAA8B;AAC1B,UAAA,MAAI,CAACM,OAAL,IAAgB,CAAhB;;AACA,UAAA,MAAI,CAAC2C,WAAL,CAAiB,MAAI,CAAC3C,OAAtB;AACH;AACJ,OALD,EAKG,CALH;;AAOA,UAAI,KAAKL,UAAL,CAAgBuB,SAAhB,CAA0BC,WAA1B,CAAsCC,KAA1C,EAAiD;AAC7C,aAAKtB,WAAL,GAAmB,IAAnB;;AACA,YAAI,KAAKH,UAAL,CAAgBuB,SAAhB,CAA0BC,WAA1B,CAAsCyB,SAAtC,IAAmD,CAAvD,EAA0D;AACtD,eAAK1D,IAAL,GAAY,KAAZ;AACA,eAAKmC,YAAL,CAAkB,YAAM;AACpB,YAAA,MAAI,CAAClD,aAAL,CAAmBsD,MAAnB,GAA4B,IAA5B;AACH,WAFD,EAEG,CAFH;AAGH,SALD,MAKO;AACH,eAAKjC,SAAL,GAAiB,KAAKG,UAAL,CAAgBuB,SAAhB,CAA0BC,WAA1B,CAAsC0B,SAAvD;AACA,eAAKjD,QAAL,GAAgB,KAAhB;AACH;AACJ;AACJ;AACJ,GA9SI;AAgTL+C,EAAAA,WAhTK,uBAgTOG,EAhTP,EAgTW;AAAA;;AACZ;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,OAAO,GAAG,EAAd;;AAEA,SAAK,IAAIX,CAAT,IAAc,KAAK1C,UAAL,CAAgBuB,SAAhB,CAA0B+B,SAAxC,EAAmD;AAC/C,UAAI,KAAKtD,UAAL,CAAgBuB,SAAhB,CAA0B+B,SAA1B,CAAoCZ,CAApC,CAAJ,EAA4C;AACxCW,QAAAA,OAAO,CAACE,IAAR,CAAab,CAAb;AACH;AACJ;;AACD,QAAIc,KAAK,GAAG,KAAKxD,UAAL,CAAgBuB,SAAhB,CAA0BkC,eAAtC;AACA,QAAIZ,MAAM,GAAG,KAAK9C,SAAlB;AACA,QAAI2D,IAAI,GAAI,KAAK7D,SAAL,GAAiB,CAAjB,IAAsB,KAAKI,QAA5B,GAAwC,CAACoD,OAAD,CAAxC,IAAsDA,OAAtD,SAAkEG,KAAlE,CAAX;AACAJ,IAAAA,UAAU,GAAGM,IAAI,CAAC9B,MAAL,GAAc,CAA3B;;AACA,QAAIwB,UAAU,GAAG,CAAjB,EAAoB;AAChB;AACA,WAAKjF,eAAL,CAAqB2D,MAArB,GAA8B,IAA9B;AACA,WAAK3D,eAAL,CAAqBgB,YAArB,CAAkCyB,EAAE,CAAC+C,QAArC,EAA+CC,UAA/C,CAA0D,CAA1D;AACA,WAAKzF,eAAL,CAAqBgB,YAArB,CAAkCyB,EAAE,CAAC+C,QAArC,EAA+CE,YAA/C,CAA4D,CAA5D,EAA+D,QAA/D,EAAyE,KAAzE,EAJgB,CAKhB;;AACA,WAAKzF,eAAL,CAAqB0D,MAArB,GAA8B,IAA9B;AACA,UAAIgC,QAAQ,GAAG,KAAK1F,eAAL,CAAqB2F,cAArB,CAAoC,UAApC,EAAgD5E,YAAhD,CAA6DzC,EAAE,CAACS,KAAhE,CAAf;AACA,UAAI6G,OAAO,GAAG,CAAd;AACA,WAAKC,QAAL,CAAc,YAAM;AAChBD,QAAAA,OAAO,IAAI,MAAI,CAAChE,UAAL,CAAgB+C,QAAhB,GAA2B,EAAtC;;AACA,YAAIiB,OAAO,GAAG,MAAI,CAAChE,UAAL,CAAgB+C,QAA9B,EAAwC;AACpCiB,UAAAA,OAAO,GAAG,MAAI,CAAChE,UAAL,CAAgB+C,QAA1B;AACH;;AACDe,QAAAA,QAAQ,CAACvD,MAAT,GAAkB,CAACyD,OAAO,GAAG,MAAI,CAAClF,UAAL,CAAgB2D,YAA3B,EAAyCzB,OAAzC,CAAiD,CAAjD,CAAlB;AACH,OAND,EAMG,CANH,EAMM,EANN,EAMU,IANV,EATgB,CAgBhB;;AACA,UAAI,KAAKhB,UAAL,CAAgB+C,QAAhB,GAA2BtG,GAAG,CAAC,KAAK6C,GAAN,CAAH,GAAgBhD,MAA/C,EAAuD;AAAE;AACrD,aAAK+B,iBAAL,CAAuByD,MAAvB,GAAgC,IAAhC;AACA,aAAKzD,iBAAL,CAAuBc,YAAvB,CAAoCyB,EAAE,CAAC+C,QAAvC,EAAiDC,UAAjD,CAA4D,CAA5D;AACA,aAAKvF,iBAAL,CAAuBc,YAAvB,CAAoCyB,EAAE,CAAC+C,QAAvC,EAAiDE,YAAjD,CAA8D,CAA9D,EAAiE,YAAjE,EAA+E,IAA/E;AACH;AACJ;;AACD,QAAIK,SAAS,GAAG,CAAhB;AACA,SAAKD,QAAL,CAAc,YAAM;AAChB,UAAIpB,MAAM,IAAI,MAAI,CAAC9C,SAAnB,EAA8B;AAC1B,QAAA,MAAI,CAACoE,UAAL;;AACA,aAAK,IAAIzB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,EAApB,EAAwBA,EAAC,EAAzB,EAA6B;AACzB,UAAA,MAAI,CAAC0B,SAAL,CAAe1B,EAAC,GAAG,CAAnB,EAAsB2B,QAAQ,CAAC3B,EAAC,GAAG,CAAL,CAA9B;AACH;;AACD,YAAI,CAAC,CAAC,CAACgB,IAAI,CAACQ,SAAD,CAAX,EAAwB;AACpB;AACH;;AACD,aAAK,IAAII,CAAT,IAAcZ,IAAI,CAACQ,SAAD,CAAlB,EAA+B;AAC3B;AACA,UAAA,MAAI,CAACK,QAAL,CAAcb,IAAI,CAACQ,SAAD,CAAJ,CAAgBI,CAAhB,IAAqB,CAAnC,EAAsCD,QAAQ,CAACX,IAAI,CAACQ,SAAD,CAAJ,CAAgBI,CAAhB,IAAqB,CAAtB,CAA9C,EAAwE,MAAI,CAACtE,UAAL,CAAgBuB,SAAhB,CAA0BiD,SAAlG;AACH;;AACDN,QAAAA,SAAS;AACZ;AACJ,KAfD,EAeG,CAfH,EAeMR,IAAI,CAAC9B,MAfX,EAemB,IAfnB;AAkBA,SAAKF,YAAL,CAAkB,YAAM;AACpB,UAAIyB,EAAE,IAAI,MAAI,CAAC9C,OAAf,EAAwB;AAAC;AACrB;AACH;;AACD,MAAA,MAAI,CAAClC,eAAL,CAAqB2D,MAArB,GAA8B,KAA9B;AACA,MAAA,MAAI,CAAC1D,eAAL,CAAqB0D,MAArB,GAA8B,KAA9B;;AACA,MAAA,MAAI,CAACzD,iBAAL,CAAuBc,YAAvB,CAAoCyB,EAAE,CAAC+C,QAAvC,EAAiDC,UAAjD,CAA4D,CAA5D;;AACA,MAAA,MAAI,CAACvF,iBAAL,CAAuByD,MAAvB,GAAgC,KAAhC;;AACA,UAAI,MAAI,CAAC7B,QAAT,EAAmB;AACf,QAAA,MAAI,CAACA,QAAL,GAAgB,KAAhB;;AACA,QAAA,MAAI,CAACwE,aAAL;;AACA,QAAA,MAAI,CAACN,UAAL;AACH;;AACD,UAAI,MAAI,CAACtE,SAAL,GAAiB,CAArB,EAAwB;AACpB,QAAA,MAAI,CAACA,SAAL;AACA,QAAA,MAAI,CAACnB,aAAL,CAAmBqF,cAAnB,CAAkC,KAAlC,EAAyCA,cAAzC,CAAwD,WAAxD,EAAqE5E,YAArE,CAAkFzC,EAAE,CAACS,KAArF,EAA4FoD,MAA5F,GAAqG,MAAI,CAACV,SAA1G;;AACA,YAAI,MAAI,CAACA,SAAL,IAAkB,CAAtB,EAAyB;AACrB,UAAA,MAAI,CAACI,QAAL,GAAgB,IAAhB;AACH;;AACD,QAAA,MAAI,CAACV,IAAL,IAAa,MAAI,CAAC8B,QAAL,EAAb;AACH;;AACD,UAAIwB,MAAM,IAAI,MAAI,CAAC9C,SAAnB,EAA8B;AAC1B,QAAA,MAAI,CAACR,IAAL,IAAa,MAAI,CAACM,SAAL,IAAkB,CAA/B,IAAoC,MAAI,CAACwB,QAAL,EAApC;AACH;AACJ,KAxBD,EAwBG+B,UAAU,GAAG,CAAb,GAAiBA,UAAU,GAAG,CAA9B,GAAkC,CAxBrC;AAyBH,GAjYI;AAmYL;AACAsB,EAAAA,aApYK,2BAoYW;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;;AACA,QAAI,KAAK/E,SAAL,IAAkB,CAAtB,EAAyB;AACrB;AACH;;AACD,SAAKT,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACA,SAAK3B,YAAL,GAAoB,CAApB;AACA,SAAK5B,MAAL,CAAYwD,MAAZ,GAAqB,KAArB;AACA,SAAK3B,WAAL,GAAmB,IAAnB;AACA,SAAK5B,UAAL,CAAgBuD,MAAhB,GAAyB,IAAzB;AACA,SAAK9D,OAAL,CAAa6C,WAAb,GAA2B,KAAK/C,OAAL,CAAasD,cAAb,CAA4B,YAA5B,CAA3B;;AACA,SAAK,IAAIsB,CAAT,IAAc,KAAKmC,YAAnB,EAAiC;AAC7B,WAAKA,YAAL,CAAkBnC,CAAlB,EAAqBZ,MAArB,GAA8B,KAA9B;AACH;;AAED,SAAK,IAAIY,GAAT,IAAc,KAAKrD,SAAnB,EAA8B;AAC1B,WAAKA,SAAL,CAAeqD,GAAf,EAAkBoC,SAAlB;AACH;;AACD,SAAKpG,aAAL,CAAmBoD,MAAnB,GAA4B,IAA5B;AACA,SAAKpD,aAAL,CAAmBqF,cAAnB,CAAkC,KAAlC,EAAyCA,cAAzC,CAAwD,WAAxD,EAAqE5E,YAArE,CAAkFzC,EAAE,CAACS,KAArF,EAA4FoD,MAA5F,GAAqG,KAAKV,SAA1G,CAnBY,CAoBZ;;AACA,SAAKN,IAAL,GAAY,IAAZ;AACA,SAAK8B,QAAL,GAtBY,CAuBZ;AACH,GA5ZI;AA8ZLoD,EAAAA,aA9ZK,2BA8ZW;AAAA;;AACZE,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6C,KAAK1E,YAAlD;AACA,SAAKd,KAAL,CAAWyC,OAAX,CAAmB,CAAnB;AACA,SAAKtC,IAAL,GAAY,KAAZ;;AACA,SAAK,IAAImD,CAAT,IAAc,KAAKmC,YAAnB,EAAiC;AAC7B,WAAKA,YAAL,CAAkBnC,CAAlB,EAAqBZ,MAArB,GAA8B,IAA9B;AACH;;AAED,SAAK,IAAIY,GAAT,IAAc,KAAKrD,SAAnB,EAA8B;AAC1B,WAAKA,SAAL,CAAeqD,GAAf,EAAkBoC,SAAlB;AACH;;AACD,SAAKpG,aAAL,CAAmBoD,MAAnB,GAA4B,KAA5B;AACA,SAAKrD,WAAL,CAAiBqD,MAAjB,GAA0B,IAA1B;AACA,SAAKrD,WAAL,CAAiBsF,cAAjB,CAAgC,UAAhC,EAA4C5E,YAA5C,CAAyDzC,EAAE,CAACS,KAA5D,EAAmEoD,MAAnE,GAA4E,CAAC,KAAKL,YAAL,GAAoB,KAAKpB,UAAL,CAAgB2D,YAArC,EAAmDzB,OAAnD,CAA2D,CAA3D,CAA5E;AACA,SAAKU,YAAL,CAAkB,YAAM;AACpB,MAAA,MAAI,CAACjD,WAAL,CAAiBqD,MAAjB,GAA0B,KAA1B;AACA,MAAA,MAAI,CAACxD,MAAL,CAAYwD,MAAZ,GAAqB,IAArB;AACA,MAAA,MAAI,CAACvD,UAAL,CAAgBuD,MAAhB,GAAyB,KAAzB;AACA,MAAA,MAAI,CAAC3B,WAAL,GAAmB,KAAnB;AACH,KALD,EAKG,CALH;AAOH,GAnbI;AAqbL4E,EAAAA,aArbK,yBAqbSC,IArbT,EAqbe;AAChB,QAAIA,IAAI,CAACjI,IAAL,GAAY,CAAhB,EAAmB;AACf,WAAKyB,aAAL,CAAmBsD,MAAnB,GAA4B,KAA5B;AACA,WAAKjC,SAAL,GAAiBmF,IAAI,CAACC,SAAtB;AACA,WAAKd,UAAL;AACA,WAAKO,aAAL;AACH;AACJ,GA5bI;AA8bL;AACAH,EAAAA,QA/bK,oBA+bIW,IA/bJ,EA+bUC,KA/bV,EA+biBC,MA/bjB,EA+byB;AAC1B,SAAKhG,KAAL,CAAWiG,MAAX;AACA,QAAIzD,MAAM,GAAG,KAAKvC,SAAL,CAAe6F,IAAf,EAAqBI,UAArB,CAAgC1D,MAA7C;AACA,SAAKvC,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDhG,YAApD,CAAiE,eAAjE,EAAkFqG,QAAlF,GAH0B,CAI1B;;AACA,QAAI,KAAKnG,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDpB,cAApD,CAAmE,QAAnE,KAAgFqB,MAAM,GAAG,CAA7F,EAAgG;AAC5F,WAAK/F,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDpB,cAApD,CAAmE,QAAnE,EAA6EjC,MAA7E,GAAsF,IAAtF;AACA,WAAKzC,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDpB,cAApD,CAAmE,QAAnE,EAA6E5E,YAA7E,CAA0FzC,EAAE,CAACS,KAA7F,EAAoGoD,MAApG,GAA6G,MAAM6E,MAAnH;AACH,KARyB,CAS1B;;;AACA,QAAIK,QAAQ,GAAG,KAAKxH,YAAL,CAAkByH,QAAjC;AACAD,IAAAA,QAAQ,CAACP,IAAI,GAAG,CAAP,GAAWC,KAAZ,CAAR,CAA2BrD,MAA3B,GAAoC,IAApC;AACA2D,IAAAA,QAAQ,CAACP,IAAI,GAAG,CAAP,GAAWC,KAAZ,CAAR,CAA2BhG,YAA3B,CAAwCzC,EAAE,CAACiB,SAA3C,EAAsD2D,IAAtD;AACH,GA5cI;AA8cL8C,EAAAA,SA9cK,qBA8cKc,IA9cL,EA8cWC,KA9cX,EA8ckB;AACnB,QAAIvD,MAAM,GAAG,KAAKvC,SAAL,CAAe6F,IAAf,EAAqBI,UAArB,CAAgC1D,MAA7C;AACA,SAAKvC,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDhG,YAApD,CAAiE,eAAjE,EAAkFwG,QAAlF,GAFmB,CAGnB;;AACA,QAAI,KAAKtG,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDpB,cAApD,CAAmE,QAAnE,CAAJ,EAAkF;AAC9E,WAAK1E,SAAL,CAAe6F,IAAf,EAAqBK,UAArB,CAAgC3D,MAAM,GAAG,CAAT,GAAauD,KAA7C,EAAoDpB,cAApD,CAAmE,QAAnE,EAA6EjC,MAA7E,GAAsF,KAAtF;AACH,KANkB,CAOnB;;;AACA,QAAI2D,QAAQ,GAAG,KAAKxH,YAAL,CAAkByH,QAAjC;AACAD,IAAAA,QAAQ,CAACP,IAAI,GAAG,CAAP,GAAWC,KAAZ,CAAR,CAA2BrD,MAA3B,GAAoC,KAApC;AACH,GAxdI;AA0dL8D,EAAAA,aA1dK,yBA0dSlC,IA1dT,EA0de;AAChB,yDAAuBA,IAAvB,wCAA6B;AAAA,UAAlBmC,QAAkB;;AACzB,UAAIA,QAAQ,IAAI,KAAKjI,MAAL,CAAYgE,MAA5B,EAAoC;AAChC,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAjeI;AAmeLkE,EAAAA,IAneK,gBAmeApC,IAneA,EAmeM;AACP,QAAI,CAAC,KAAKkC,aAAL,CAAmBlC,IAAnB,CAAL,EAA+B;AAC3BqC,MAAAA,KAAK,8PAAL;AAIA;AACH;;AACD,SAAKvG,MAAL,GAAc,CAAd;AACA,QAAIwG,IAAI,GAAG,EAAX;;AACA,SAAK,IAAItD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxBsD,MAAAA,IAAI,CAACtD,CAAD,CAAJ,GAAU,EAAV;AACH;;AACD,SAAK,IAAIA,GAAT,IAAcgB,IAAd,EAAoB;AAChBsC,MAAAA,IAAI,CAACtD,GAAC,GAAG,CAAL,CAAJ,CAAY,IAAI2B,QAAQ,CAAC3B,GAAC,GAAG,CAAL,CAAxB,IAAmCgB,IAAI,CAAChB,GAAD,CAAvC;AACH;;AACD,SAAK,IAAIA,GAAT,IAAc,KAAKrD,SAAnB,EAA8B;AAAA;;AAC1B,iCAAKA,SAAL,CAAeqD,GAAf,GAAkBuD,SAAlB,2BAA+BD,IAAI,CAACtD,GAAD,CAAnC;AACH;AACJ,GAtfI;AAwfLyB,EAAAA,UAxfK,wBAwfQ;AACT,QAAIsB,QAAQ,GAAG,KAAKxH,YAAL,CAAkByH,QAAjC;;AACA,SAAK,IAAIhD,CAAT,IAAc+C,QAAd,EAAwB;AACpBA,MAAAA,QAAQ,CAAC/C,CAAD,CAAR,CAAYZ,MAAZ,GAAqB,KAArB;AACH;;AACD,SAAK1D,eAAL,CAAqB0D,MAArB,GAA8B,KAA9B;AACH,GA9fI;AAggBLT,EAAAA,QAhgBK,sBAggBM;AACP,SAAKtB,SAAL;AACA,SAAKoE,UAAL;AACA,QAAI+B,QAAQ,GAAG3D,IAAI,CAACC,SAAL,CAAe;AAC1BlD,MAAAA,GAAG,EAAE,KAAKA,GADgB;AAE1B6G,MAAAA,QAAQ,EAAE,CAAC1J,GAAG,CAAC,KAAK6C,GAAN,CAAH,GAAgBhD,MAAjB;AAFgB,KAAf,CAAf;AAIAqI,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BsB,QAA9B;AACA,SAAKjH,GAAL,CAAS8C,MAAT,CAAgBO,IAAhB,CAAqB,SAArB,EAAgC4D,QAAhC;AACA,SAAKE,SAAL,GAAiB,CAAjB;AACH,GA1gBI;AA4gBLzE,EAAAA,eA5gBK,6BA4gBa;AACd,QAAI,CAAC,KAAKpC,IAAV,EAAgB;AACZ,WAAK,IAAImD,CAAT,IAAc,KAAKrD,SAAnB,EAA8B;AAC1B,aAAKA,SAAL,CAAeqD,CAAf,EAAkBf,eAAlB;AACH;AACJ;AACJ;AAlhBI,CAAT","sourceRoot":"/","sourcesContent":["const BETNUM = 600; //单注值\r\nconst LINES = 243; //线数\r\nconst TOPBET = [30, 1000, 100, 10];\r\nconst BET = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        spUserFace: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n            displayName: '用户头像',\r\n        },\r\n        lblUserName: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '用户名',\r\n        },\r\n        lblUserCoin: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '用户金币',\r\n        },\r\n        lblBet: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '单注',\r\n        },\r\n        lblLines: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '线数',\r\n        },\r\n        lblCurBet: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '本局总注',\r\n        },\r\n        lblWinCoin: {\r\n            default: null,\r\n            type: cc.Label,\r\n            displayName: '本局赢得',\r\n        },\r\n        lblCoinList: {\r\n            default: [],\r\n            type: cc.Label,\r\n            displayName: '列倍率显示',\r\n        },\r\n        rollBtnAnim: {\r\n            default: null,\r\n            type: cc.Animation,\r\n            displayName: 'roll按钮动画',\r\n        },\r\n        rolePb: {\r\n            default: [],\r\n            type: cc.Prefab,\r\n            displayName: '滚轮角色Pb',\r\n        },\r\n        spAtlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas,\r\n            displayName: '图集',\r\n        },\r\n        autoBtn: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n            displayName: '自动按钮Sprite',\r\n        },\r\n        effectAnimPr: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '中奖特效',\r\n        },\r\n        effectAnimFullA: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '中奖全屏特效A',\r\n        },\r\n        effectAnimFullB: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '中奖全屏特效B',\r\n        },\r\n        effectAnimBigFull: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '中大奖全屏特效',\r\n        },\r\n\r\n        BgNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '游戏背景节点',\r\n        },\r\n\r\n        //免费次数有关\r\n        freeBgNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '免费摇奖背景节点',\r\n        },\r\n        freeBeginNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '开始免费摇奖节点',\r\n        },\r\n        freeEndNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '结束免费摇奖节点',\r\n        },\r\n\r\n        freeTimesNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: '免费摇奖显示节点',\r\n        },\r\n\r\n        helpUI: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName: 'help界面',\r\n        },\r\n\r\n        audioBtn: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n            displayName: '声音按钮',\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        this.playerInfo = require(\"PlayerInfo\").getInstant;\r\n        this.net = this.node.getComponent('XYJNetwork');\r\n        this.audio = this.node.getComponent('XYJAudio');\r\n        this.wheelList = [];\r\n        this.bet = 0;\r\n        this.auto = false;\r\n        this.status = 0;\r\n        this.bigWinResList = [3, 1, 2];\r\n        this.bigWinCard = 0;\r\n        this.bigWinCoin = 0;\r\n        this.bigWinBoo = false;\r\n        this.freeTimes = 0;\r\n        this.rollResult = [];\r\n        this.rollIndex = 0;\r\n        this.lotteryRes = null;\r\n        this.stopFree = false;\r\n        this.freeGameCoin = 0;\r\n        this.bIsFreeGame = false;\r\n        this.delayClick = false;\r\n        this.turnNum = 0;\r\n    },\r\n\r\n    start() {\r\n        this.lblLines.string = LINES;\r\n        this.lblWinCoin.string = '0.00';\r\n        this.setBet();\r\n        Helper.loadHead(this.playerInfo.playerHeadId, sp => {\r\n            this.spUserFace.spriteFrame = sp;\r\n        });\r\n        this.lblUserName.string = this.playerInfo.playerName;\r\n        this.lblUserCoin.string = this.playerInfo.playerCoin.toFixed(2);\r\n    },\r\n\r\n    onCLick(event, args) {\r\n        if (args == 'auto') {\r\n            if (this.freeTimes > 0 || this.bigWinBoo || this.stopFree || this.bIsFreeGame || this.delayClick) {\r\n                return;\r\n            }\r\n            this.auto = !this.auto;\r\n            this.autoBtn.spriteFrame = this.spAtlas.getSpriteFrame(this.auto ? 'btn_tingzhi' : 'btn_zidong');\r\n            if (this.auto && this.status == 0) {\r\n                this.sendRoll();\r\n            }\r\n        } else if (args == 'roll') {\r\n            if (this.freeTimes > 0 || this.bigWinBoo || this.stopFree || this.bIsFreeGame || this.delayClick) {\r\n                return;\r\n            }\r\n            if (!this.auto) {\r\n                if (this.status == 0) {\r\n                    this.rollBtnAnim.play();\r\n                    this.status = 2;\r\n                    this.sendRoll();\r\n                } else if (this.status == 1) {\r\n                    if (this.lotteryRes.viewarray.getFreeTime.bFlag) {\r\n                        return;\r\n                    }\r\n                    this.delayClick = true;\r\n                    this.scheduleOnce(() => {\r\n                        this.delayClick = false;\r\n                    }, 1);\r\n                    this.stopImmediately();\r\n                }\r\n            }\r\n        } else if (args == 'add') {\r\n            if (this.freeTimes > 0 || this.bigWinBoo || this.stopFree || this.auto) {\r\n                return;\r\n            }\r\n            this.bet += 1;\r\n            this.bet = this.bet >= BET.length ? BET.length - 1 : this.bet;\r\n            this.setBet();\r\n        } else if (args == 'dec') {\r\n            if (this.freeTimes > 0 || this.bigWinBoo || this.stopFree || this.auto) {\r\n                return;\r\n            }\r\n            this.bet -= 1;\r\n            this.bet = this.bet >= 0 ? this.bet : 0;\r\n            this.setBet();\r\n        } else if (args == 'closeBigWin') {\r\n            this.audio.playBgm(0);\r\n        } else if (args == 'help') {\r\n            this.helpUI.active = true;\r\n        } else if (args == 'closeHelp') {\r\n            this.helpUI.active = false;\r\n        } else if (args == 'exitGame') {\r\n            this.net.socket.disconnect();\r\n            cc.director.loadScene(\"LobbyMain\");\r\n        } else if (args == 'audio') {\r\n            this.audio.pInfo.musicControl = !this.audio.pInfo.musicControl;\r\n            this.audioBtn.spriteFrame = this.spAtlas.getSpriteFrame(this.audio.pInfo.musicControl ? 'btn_sound' : 'btn_sound_2');\r\n            if (!this.audio.pInfo.musicControl) {\r\n                this.audio.stopAudio();\r\n            } else {\r\n                if (this.freeTimes > 0) {\r\n                    this.audio.playBgm(1);\r\n                } else if (this.bigWinBoo) {\r\n                    this.audio.playBgm(2);\r\n                } else {\r\n                    this.audio.playBgm(0);\r\n                }\r\n            }\r\n        } else if (args == 'freeType1') {\r\n            if (this.freeTimes > 0) {\r\n                return;\r\n            }\r\n            this.net.socket.emit('freeTimeType', JSON.stringify({ type: 1 }));\r\n        } else if (args == 'freeType2') {\r\n            if (this.freeTimes > 0) {\r\n                return;\r\n            }\r\n            this.net.socket.emit('freeTimeType', JSON.stringify({ type: 2 }));\r\n        } else if (args == 'freeType3') {\r\n            if (this.freeTimes > 0) {\r\n                return;\r\n            }\r\n            this.net.socket.emit('freeTimeType', JSON.stringify({ type: 3 }));\r\n        } else if (args == 'freeType4') {\r\n            if (this.freeTimes > 0) {\r\n                return;\r\n            }\r\n            this.net.socket.emit('freeTimeType', JSON.stringify({ type: 4 }));\r\n        } else if (args == 'freeType5') {\r\n            if (this.freeTimes > 0) {\r\n                return;\r\n            }\r\n            this.net.socket.emit('freeTimeType', JSON.stringify({ type: 5 }));\r\n        }\r\n    },\r\n\r\n    setBet() {\r\n        this.lblBet.string = (BETNUM / this.playerInfo.exchangeRate).toFixed(2);\r\n        this.lblCurBet.string = (BET[this.bet] * BETNUM / this.playerInfo.exchangeRate).toFixed(2);\r\n        for (let i in this.lblCoinList) {\r\n            this.lblCoinList[i].string = (TOPBET[i] * (this.bet + 1) * BETNUM / this.playerInfo.exchangeRate).toFixed(2);\r\n        }\r\n    },\r\n\r\n    stateCallBack() {\r\n        let st = 0;\r\n        for (let i in this.wheelList) {\r\n            if (this.wheelList[i].status) {\r\n                st = 1;\r\n                break;\r\n            }\r\n        }\r\n        this.status = st;\r\n        if (this.status == 0) {\r\n            //结束当前轮盘\r\n            let rIndex = this.rollIndex;\r\n            this.lblUserCoin.string = (this.lotteryRes.userscore / this.playerInfo.exchangeRate).toFixed(2);\r\n            this.lblWinCoin.string = (this.lotteryRes.winscore / this.playerInfo.exchangeRate).toFixed(2);\r\n            if (this.bIsFreeGame) {\r\n                this.freeGameCoin += this.lotteryRes.winscore;\r\n            }\r\n\r\n            this.scheduleOnce(() => {\r\n                if (rIndex == this.rollIndex) {\r\n                    this.turnNum += 1;\r\n                    this.playWinAnim(this.turnNum);\r\n                }\r\n            }, 1);\r\n\r\n            if (this.lotteryRes.viewarray.getFreeTime.bFlag) {\r\n                this.bIsFreeGame = true;\r\n                if (this.lotteryRes.viewarray.getFreeTime.nFreeType == 0) {\r\n                    this.auto = false;\r\n                    this.scheduleOnce(() => {\r\n                        this.freeBeginNode.active = true;\r\n                    }, 2);\r\n                } else {\r\n                    this.freeTimes = this.lotteryRes.viewarray.getFreeTime.nFreeTime;\r\n                    this.stopFree = false;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    playWinAnim(tm) {\r\n        //动画结束后自动roll\r\n        let hasWinBool = 0;\r\n        let allLine = [];\r\n\r\n        for (let i in this.lotteryRes.viewarray.nWinCards) {\r\n            if (this.lotteryRes.viewarray.nWinCards[i]) {\r\n                allLine.push(i);\r\n            }\r\n        }\r\n        let lines = this.lotteryRes.viewarray.nWinLinesDetail;\r\n        let rIndex = this.rollIndex;\r\n        let list = (this.freeTimes > 0 || this.stopFree) ? [allLine,] : [allLine, ...lines];\r\n        hasWinBool = list.length - 1;\r\n        if (hasWinBool > 0) {\r\n            //播放恭喜字样动画\r\n            this.effectAnimFullA.active = true;\r\n            this.effectAnimFullA.getComponent(sp.Skeleton).clearTrack(0);\r\n            this.effectAnimFullA.getComponent(sp.Skeleton).setAnimation(0, \"win_cn\", false);\r\n            //播放招财猫动画\r\n            this.effectAnimFullB.active = true;\r\n            let lbl_coin = this.effectAnimFullB.getChildByName(\"lbl_coin\").getComponent(cc.Label);\r\n            let addcoin = 0;\r\n            this.schedule(() => {\r\n                addcoin += this.lotteryRes.winscore / 30;\r\n                if (addcoin > this.lotteryRes.winscore) {\r\n                    addcoin = this.lotteryRes.winscore;\r\n                }\r\n                lbl_coin.string = (addcoin / this.playerInfo.exchangeRate).toFixed(2);\r\n            }, 0, 30, 0.01)\r\n            //判断播放金币掉落动画\r\n            if (this.lotteryRes.winscore > BET[this.bet] * BETNUM) { //如果大于100倍赌注，就播放bigFull动画\r\n                this.effectAnimBigFull.active = true;\r\n                this.effectAnimBigFull.getComponent(sp.Skeleton).clearTrack(0);\r\n                this.effectAnimBigFull.getComponent(sp.Skeleton).setAnimation(0, \"animation1\", true);\r\n            }\r\n        }\r\n        let animIndex = 0;\r\n        this.schedule(() => {\r\n            if (rIndex == this.rollIndex) {\r\n                this.closeShine();\r\n                for (let i = 0; i < 15; i++) {\r\n                    this.clsoeAnim(i % 5, parseInt(i / 5));\r\n                }\r\n                if (!!!list[animIndex]) {\r\n                    return;\r\n                }\r\n                for (let j in list[animIndex]) {\r\n                    // this.showAnim(list[animIndex][j] % 5, parseInt(list[animIndex][j] / 5));//修改\r\n                    this.showAnim(list[animIndex][j] % 5, parseInt(list[animIndex][j] / 5), this.lotteryRes.viewarray.fMultiple);\r\n                }\r\n                animIndex++;\r\n            }\r\n        }, 3, list.length, 0.01)\r\n\r\n\r\n        this.scheduleOnce(() => {\r\n            if (tm != this.turnNum) {//不是当前旋转轮次则跳过后续操作\r\n                return;\r\n            }\r\n            this.effectAnimFullA.active = false;\r\n            this.effectAnimFullB.active = false;\r\n            this.effectAnimBigFull.getComponent(sp.Skeleton).clearTrack(0);\r\n            this.effectAnimBigFull.active = false;\r\n            if (this.stopFree) {\r\n                this.stopFree = false;\r\n                this.stopFreeTimes();\r\n                this.closeShine();\r\n            }\r\n            if (this.freeTimes > 0) {\r\n                this.freeTimes--;\r\n                this.freeTimesNode.getChildByName('txt').getChildByName('New Label').getComponent(cc.Label).string = this.freeTimes;\r\n                if (this.freeTimes == 0) {\r\n                    this.stopFree = true;\r\n                }\r\n                this.auto && this.sendRoll();\r\n            }\r\n            if (rIndex == this.rollIndex) {\r\n                this.auto && this.freeTimes == 0 && this.sendRoll();\r\n            }\r\n        }, hasWinBool > 0 ? hasWinBool * 3 : 1);\r\n    },\r\n\r\n    //免费次数有关\r\n    startFreeGame() {\r\n        console.log(\"startFreeGame\");\r\n        if (this.freeTimes <= 0) {\r\n            return;\r\n        }\r\n        this.audio.playBgm(1);\r\n        this.freeGameCoin = 0;\r\n        this.BgNode.active = false;\r\n        this.bIsFreeGame = true;\r\n        this.freeBgNode.active = true;\r\n        this.autoBtn.spriteFrame = this.spAtlas.getSpriteFrame('btn_zidong');\r\n        for (let i in this.freeHideNode) {\r\n            this.freeHideNode[i].active = false;\r\n        }\r\n\r\n        for (let i in this.wheelList) {\r\n            this.wheelList[i].initWheel();\r\n        }\r\n        this.freeTimesNode.active = true;\r\n        this.freeTimesNode.getChildByName('txt').getChildByName('New Label').getComponent(cc.Label).string = this.freeTimes;\r\n        // this.scheduleOnce(() => {\r\n        this.auto = true;\r\n        this.sendRoll();\r\n        // }, 2);\r\n    },\r\n\r\n    stopFreeTimes() {\r\n        console.log(\"stopFreeTimes freeGameCoin : \", this.freeGameCoin);\r\n        this.audio.playBgm(0);\r\n        this.auto = false;\r\n        for (let i in this.freeHideNode) {\r\n            this.freeHideNode[i].active = true;\r\n        }\r\n\r\n        for (let i in this.wheelList) {\r\n            this.wheelList[i].initWheel();\r\n        }\r\n        this.freeTimesNode.active = false;\r\n        this.freeEndNode.active = true;\r\n        this.freeEndNode.getChildByName(\"lbl_coin\").getComponent(cc.Label).string = (this.freeGameCoin / this.playerInfo.exchangeRate).toFixed(2);\r\n        this.scheduleOnce(() => {\r\n            this.freeEndNode.active = false;\r\n            this.BgNode.active = true;\r\n            this.freeBgNode.active = false;\r\n            this.bIsFreeGame = false;\r\n        }, 2);\r\n\r\n    },\r\n\r\n    setTypeResult(data) {\r\n        if (data.type > 0) {\r\n            this.freeBeginNode.active = false;\r\n            this.freeTimes = data.freeCount;\r\n            this.closeShine();\r\n            this.startFreeGame();\r\n        }\r\n    },\r\n\r\n    //0-5 0-2\r\n    showAnim(cols, index, beishu) {\r\n        this.audio.playBW();\r\n        let length = this.wheelList[cols].roleIdList.length;\r\n        this.wheelList[cols].rolePbList[length - 2 - index].getComponent(\"TempAnimation\").playAnim();\r\n        //添加\r\n        if (this.wheelList[cols].rolePbList[length - 2 - index].getChildByName(\"beishu\") && beishu > 1) {\r\n            this.wheelList[cols].rolePbList[length - 2 - index].getChildByName(\"beishu\").active = true;\r\n            this.wheelList[cols].rolePbList[length - 2 - index].getChildByName(\"beishu\").getComponent(cc.Label).string = \"x\" + beishu;\r\n        }\r\n        //添加结束\r\n        let nodeList = this.effectAnimPr.children;\r\n        nodeList[cols * 3 + index].active = true;\r\n        nodeList[cols * 3 + index].getComponent(cc.Animation).play();\r\n    },\r\n\r\n    clsoeAnim(cols, index) {\r\n        let length = this.wheelList[cols].roleIdList.length;\r\n        this.wheelList[cols].rolePbList[length - 2 - index].getComponent(\"TempAnimation\").stopAnim();\r\n        //添加\r\n        if (this.wheelList[cols].rolePbList[length - 2 - index].getChildByName(\"beishu\")) {\r\n            this.wheelList[cols].rolePbList[length - 2 - index].getChildByName(\"beishu\").active = false;\r\n        }\r\n        //添加结束\r\n        let nodeList = this.effectAnimPr.children;\r\n        nodeList[cols * 3 + index].active = false;\r\n    },\r\n\r\n    checkRollData(list) {\r\n        for (const iterator of list) {\r\n            if (iterator >= this.rolePb.length) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n\r\n    roll(list) {\r\n        if (!this.checkRollData(list)) {\r\n            alert(`\r\n            服务器获取的花色种类大于现有的花色种类！！！\r\n            请联系服务器人员进行数据调整！`\r\n            );\r\n            return;\r\n        }\r\n        this.status = 1;\r\n        let line = [];\r\n        for (let i = 0; i < 5; i++) {\r\n            line[i] = [];\r\n        }\r\n        for (let i in list) {\r\n            line[i % 5][2 - parseInt(i / 5)] = list[i];\r\n        }\r\n        for (let i in this.wheelList) {\r\n            this.wheelList[i].startRoll(...line[i]);\r\n        }\r\n    },\r\n\r\n    closeShine() {\r\n        let nodeList = this.effectAnimPr.children;\r\n        for (let i in nodeList) {\r\n            nodeList[i].active = false;\r\n        }\r\n        this.effectAnimFullB.active = false;\r\n    },\r\n\r\n    sendRoll() {\r\n        this.rollIndex++;\r\n        this.closeShine();\r\n        let sendData = JSON.stringify({\r\n            bet: this.bet,\r\n            nBetList: [BET[this.bet] * BETNUM]\r\n        })\r\n        console.log(\"sendRoll ====>\", sendData);\r\n        this.net.socket.emit('lottery', sendData);\r\n        this.gameState = 1;\r\n    },\r\n\r\n    stopImmediately() {\r\n        if (!this.auto) {\r\n            for (let i in this.wheelList) {\r\n                this.wheelList[i].stopImmediately();\r\n            }\r\n        }\r\n    },\r\n\r\n});"]}