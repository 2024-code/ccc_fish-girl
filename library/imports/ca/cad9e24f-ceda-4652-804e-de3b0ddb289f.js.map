{"version":3,"sources":["assets\\Script\\Lhdb\\LHDB_Main.js"],"names":["GEMOFFSET","cc","Class","Component","properties","musicNode","Node","levelTitle","lblGoldPool","Label","levelList","lblChipList","chipSpList","lblCoin","lblAllCoin","lblLines","lblLinescore","slider","Slider","tuoguanList","helpNode","helpPageView","PageView","exitBd","lblSmallBox","areaList","dropBallBd","dropBall","dropBallList0","dropBallList1","dropBallList2","dropBallList3","dropBallList4","dropBd","lbldropBdCoin","tip","prefabs","Prefab","startBtn","Button","btnMask","onLoad","network","getComponent","audio","lines","bet","tuoguan","tmOffset","gemList","gemPidList","start","stopAll","playBgm","gameInit","setLevel","i","list","children","j","active","string","node","lv","parseInt","level","removeAllChildren","exitGame","socket","disconnect","director","loadScene","onSlider","ev","args","progress","setLinesInfo","onClick","playBtn","emit","curIndex1","getCurrentPageIndex","setCurrentPageIndex","curIndex","interactable","startGame","showTip","log","JSON","stringify","showBool","levelDown","id","pid","targetPos","v2","curPos","x","y","pb","instantiate","position","runAction","moveTo","addChild","gemBoo","boo","parent","removeFromParent","desBox","scheduleOnce","boxList","playDecBox","cleanBoo","w","h","sequence","callFunc","playLandAudio","setBox","numList","lrList","score","ballPos","delayTime","playAward","title","stopAllActions","opacity","getChildByName","spawn","fadeIn","fadeOut"],"mappings":"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","sourceRoot":"/","sourcesContent":["const GEMOFFSET = 90;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    //传100-100000  本地 10-200\r\n    properties: {\r\n        musicNode: cc.Node,\r\n        levelTitle: [cc.Node],\r\n        lblGoldPool: cc.Label,\r\n        levelList: [cc.Node],\r\n        lblChipList: [cc.Label],\r\n        chipSpList: [cc.Node],\r\n        lblCoin: cc.Label,\r\n        lblAllCoin: cc.Label,\r\n        lblLines: cc.Label,\r\n        lblLinescore: cc.Label,\r\n        slider: cc.Slider,\r\n        tuoguanList: [cc.Node],\r\n        helpNode: cc.Node,\r\n        helpPageView: cc.PageView,\r\n        exitBd: cc.Node,\r\n        lblSmallBox: [cc.Label],\r\n        //池\r\n        areaList: [cc.Node],\r\n        //大奖掉落球\r\n        dropBallBd: cc.Node,\r\n        dropBall: cc.Node,\r\n        dropBallList0: [cc.Node],\r\n        dropBallList1: [cc.Node],\r\n        dropBallList2: [cc.Node],\r\n        dropBallList3: [cc.Node],\r\n        dropBallList4: [cc.Node],\r\n        dropBd: cc.Node,\r\n        lbldropBdCoin: cc.Label,\r\n        tip: cc.Node,\r\n        prefabs: [cc.Prefab],\r\n        startBtn: cc.Button,\r\n        btnMask: cc.Node,\r\n    },\r\n\r\n    onLoad() {\r\n        this.network = this.getComponent('LHDB_Network');\r\n        this.audio = this.musicNode.getComponent('LHDB_Audio');\r\n        this.lines = 0; //线数\r\n        this.bet = 0; //单线下注金额\r\n        this.tuoguan = false; //托管标志\r\n        this.tmOffset = true; //开始按钮时间间隔\r\n        this.gemList = []; //存储宝石节点用于boo\r\n        this.gemPidList = []; //存储宝石pid\r\n    },\r\n\r\n    start() {\r\n        this.audio.stopAll();\r\n        this.audio.playBgm();\r\n        this.gameInit();\r\n        this.setLevel(1);\r\n\r\n        // this.setBox([1, 2, 3, 4, 5], [0, 1, 0, 1], 19999);\r\n    },\r\n\r\n    gameInit() {\r\n        this.setLevel(0);\r\n        for (let i in this.levelList) {\r\n            let list = this.levelList[i].children;\r\n            for (let j in list) {\r\n                list[j].active = true;\r\n            }\r\n        }\r\n        this.lblCoin.string = '0.00';\r\n        this.lblAllCoin.string = '0.00';\r\n        for (let i in this.lblChipList) {\r\n            this.lblChipList[i].string = '0';\r\n        }\r\n        this.lblLines.string = '0';\r\n        this.lblLinescore.string = '0';\r\n        for (let i in this.lblChipList) {\r\n            this.lblChipList[i].node.active = false;\r\n            this.chipSpList[i].active = true;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 切换关卡\r\n     * @param {管卡等级1-3} lv \r\n     */\r\n    setLevel(lv) {\r\n        lv = parseInt(lv);\r\n        this.level = lv;\r\n        for (let i in this.levelTitle) {\r\n            this.levelTitle[i].active = parseInt(lv) - 1 == i;\r\n        }\r\n        if (lv === 0) {\r\n            for (let i in this.areaList) {\r\n                this.areaList[i].removeAllChildren();\r\n            }\r\n        } else if (lv === 1) {\r\n            this.areaList[1].removeAllChildren();\r\n            this.areaList[2].removeAllChildren();\r\n        } else if (lv === 2) {\r\n            this.areaList[0].removeAllChildren();\r\n            this.areaList[2].removeAllChildren();\r\n            let list = this.levelList[0].children;\r\n            for (let j in list) {\r\n                list[j].active = false;\r\n            }\r\n        } else if (lv === 3) {\r\n            this.areaList[0].removeAllChildren();\r\n            this.areaList[1].removeAllChildren();\r\n            for (let i in this.levelList) {\r\n                if (i == '2') {\r\n                    return;\r\n                }\r\n                let list = this.levelList[i].children;\r\n                for (let j in list) {\r\n                    list[j].active = false;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    exitGame() {\r\n        this.network.socket.disconnect();\r\n        cc.director.loadScene(\"LobbyMain\");\r\n    },\r\n\r\n    onSlider(ev, args) {\r\n        this.bet = parseInt(this.slider.progress * 20) * 10;\r\n        this.setLinesInfo(this.lines, this.bet);\r\n    },\r\n\r\n    onClick(ev, args) {\r\n        this.audio.playBtn();\r\n        switch (args) {\r\n            case 'exit':\r\n                this.exitBd.active = true;\r\n                break;\r\n            case 'closeExit':\r\n                this.exitBd.active = false;\r\n                break;\r\n            case 'exitSave':\r\n                this.exitGame();\r\n                break;\r\n            case 'exitOK':\r\n                this.network.socket.emit('clearGameDict');\r\n                break;\r\n            case 'help':\r\n                this.helpNode.active = true;\r\n                break;\r\n            case 'help_close':\r\n                this.helpNode.active = false;\r\n                break;\r\n            case 'upPage':\r\n                let curIndex1 = this.helpPageView.getCurrentPageIndex();\r\n                if (--curIndex1 >= 0) {\r\n                    this.helpPageView.setCurrentPageIndex(curIndex1);\r\n                }\r\n                break;\r\n            case 'downPage':\r\n                let curIndex = this.helpPageView.getCurrentPageIndex();\r\n                if (++curIndex < 5) {\r\n                    this.helpPageView.setCurrentPageIndex(curIndex);\r\n                }\r\n                break;\r\n            case 'setting':\r\n                break;\r\n            case 'auto':\r\n                if (this.tmOffset && !this.tuoguan) {\r\n                    this.startBtn.interactable = false;\r\n                    this.startGame();\r\n                }\r\n                this.tuoguan = !this.tuoguan;\r\n                this.tuoguanList[0].active = !this.tuoguan;\r\n                this.tuoguanList[1].active = this.tuoguan;\r\n                break;\r\n            case 'start':\r\n                this.startGame();\r\n                break;\r\n            case 'restart':\r\n                this.btnMask.active = false;\r\n                this.dropBallBd.active = false;\r\n                this.dropBd.active = false;\r\n                for (let i in this.levelList) {\r\n                    let list = this.levelList[i].children;\r\n                    for (let j in list) {\r\n                        list[j].active = true;\r\n                    }\r\n                }\r\n                break;\r\n            case 'addLines':\r\n                this.lines++;\r\n                this.lines = this.lines <= 5 ? this.lines : 5;\r\n                this.setLinesInfo(this.lines, this.bet);\r\n                break;\r\n            case 'decLines':\r\n                this.lines--;\r\n                this.lines = this.lines >= 0 ? this.lines : 0;\r\n                this.setLinesInfo(this.lines, this.bet);\r\n                break;\r\n            case 'addScore':\r\n                this.bet += 10;\r\n                this.bet = this.bet >= 200 ? 200 : this.bet;\r\n                this.slider.progress = this.bet / 200;\r\n                this.setLinesInfo(this.lines, this.bet);\r\n                break;\r\n            case 'decScore':\r\n                this.bet -= 10;\r\n                this.bet = this.bet >= 0 ? this.bet : 0;\r\n                this.slider.progress = this.bet / 200;\r\n                this.setLinesInfo(this.lines, this.bet);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    startGame() {\r\n        if (this.tmOffset) {\r\n            let bet = this.lines * this.bet;\r\n            if (bet == 0) {\r\n                this.showTip('下注金额不符合规则');\r\n                return;\r\n            }\r\n            cc.log(`sendBet:${bet}`);\r\n            this.network.socket.emit('lottery', JSON.stringify({\r\n                bet: bet * 100\r\n            }))\r\n            this.tmOffset = false;\r\n            this.startBtn.interactable = false;\r\n        }\r\n    },\r\n\r\n    setLinesInfo(lines, bet) {\r\n        this.lblLines.string = lines;\r\n        this.lblLinescore.string = bet;\r\n        for (let i in this.lblChipList) {\r\n            let showBool = parseInt(i) < lines;\r\n            this.lblChipList[i].node.active = showBool;\r\n            this.lblChipList[i].string = bet;\r\n            this.chipSpList[i].active = !showBool;\r\n        }\r\n    },\r\n\r\n    //下落形成完整宝石矩阵\r\n    levelDown(level, id, pid) {\r\n        this.gemPidList[id] = pid;\r\n        pid = pid == 99 ? 16 : (level - 1) * 5 + (pid + 1);\r\n        let targetPos = cc.v2(GEMOFFSET * parseInt(id % (level + 3)), -GEMOFFSET * parseInt(id / (level + 3)));\r\n        let curPos = cc.v2(targetPos.x, targetPos.y + 1000);\r\n        let pb = cc.instantiate(this.prefabs[pid]);\r\n        pb.position = curPos;\r\n        pb.runAction(cc.moveTo(0.7, targetPos));\r\n        this.areaList[level - 1].addChild(pb);\r\n        this.gemList[id] = pb;\r\n    },\r\n\r\n    //爆炸指定宝石id\r\n    gemBoo(id) {\r\n        let boo = cc.instantiate(this.prefabs[0]);\r\n        boo.position = this.gemList[id].position;\r\n        boo.parent = this.gemList[id].parent;\r\n        this.gemList[id].removeFromParent();\r\n        //如果有钻头消箱子\r\n        if (this.gemPidList[id] == 99) {\r\n            this.desBox();\r\n        }\r\n        this.gemList[id] = null;\r\n        this.gemPidList[id] = null;\r\n        this.scheduleOnce(() => {\r\n            boo.removeFromParent();\r\n        }, 0.5);\r\n    },\r\n\r\n    //消除宝箱\r\n    desBox() {\r\n        let boxList = this.levelList[this.level - 1].children;\r\n        for (let i in boxList) {\r\n            if (!!boxList[i].active) {\r\n                boxList[i].active = false;\r\n                return;\r\n            }\r\n        }\r\n        this.audio.playDecBox();\r\n    },\r\n\r\n    //清理爆炸后的矩阵 为第二次下落准备\r\n    cleanBoo(level) {\r\n        for (let w = 0; w < level + 3; w++) { //横\r\n            for (let h = level + 2; h >= 0; h--) { //纵\r\n                if (this.gemList[w + h * (level + 3)] == null) {\r\n                    for (let i = h; i >= 0; i--) {\r\n                        if (this.gemList[w + i * (level + 3)] != null) {\r\n                            this.gemList[w + h * (level + 3)] = this.gemList[w + i * (level + 3)];\r\n                            this.gemPidList[w + h * (level + 3)] = this.gemPidList[w + i * (level + 3)];\r\n                            this.gemList[w + h * (level + 3)].runAction(cc.sequence(cc.moveTo(0.2, cc.v2(this.gemList[w + h * (level + 3)].x, -GEMOFFSET * h)), cc.callFunc(() => {\r\n                                this.audio.playLandAudio();\r\n                            })));\r\n                            this.gemList[w + i * (level + 3)] = null;\r\n                            this.gemPidList[w + i * (level + 3)] = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 大奖游戏\r\n     * @param {宝箱金币} numList \r\n     * @param {掉落左右选择0，1} lrList \r\n     * @param {获得总金额} score \r\n     */\r\n    setBox(numList, lrList, score) {\r\n        this.btnMask.active = true;\r\n        this.dropBallBd.active = true;\r\n        for (let i in this.lblSmallBox) {\r\n            this.lblSmallBox[i].string = numList[i];\r\n        }\r\n        const ballPos = cc.v2(0, 257);\r\n        this.dropBall.position = ballPos;\r\n        this.dropBall.runAction(cc.sequence(\r\n            cc.delayTime(1),\r\n            cc.callFunc(() => {\r\n                this.audio.playAward();\r\n            }),\r\n            cc.moveTo(0.25, this.dropBallList0[0].position),\r\n            cc.moveTo(0.25, this.dropBallList1[0 + lrList[0]].position),\r\n            cc.moveTo(0.25, this.dropBallList2[0 + lrList[0] + lrList[1]].position),\r\n            cc.moveTo(0.25, this.dropBallList3[0 + lrList[0] + lrList[1] + lrList[2]].position),\r\n            cc.moveTo(0.25, this.dropBallList4[0 + lrList[0] + lrList[1] + lrList[2] + lrList[3]].position),\r\n            cc.callFunc(() => {\r\n                this.dropBd.active = true;\r\n                this.lbldropBdCoin.string = score;\r\n            })\r\n        ));\r\n    },\r\n\r\n    showTip(title) {\r\n        this.tip.stopAllActions();\r\n        this.tip.y = -184;\r\n        this.tip.opacity = 0;\r\n        this.tip.getChildByName('tipLbl').getComponent(cc.Label).string = title;\r\n        this.tip.runAction(cc.sequence(cc.spawn(cc.fadeIn(0.5), cc.moveTo(0.5, cc.v2(0, -100))), cc.delayTime(1), cc.fadeOut(0.5)));\r\n    }\r\n})"]}