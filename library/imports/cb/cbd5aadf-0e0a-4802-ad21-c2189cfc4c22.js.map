{"version":3,"sources":["assets\\Script\\xiyouzhengba\\XYZB_Main.js"],"names":["BETSLIST","ODDSLIST","AUDIOROLELIST","ROLECOLORLSIT","cc","Class","Component","properties","bgMapList","Node","cartoonNode","wheel1","wheel2","userNameLbl","Label","userIDLbl","userCoinLbl","userHead","Sprite","chipArea","zxhSp","SpriteFrame","historyNode","selBetLbl","betScoreLbl","betUILblList","timerLbl","scoreLbl","pkNode","PKAtlas","SpriteAtlas","waitMask","musicNode","resultWheel","mothSprite","exitBtn","helpUI","onLoad","cartoonBright","cartoonAnims","cartoonSp","runGameBool","selBetIndex","network","getComponent","audio","curWheel","curBetScore","curBet","lastBet","betTimeBool","prNode","children","i","cNode","push","spriteFrame","wheelCardList1","wheelCh1","wheelCardList2","wheelCh2","historyList","string","lastGamePoint","mothN","start","stopAll","changeMap","startBets","y","active","clearCurBet","runAction","moveTo","v2","toFixed","closeBets","sendJsonList","sendJson","nBetItem","strBetValue","parseInt","nBet","length","socket","emit","JSON","stringify","userCoin","showBet","index","onClick","ev","args","disconnect","director","loadScene","playClearBet","playChangeBet","playReBet","console","log","playBet","lottertDraw","targetId","beginId","Math","floor","random","targetPoints","accPoints","accelerateRate","speedMax","beginPoint","lastPoint","curPoint","accTime","decTime","wTarget","distance","offset1","abs","offset2","wAccelerate","brightAnim","rollWheel","wheelId","wheelList","speed","mothWheel","runMothTimes","setMothEnd","mothResult","setWheelEnd","wt","position","update","dt","t","Date","getTime","timer","cp","playWheel","showInfo","userName","userId","Helper","loadHead","headUrl","sp","randomNum","playBgm","showResultWheel","result","playRoleAudio","getChildByName","scheduleOnce","getResult","res","win_special_num","win_num","pk_num","is_boo","win","score","r","tm","schedule","pklist","Animation","play","who_win","sequence","delayTime","getSpriteFrame","playSpecial","fadeOut","fadeIn","callFunc","Set","has"],"mappings":"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","sourceRoot":"/","sourcesContent":["const BETSLIST = [10, 20, 50, 100, 500]; //bets\r\nconst ODDSLIST = [0, 23, 12, 20, 13, 7, 11, 8, 4, 7, 46, 25, 40, 0, 23, 12, 20, 13, 7, 11, 8, 4, 7, 46, 25, 40]; //odds for wheel\r\nconst AUDIOROLELIST = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; //Role Audio\r\nconst ROLECOLORLSIT = [0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]; //Role Color\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bgMapList: [cc.Node],\r\n        cartoonNode: cc.Node,\r\n        wheel1: cc.Node,\r\n        wheel2: cc.Node,\r\n        userNameLbl: cc.Label,\r\n        userIDLbl: cc.Label,\r\n        userCoinLbl: cc.Label,\r\n        userHead: cc.Sprite,\r\n        chipArea: cc.Node,\r\n        zxhSp: [cc.SpriteFrame],\r\n        historyNode: cc.Node,\r\n        selBetLbl: cc.Label,\r\n        betScoreLbl: cc.Label,\r\n        betUILblList: [cc.Label],\r\n        timerLbl: cc.Label,\r\n        scoreLbl: cc.Label,\r\n        pkNode: cc.Node,\r\n        PKAtlas: cc.SpriteAtlas,\r\n        waitMask: cc.Node,\r\n        musicNode: cc.Node,\r\n        resultWheel: cc.Node,\r\n        mothSprite: cc.Sprite,\r\n        exitBtn: cc.Node,\r\n        helpUI: cc.Node,\r\n    },\r\n\r\n    onLoad() {\r\n        this.cartoonBright = []; //cartoon bright nodes\r\n        this.cartoonAnims = []; //cartoon animations\r\n        this.cartoonSp = []; //cartoon spriteFrames\r\n        this.runGameBool = false; //game start\r\n        this.selBetIndex = 0; //index of BETSLIST\r\n        this.network = this.getComponent('XYZB_Network');\r\n        this.audio = this.musicNode.getComponent('XYZB_Audio');\r\n        this.curWheel = [0, 0];\r\n        this.curBetScore = 0; //Score of current bet\r\n        this.curBet = []; //Details of current bet\r\n        this.lastBet = []; //Details of last bet\r\n        this.betTimeBool = false; //for timer\r\n        //init cartoonNode node\r\n        let prNode = this.cartoonNode.children;\r\n        for (let i in prNode) {\r\n            let cNode = prNode[i].children;\r\n            this.cartoonBright.push(cNode[0]);\r\n            this.cartoonAnims.push(cNode[1]);\r\n            this.cartoonSp.push(cNode[0].getComponent(cc.Sprite).spriteFrame);\r\n        }\r\n        //init wheel list\r\n        this.wheelCardList1 = [];\r\n        let wheelCh1 = this.wheel1.children;\r\n        for (let i in wheelCh1) {\r\n            this.wheelCardList1.push(wheelCh1[i]);\r\n        }\r\n\r\n        this.wheelCardList2 = [];\r\n        let wheelCh2 = this.wheel2.children;\r\n        for (let i in wheelCh2) {\r\n            this.wheelCardList2.push(wheelCh2[i]);\r\n        }\r\n        this.historyList = this.historyNode.children;\r\n        this.scoreLbl.string = '0.00';\r\n        this.lastGamePoint = 0;\r\n        this.mothN = 2;\r\n    },\r\n\r\n    start() {\r\n        this.audio.stopAll();\r\n        this.changeMap();\r\n    },\r\n\r\n    startBets() {\r\n        this.exitBtn.y = 300;\r\n        this.waitMask.active = false;\r\n        for (let i in this.cartoonBright) {\r\n            if (this.cartoonAnims[i]) {\r\n                this.cartoonAnims[i].active = false;\r\n            }\r\n            this.cartoonBright[i].active = false;\r\n        }\r\n        this.betTimeBool = true;\r\n        this.clearCurBet();\r\n        this.chipArea.runAction(cc.moveTo(0.2, cc.v2(0, 0)));\r\n    },\r\n\r\n    clearCurBet() {\r\n        this.curBet = [];\r\n        this.curBetScore = 0;\r\n        this.betScoreLbl.string = this.curBetScore.toFixed(2);\r\n        for (let i in this.betUILblList) {\r\n            if (!!this.betUILblList[i]) {\r\n                this.betUILblList[i].string = '0.00';\r\n            }\r\n        }\r\n    },\r\n\r\n    closeBets() {\r\n        this.exitBtn.y = 182;\r\n        this.betTimeBool = false;\r\n        let sendJsonList = [];\r\n        for (let i in this.curBet) {\r\n            if (!!this.curBet) {\r\n                let sendJson = {\r\n                    nBetItem: i <= 12 ? 1 : 2,\r\n                    strBetValue: i <= 12 ? parseInt(i) : parseInt(i) - 13,\r\n                    nBet: this.curBet[i] * 100,\r\n                }\r\n                sendJsonList.push(sendJson);\r\n            }\r\n        }\r\n        if (sendJsonList.length > 0) {\r\n            this.network.socket.emit('lottery', JSON.stringify(sendJsonList));\r\n        }\r\n        this.lastBet = [...this.curBet];\r\n        this.chipArea.runAction(cc.moveTo(0.2, cc.v2(0, -1500)));\r\n        this.scoreLbl.string = '0.00';\r\n        this.userCoinLbl.string = (this.network.userCoin - this.curBetScore).toFixed(2);\r\n    },\r\n\r\n    showBet(index) {\r\n        if (!!this.curBet[index]) {\r\n            this.curBet[index] += BETSLIST[this.selBetIndex];\r\n        } else {\r\n            this.curBet[index] = BETSLIST[this.selBetIndex];\r\n        }\r\n        this.curBetScore += BETSLIST[this.selBetIndex];\r\n        this.betScoreLbl.string = this.curBetScore.toFixed(2);\r\n        this.betUILblList[index].string = this.curBet[index].toFixed(2);\r\n    },\r\n\r\n    onClick(ev, args) {\r\n        switch (args) {\r\n            case 'home':\r\n                this.network.socket.disconnect();\r\n                cc.director.loadScene(\"LobbyMain\");\r\n                break;\r\n            case 'clearCurBet':\r\n                this.clearCurBet();\r\n                this.audio.playClearBet();\r\n                break;\r\n            case 'changeSelBetIndex':\r\n                this.selBetIndex++;\r\n                if (this.selBetIndex > 4) {\r\n                    this.selBetIndex = 0;\r\n                }\r\n                this.audio.playChangeBet();\r\n                this.selBetLbl.string = BETSLIST[this.selBetIndex].toFixed(2);\r\n                break;\r\n            case 'continued mortgage':\r\n                this.audio.playReBet();\r\n                this.clearCurBet();\r\n                this.curBet = [...this.lastBet];\r\n                for (let i in this.curBet) {\r\n                    if (!!this.curBet[i]) {\r\n                        if (this.curBetScore + this.curBet[i] <= this.network.userCoin) {\r\n                            this.curBetScore += this.curBet[i];\r\n                            this.betScoreLbl.string = this.curBetScore.toFixed(2);\r\n                            this.betUILblList[i].string = this.curBet[i].toFixed(2);\r\n                        } else {\r\n                            console.log('金币不足');\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case 'help':\r\n                this.helpUI.active = true;\r\n                break;\r\n            case 'close help':\r\n                this.helpUI.active = false;\r\n                break;\r\n            default:\r\n                if (parseInt(args) == args) {\r\n                    if (this.curBetScore + BETSLIST[this.selBetIndex] <= this.network.userCoin) {\r\n                        this.showBet(parseInt(args));\r\n                        this.audio.playBet();\r\n                    } else {\r\n                        console.log('金币不足');\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * start game animation\r\n     * @param {stop id} targetId \r\n     * @param {begin id} beginId \r\n     */\r\n    lottertDraw(targetId, beginId = Math.floor(Math.random() * 26), wheel1, wheel2) {\r\n        this.lastGamePoint = targetId;\r\n        this.runGameBool = true;\r\n        targetId = targetId - beginId;\r\n        this.targetPoints = 26 * 4 + targetId;\r\n        this.accPoints = this.targetPoints * 0.5;\r\n        this.accelerateRate = this.accPoints * 2 / 9;\r\n        this.speedMax = this.accelerateRate * 3;\r\n        this.beginPoint = beginId;\r\n        this.lastPoint = beginId;\r\n        this.curPoint = beginId;\r\n        this.accTime = 0;\r\n        this.decTime = 0;\r\n        //wheel\r\n        this.wTarget = [wheel1, wheel2];\r\n        let distance = 85 * 4 * 10;\r\n        let offset1 = Math.abs(this.wTarget[0] - this.curWheel[0]) * 85;\r\n        let offset2 = Math.abs(this.wTarget[1] - this.curWheel[1]) * 85;\r\n        //x= at^2;\r\n        this.wAccelerate = [\r\n            (distance + offset1) / 6 / 60,\r\n            (distance + offset2) / 6 / 60\r\n        ];\r\n    },\r\n\r\n    brightAnim(beginId, targetId) {\r\n        beginId = parseInt(beginId % 26);\r\n        targetId = parseInt(targetId % 26);\r\n        if (targetId < beginId) {\r\n            this.brightAnim(beginId, 25);\r\n            this.brightAnim(0, targetId);\r\n            return;\r\n        }\r\n        for (let i = beginId; i <= targetId; i++) {\r\n            this.cartoonBright[i].active = true;\r\n        }\r\n    },\r\n\r\n    rollWheel(wheelId) {\r\n        let wheelList = wheelId == 1 ? this.wheelCardList1 : this.wheelCardList2;\r\n        for (let i in wheelList) {\r\n            let speed = wheelId == 1 ? this.wAccelerate[0] : this.wAccelerate[1];\r\n            wheelList[i].y += speed;\r\n            if (wheelList[i].y >= 85) {\r\n                if (parseInt(i) == 0) {\r\n                    wheelList[i].y = wheelList['3'].y - 85;\r\n                } else {\r\n                    wheelList[i].y = wheelList[i - 1].y - 85;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    mothWheel() {\r\n        this.runMothTimes = this.runMothTimes || 0;\r\n        this.runMothTimes++;\r\n        if (this.runMothTimes % 3 == 0) {\r\n            this.mothN++\r\n            if (this.mothN > 2) {\r\n                this.mothN = 0;\r\n            }\r\n            this.mothSprite.spriteFrame = this.zxhSp[this.mothN];\r\n        }\r\n    },\r\n\r\n    setMothEnd() {\r\n        this.mothSprite.spriteFrame = this.zxhSp[this.mothResult];\r\n    },\r\n\r\n    setWheelEnd(wheelId) {\r\n        let wheelList = wheelId == 1 ? this.wheelCardList1 : this.wheelCardList2;\r\n        let wt = this.wTarget[wheelId == 1 ? 0 : 1];\r\n        wheelList[wt].y = 0;\r\n        let position = [\r\n            [0, -85, -170, -255],\r\n            [-255, 0, -85, -170],\r\n            [-170, -255, 0, -85],\r\n            [-85, -170, -255, 0]\r\n        ];\r\n        for (let i in wheelList) {\r\n            wheelList[i].y = position[wt][i];\r\n        }\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.betTimeBool) {\r\n            let t = parseInt(new Date().getTime() / 1000 - this.network.timer);\r\n            this.timerLbl.string = 40 - t > 0 ? 40 - t : 0;\r\n        }\r\n\r\n        if (this.runGameBool) {\r\n            //main lottery draw\r\n            if (this.curPoint < this.accPoints + this.beginPoint) {\r\n                //accerate\r\n                this.accTime += dt;\r\n                let cp = parseInt(this.curPoint);\r\n                this.curPoint = this.beginPoint + 0.5 * this.accelerateRate * this.accTime * this.accTime;\r\n                if (cp != parseInt(this.curPoint)) {\r\n                    this.audio.playWheel();\r\n                }\r\n            } else {\r\n                //slow down\r\n                if (this.curPoint < this.targetPoints + this.beginPoint) {\r\n                    this.decTime += dt;\r\n                    let cp = parseInt(this.curPoint);\r\n                    this.curPoint = this.beginPoint + this.targetPoints / 2 + this.speedMax * this.decTime - 0.5 * this.accelerateRate * this.decTime * this.decTime;\r\n                    if (this.speedMax < this.accelerateRate * this.decTime) {\r\n                        //stop lottery draw\r\n                        this.lastPoint = this.curPoint = this.targetPoints + this.beginPoint;\r\n                        this.runGameBool = false;\r\n                    }\r\n                    if (cp != parseInt(this.curPoint)) {\r\n                        this.audio.playWheel();\r\n                    }\r\n                } else {\r\n                    //stop lottery draw\r\n                    this.lastPoint = this.curPoint = this.targetPoints + this.beginPoint;\r\n                    this.runGameBool = false;\r\n                }\r\n            }\r\n            //show lottert draw\r\n            for (let i in this.cartoonBright) {\r\n                this.cartoonBright[i].active = false;\r\n            }\r\n            this.brightAnim(this.lastPoint, this.curPoint);\r\n            this.lastPoint = this.curPoint;\r\n\r\n            //wheel lotterty draw\r\n            if (this.runGameBool) {\r\n                this.rollWheel(1);\r\n                this.rollWheel(2);\r\n                this.mothWheel();\r\n            } else {\r\n                this.setWheelEnd(1);\r\n                this.setWheelEnd(2);\r\n                this.setMothEnd();\r\n                this.curWheel = [...this.wTarget];\r\n            }\r\n        }\r\n    },\r\n\r\n    //初始化显示\r\n    showInfo() {\r\n        this.userNameLbl.string = this.network.userName;\r\n        this.userIDLbl.string = this.network.userId;\r\n        this.userCoinLbl.string = this.network.userCoin.toFixed(2);\r\n        Helper.loadHead(this.network.headUrl, sp => {\r\n            this.userHead.spriteFrame = sp;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * change background map\r\n     */\r\n    changeMap() {\r\n        let randomNum = Math.floor(Math.random() * 3);\r\n        this.audio.playBgm(randomNum);\r\n        for (let i in this.bgMapList) {\r\n            if (randomNum == i) {\r\n                this.bgMapList[i].active = true;\r\n            } else {\r\n                this.bgMapList[i].active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    showResultWheel(result) {\r\n        this.resultWheel.active = true;\r\n        this.audio.playRoleAudio(result);\r\n        for (let i = 1; i <= 4; i++) {\r\n            this.resultWheel.getChildByName('lbl' + i).getComponent(cc.Label).string = ODDSLIST[result];\r\n        }\r\n        this.resultWheel.getChildByName('roleSp').getComponent(cc.Sprite).spriteFrame = this.cartoonSp[result];\r\n        this.resultWheel.getChildByName('bg1').active = ROLECOLORLSIT[result] == 1;\r\n        this.resultWheel.getChildByName('bg2').active = ROLECOLORLSIT[result] == 2;\r\n        this.resultWheel.getChildByName('bg3').active = ROLECOLORLSIT[result] == 3;\r\n        this.scheduleOnce(() => {\r\n            this.resultWheel.active = false;\r\n        }, 5);\r\n    },\r\n\r\n    getResult(res) {\r\n        this.mothResult = res.win_special_num;\r\n        this.lottertDraw(res.win_num[0], this.lastGamePoint, res.pk_num[0], res.pk_num[1]);\r\n        let is_boo = res.win_num[0] == 0 || res.win_num[0] == 13;\r\n        if (res.pk_num[0] != res.pk_num[1]) {\r\n            this.scheduleOnce(() => {\r\n                this.scoreLbl.string = (res.win / 100).toFixed(2);\r\n                this.userCoinLbl.string = (res.score / 100).toFixed(2);\r\n                let r = (res.win_num[0] == 0 || res.win_num[0] == 13) ? res.win_num[1] : res.win_num[0];\r\n                this.showResultWheel(r);\r\n            }, 6);\r\n        } else {\r\n            //pk start\r\n            let tm = 0;\r\n            this.schedule(() => {\r\n                tm++;\r\n                if (tm == 6) {\r\n                    !!this.cartoonAnims[res.win_num[0]] && (this.cartoonAnims[res.win_num[0]].active = true);\r\n                    this.pkNode.active = true;\r\n                    let pklist = this.pkNode.children;\r\n                    this.pkNode.getComponent(cc.Animation).play();\r\n                    if (res.who_win) {\r\n                        pklist[0].runAction(cc.sequence(cc.delayTime(2), cc.moveTo(1, cc.v2(-1197, pklist[0].y))));\r\n                    } else {\r\n                        pklist[1].runAction(cc.sequence(cc.delayTime(2), cc.moveTo(1, cc.v2(1349, pklist[1].y))));\r\n                    }\r\n                    pklist[0].getComponent(cc.Sprite).spriteFrame = this.PKAtlas.getSpriteFrame(`VS-${res.pk_num[0] +1}`);\r\n                    pklist[1].getComponent(cc.Sprite).spriteFrame = this.PKAtlas.getSpriteFrame(is_boo ? 'VS-5' : 'VS-0');\r\n                } else if (tm == 10) {\r\n                    this.pkNode.active = false;\r\n                    if (res.who_win) {\r\n                        this.audio.playSpecial();\r\n                        for (let i in this.cartoonBright) {\r\n                            if (res.win_num[0] != i) {\r\n                                this.cartoonBright[i].active = true;\r\n                                this.cartoonBright[i].runAction(cc.sequence(cc.fadeOut(0.1), cc.fadeIn(0.1), cc.fadeOut(0.1), cc.fadeIn(0.1), cc.callFunc(() => {\r\n                                    if (new Set(res.win_num).has(parseInt(i))) {\r\n                                        this.cartoonBright[i].active = true;\r\n                                        if (!!this.cartoonAnims[i]) {\r\n                                            this.cartoonAnims[i].active = true;\r\n                                        }\r\n                                    } else {\r\n                                        this.cartoonBright[i].active = false;\r\n                                    }\r\n                                })))\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (tm == 12) {\r\n                    this.scoreLbl.string = (res.win / 100).toFixed(2);\r\n                    this.userCoinLbl.string = (res.score / 100).toFixed(2);\r\n                    let r = (res.win_num[0] == 0 || res.win_num[0] == 13) ? res.win_num[1] : res.win_num[0];\r\n                    this.showResultWheel(r);\r\n                }\r\n            }, 1, 15, 1);\r\n        }\r\n    },\r\n})"]}