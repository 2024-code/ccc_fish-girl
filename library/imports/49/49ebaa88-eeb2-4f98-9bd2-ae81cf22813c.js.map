{"version":3,"sources":["assets\\Texture\\game_saigou\\saigou.js"],"names":["KBEngine","cc","Class","Component","properties","Timeout","tooltip","Default_chip","LabelArray_BetDanYa","type","Label","LabelArray_BetDanShuang","LabelArray_BetQianEr","LabelJinBi","LabelTotalBet","PanelXinXi","Node","Panel_kaiJiangJiLu","BtnArrayInteraction","Button","Prefab_HorseRacing","Prefab","Panel_Setting","Panel_qianbugou","Panel_qingxiazhu","Panel_daojishi","NodeMusicParent","NodeEffectParent","SpriteFrame_BetCheck","SpriteFrame","SpriteFrame_BetBackground","Label_TimeLottery","Label_TimeBet","AnimationArray_run","Animation","AudioSource_Bet","AudioSource","onDestroy","Event","deregister","start","register","app","player","reqGetDogRaceInfo","_chip","_betCheckSprite","Array","_arrayBetDanShuang","_arrayBetQianEr","_arrayBetDanYa","i","string","Global","accountInfo","lo","onBtnClick_ClearBet","self","node","on","event","stopPropagation","SetPanelInteraction","_winCoin","loader","loadRes","err","prefab","coinPrefab","instantiate","parent","find","x","y","startPos","getPosition","startPos_world","convertToWorldSpaceAR","v2","endPos_world","vector","Vec2","endPos","getComponent","Initialize","releaseRes","update","dt","_nTimeLottery","Math","round","_nTimeBet","RadioButtonClicked_chip","toggle","chip","parseInt","onBtnClick_BetDanYa","index","num","floor","rank","GetDuZhu","btn","target","normalSprite","push","play","onBtnClick_BetDanShuang","state","onBtnClick_BetQianEr","num1","num2","length","splice","j","pause","onBtnClick_Setting","active","onBtnClick_XinXi","onBtnClick_saiChang","onBtnClick_kaiJiangJiLu","onBtnClick_KaiShi","duzhu","nListBet","reqDogRaceBet","currentGameID","onDogRaceBetResult","bSuccess","onGetDogRaceInfo","bBetAllow","nTime1","nTime2","onDogRaceRunALottery","nResultList","nWinCoin","reqGetAccountInfo","rankArray","panel","SetData","onGetAccountInfo","nSuccess","dict","dictList","freeTimes","onToggleClick_YinYue","customEventData","isChecked","children","volume","onToggleClick_YinXiao","onBtnClick_BackHall","director","loadScene","interactable","onBtnClick_ClosePanel"],"mappings":"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","sourceRoot":"/","sourcesContent":["var KBEngine = {};//require(\"kbengine\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Timeout: {\r\n            default: 10,\r\n            tooltip: \"连接超时倒计时(秒)\",\r\n        },\r\n        Default_chip: {\r\n            default: 100,\r\n            tooltip: \"默认初始筹码\",\r\n        },\r\n        LabelArray_BetDanYa: {\r\n            default: [],\r\n            type: cc.Label,\r\n            tooltip: \"单压下注文本数组\",\r\n        },\r\n        LabelArray_BetDanShuang: {\r\n            default: [],\r\n            type: cc.Label,\r\n            tooltip: \"大小单双下注文本数组\",\r\n        },\r\n        LabelArray_BetQianEr: {\r\n            default: [],\r\n            type: cc.Label,\r\n            tooltip: \"前两名下注文本数组\",\r\n        },\r\n        LabelJinBi: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '金币文字',\r\n        },\r\n        LabelTotalBet: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '总下注文本',\r\n        },\r\n        PanelXinXi: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '信息界面',\r\n        },\r\n        Panel_kaiJiangJiLu: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '开奖记录界面',\r\n        },\r\n        BtnArrayInteraction: {\r\n            default: [],\r\n            type: [cc.Button],\r\n            tooltip: '所有需要在状态变化时改变可交互性的按钮的集合',\r\n        },\r\n        Prefab_HorseRacing: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n            tooltip: \"跑狗界面的预制件\",\r\n        },\r\n        Panel_Setting: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"设置界面\",\r\n        },\r\n        Panel_qianbugou: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"钱不够界面\",\r\n        },\r\n        Panel_qingxiazhu: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"请下注界面\",\r\n        },\r\n        Panel_daojishi: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"赛场倒计时界面\",\r\n        },\r\n        NodeMusicParent: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"音乐节点的父节点\",\r\n        },\r\n        NodeEffectParent: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: \"音效节点的父节点\",\r\n        },\r\n        SpriteFrame_BetCheck: {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n            tooltip: \"核对下注图片\",\r\n        },\r\n        SpriteFrame_BetBackground: {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n            tooltip: \"下注背景图片\",\r\n        },\r\n        Label_TimeLottery: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: \"开奖倒计时文本\",\r\n        },\r\n        Label_TimeBet: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: \"下注倒计时文本\",\r\n        },\r\n        AnimationArray_run: {\r\n            default: [],\r\n            type: [cc.Animation],\r\n            tooltip: '奔跑动画数组',\r\n        },\r\n        AudioSource_Bet: {\r\n            default: null,\r\n            type: cc.AudioSource,\r\n            tooltip: '下注音效',\r\n        },\r\n    },\r\n\r\n    //取消注册\r\n    onDestroy: function () {\r\n        KBEngine.Event.deregister(\"onDogRaceRunALottery\", this);\r\n        KBEngine.Event.deregister(\"onGetAccountInfo\", this);\r\n        KBEngine.Event.deregister(\"onDogRaceBetResult\", this);\r\n        KBEngine.Event.deregister(\"onGetDogRaceInfo\", this);\r\n    },\r\n\r\n    start: function () {\r\n        KBEngine.Event.register(\"onDogRaceRunALottery\", this, \"onDogRaceRunALottery\");\r\n        KBEngine.Event.register(\"onGetAccountInfo\", this, \"onGetAccountInfo\");\r\n        KBEngine.Event.register(\"onDogRaceBetResult\", this, \"onDogRaceBetResult\");\r\n        KBEngine.Event.register(\"onGetDogRaceInfo\", this, \"onGetDogRaceInfo\");\r\n\r\n        KBEngine.app.player().reqGetDogRaceInfo();//请求赛狗比赛信息\r\n\r\n        this._chip = this.Default_chip;//初始筹码\r\n        this._betCheckSprite = new Array();//下注检查图片\r\n        this._arrayBetDanShuang = new Array(6);//1-6名压大小单双\r\n        this._arrayBetQianEr = new Array(6);//与其他5条狗组成前二\r\n        this._arrayBetDanYa = new Array(6);//单压1-6名\r\n        for (var i = 0; i < 6; i++) {\r\n            this._arrayBetDanShuang[i] = [0, 0, 0, 0];//大小单双，四种情况\r\n            this._arrayBetQianEr[i] = [0, 0, 0, 0, 0, 0];//与其他5条狗组成前二，增加一个占位元素，以保证序号对齐\r\n            this._arrayBetDanYa[i] = [0, 0, 0, 0, 0, 0];//单压1-6名，6种情况\r\n        }\r\n        this.LabelJinBi.string = Global.accountInfo[\"nCoin\"].lo;//刷新总金币数\r\n        this.onBtnClick_ClearBet();//清除下注\r\n\r\n        var self = this;\r\n        this.node.on('Event_PaoGouConfirm', function (event) {\r\n            event.stopPropagation();//停止传递当前事件            \r\n            self.SetPanelInteraction(true);//一局比赛完成，解除界面交互限制\r\n            //中奖展示\r\n            self.LabelJinBi.string = Global.accountInfo[\"nCoin\"].lo;//总金币数\r\n            if (self._winCoin > 0) {\r\n                //动态加载中奖金币预制件\r\n                cc.loader.loadRes(\"WinCoins\", function (err, prefab) {\r\n                    var coinPrefab = cc.instantiate(prefab);//克隆\r\n                    coinPrefab.parent = cc.find(\"Canvas\");\r\n                    coinPrefab.x = 0;\r\n                    coinPrefab.y = 0;\r\n                    var startPos = coinPrefab.getPosition();//起点局部坐标\r\n                    var startPos_world = coinPrefab.convertToWorldSpaceAR(cc.v2(0, 0));//起点世界坐标\r\n                    var endPos_world = self.LabelJinBi.node.convertToWorldSpaceAR(cc.v2(0, 0));//终点世界坐标\r\n                    var vector = new cc.Vec2(endPos_world.x - startPos_world.x, endPos_world.y - startPos_world.y);//差向量\r\n                    var endPos = new cc.Vec2(startPos.x + vector.x, startPos.y + vector.y);//终点局部坐标\r\n                    coinPrefab.getComponent(\"winCoins\").Initialize(self._winCoin, startPos, endPos);\r\n                    cc.loader.releaseRes(prefab);//释放资源\r\n                });\r\n            }\r\n        });\r\n    },\r\n\r\n    update: function (dt) {\r\n        if (this._nTimeLottery > 0) {//开奖倒计时\r\n            this._nTimeLottery -= dt;\r\n            this.Label_TimeLottery.string = Math.round(this._nTimeLottery);//刷新时间\r\n        }\r\n        if (this._nTimeBet > 0) {//下注倒计时\r\n            this._nTimeBet -= dt;\r\n            this.Label_TimeBet.string = Math.round(this._nTimeBet);//刷新时间\r\n            if (this._nTimeBet <= 0) {\r\n                this.SetPanelInteraction(false);\r\n                KBEngine.app.player().reqGetDogRaceInfo();//刷新一下赛狗信息\r\n            }\r\n        }\r\n    },\r\n\r\n    //换筹码\r\n    RadioButtonClicked_chip: function (toggle, chip) {\r\n        this._chip = parseInt(chip);\r\n    },\r\n\r\n    //单压下注\r\n    onBtnClick_BetDanYa: function (event, index) {\r\n        index = parseInt(index);\r\n        var num = Math.floor(index / 6);//狗的号码\r\n        var rank = index % 6;//名次\r\n        this._arrayBetDanYa[num][rank] += this._chip;//增加下注\r\n        if (this._arrayBetDanYa[num][rank] > 10000) {\r\n            this._arrayBetDanYa[num][rank] = 10000;\r\n        }\r\n        this.LabelArray_BetDanYa[index].string = this._arrayBetDanYa[num][rank];//刷新下注文本\r\n        this.LabelTotalBet.string = this.GetDuZhu();//刷新总下注文本\r\n        var btn = event.target.getComponent(cc.Button);\r\n        btn.normalSprite = this.SpriteFrame_BetCheck;//修改按钮图片\r\n        this._betCheckSprite.push(btn);\r\n        //播放奔跑动画\r\n        this.AnimationArray_run[num].play();\r\n        //播放下注音效\r\n        this.AudioSource_Bet.play();\r\n    },\r\n\r\n    //单双下注\r\n    onBtnClick_BetDanShuang: function (event, index) {\r\n        index = parseInt(index);\r\n        var rank = Math.floor(index / 4);//名次\r\n        var state = index % 4;//大小单双4种情况\r\n        this._arrayBetDanShuang[rank][state] += this._chip;//增加下注\r\n        if (this._arrayBetDanShuang[rank][state] > 10000) {\r\n            this._arrayBetDanShuang[rank][state] = 10000;\r\n        }\r\n        this.LabelArray_BetDanShuang[index].string = this._arrayBetDanShuang[rank][state];//刷新下注文本\r\n        this.LabelTotalBet.string = this.GetDuZhu();//刷新总下注文本\r\n        var btn = event.target.getComponent(cc.Button);\r\n        btn.normalSprite = this.SpriteFrame_BetCheck;//修改按钮图片\r\n        this._betCheckSprite.push(btn);\r\n        //播放下注音效\r\n        this.AudioSource_Bet.play();\r\n    },\r\n\r\n    //前二下注\r\n    onBtnClick_BetQianEr: function (event, index) {\r\n        index = parseInt(index);\r\n        var num1 = Math.floor(index / 6);//第一名号码\r\n        var num2 = index % 6;//第二名号码\r\n        this._arrayBetQianEr[num1][num2] += this._chip;//增加下注\r\n        if (this._arrayBetQianEr[num1][num2] > 10000) {\r\n            this._arrayBetQianEr[num1][num2] = 10000;\r\n        }\r\n        this.LabelArray_BetQianEr[index].string = this._arrayBetQianEr[num1][num2];//刷新下注文本\r\n        this.LabelTotalBet.string = this.GetDuZhu();//刷新总下注文本\r\n        var btn = event.target.getComponent(cc.Button);\r\n        btn.normalSprite = this.SpriteFrame_BetCheck;//修改按钮图片\r\n        this._betCheckSprite.push(btn);\r\n        //播放下注音效\r\n        this.AudioSource_Bet.play();\r\n    },\r\n\r\n    //点击清除下注按钮\r\n    onBtnClick_ClearBet: function () {\r\n        for (var i = 0; i < 6; i++) {\r\n            this._arrayBetDanShuang[i] = [0, 0, 0, 0];//大小单双，四种情况\r\n            this._arrayBetQianEr[i] = [0, 0, 0, 0, 0, 0];//与其他5条狗组成前二，增加一个占位元素，以保证序号对齐\r\n            this._arrayBetDanYa[i] = [0, 0, 0, 0, 0, 0];//单压1-6名，6种情况\r\n        }\r\n        for (var i = 0; i < this.LabelArray_BetDanYa.length; i++) {\r\n            this.LabelArray_BetDanYa[i].string = \"0\";//刷新下注文本\r\n        }\r\n        for (var i = 0; i < this.LabelArray_BetDanShuang.length; i++) {\r\n            this.LabelArray_BetDanShuang[i].string = \"0\";//刷新下注文本\r\n        }\r\n        for (var i = 0; i < this.LabelArray_BetQianEr.length; i++) {\r\n            if (this.LabelArray_BetQianEr[i]) {\r\n                this.LabelArray_BetQianEr[i].string = \"0\";//刷新下注文本\r\n            }\r\n        }\r\n        this.LabelTotalBet.string = this.GetDuZhu();//刷新总下注文本\r\n        for (var i = 0; i < this._betCheckSprite.length; i++) {\r\n            this._betCheckSprite[i].normalSprite = this.SpriteFrame_BetBackground;//修改按钮图片\r\n        }\r\n        this._betCheckSprite.splice(0, this._betCheckSprite.length);//清空数组\r\n        //停止所有奔跑动画\r\n        for (var j = 0; j < this.AnimationArray_run.length; j++) {\r\n            this.AnimationArray_run[j].pause();\r\n        }\r\n    },\r\n\r\n    //点击设置按钮\r\n    onBtnClick_Setting: function () {\r\n        this.Panel_Setting.active = !this.Panel_Setting.active;\r\n    },\r\n\r\n    //点击信息按钮\r\n    onBtnClick_XinXi: function () {\r\n        this.PanelXinXi.active = !this.PanelXinXi.active;\r\n    },\r\n\r\n    //点击赛场按钮\r\n    onBtnClick_saiChang: function () {\r\n        this.Panel_daojishi.active = !this.Panel_daojishi.active;\r\n    },\r\n\r\n    //点击开奖记录按钮\r\n    onBtnClick_kaiJiangJiLu: function () {\r\n        this.Panel_kaiJiangJiLu.active = !this.Panel_kaiJiangJiLu.active;\r\n    },\r\n\r\n    //点击开始按钮\r\n    onBtnClick_KaiShi: function () {\r\n        var duzhu = this.GetDuZhu();\r\n        if (duzhu <= 0) {\r\n            this.Panel_qingxiazhu.active = true;//请下注\r\n            return;\r\n        }\r\n        if (duzhu > Global.accountInfo[\"nCoin\"].lo) {\r\n            this.Panel_qianbugou.active = true;//钱不够了\r\n        }\r\n        else {\r\n            //限制部分界面交互功能\r\n            this.SetPanelInteraction(false);\r\n            //给服务器发消息\r\n            var nListBet = [this._arrayBetDanYa, this._arrayBetQianEr, this._arrayBetDanShuang];\r\n            KBEngine.app.player().reqDogRaceBet(nListBet, Global.currentGameID);//最后一个参数是游戏ID\r\n            Global.accountInfo[\"nCoin\"].lo = Global.accountInfo[\"nCoin\"].lo - duzhu;//总金币数扣除赌注金额\r\n            this.LabelJinBi.string = Global.accountInfo[\"nCoin\"].lo;//刷新总金币数            \r\n        }\r\n    },\r\n\r\n    //赛狗下注返回结果\r\n    onDogRaceBetResult: function (bSuccess) {\r\n        KBEngine.app.player().reqGetDogRaceInfo();//刷新一下赛狗信息\r\n        if (bSuccess === 1) {\r\n            //下注成功            \r\n        }\r\n        else {\r\n            //下注失败\r\n        }\r\n    },\r\n\r\n    //赛狗比赛信息\r\n    onGetDogRaceInfo: function (bBetAllow, nTime1, nTime2) {\r\n        this.SetPanelInteraction(bBetAllow);\r\n        this._nTimeLottery = nTime1;//开奖倒计时\r\n        this._nTimeBet = nTime2;//下注倒计时\r\n    },\r\n\r\n    //接收到服务器消息：返回游戏结果\r\n    onDogRaceRunALottery: function (nResultList, nWinCoin) {\r\n        this._winCoin = nWinCoin.lo;//保存服务器返回的本局赢多少钱\r\n        KBEngine.app.player().reqGetAccountInfo();//请求账户信息\r\n        KBEngine.app.player().reqGetDogRaceInfo();//刷新一下赛狗信息\r\n        var rankArray = new Array(nResultList.length);//转换结果数组，因为客户端和服务器对nResultList的解释不同\r\n        for (var i = 0; i < nResultList.length; i++) {\r\n            rankArray[nResultList[i]] = i;\r\n        }\r\n        //播放赛狗比赛动画\r\n        var panel = cc.instantiate(this.Prefab_HorseRacing);//克隆\r\n        panel.getComponent(\"paogou\").SetData(rankArray, this._winCoin);\r\n        panel.parent = cc.find(\"Canvas\");\r\n        this.onBtnClick_ClearBet();\r\n        //关闭赛场倒计时界面\r\n        this.Panel_daojishi.active = false;\r\n    },\r\n\r\n    //收到消息:得到账户信息\r\n    onGetAccountInfo: function (nSuccess, dict, dictList) {\r\n        if (nSuccess === 1) {\r\n            //success\r\n            //保存用户信息\r\n            Global.accountInfo = dict;\r\n            Global.freeTimes = dictList;\r\n        }\r\n        else {\r\n            //fail\r\n        }\r\n    },\r\n\r\n    //点击音乐开关\r\n    onToggleClick_YinYue: function (toggle, customEventData) {\r\n        if (toggle.isChecked) {\r\n            for (var i = 0; i < this.NodeMusicParent.children.length; i++) {\r\n                this.NodeMusicParent.children[i].getComponent(cc.AudioSource).volume = 1;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < this.NodeMusicParent.children.length; i++) {\r\n                this.NodeMusicParent.children[i].getComponent(cc.AudioSource).volume = 0;\r\n            }\r\n        }\r\n    },\r\n\r\n    //点击音效开关\r\n    onToggleClick_YinXiao: function (toggle, customEventData) {\r\n        if (toggle.isChecked) {\r\n            for (var i = 0; i < this.NodeEffectParent.children.length; i++) {\r\n                this.NodeEffectParent.children[i].getComponent(cc.AudioSource).volume = 1;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < this.NodeEffectParent.children.length; i++) {\r\n                this.NodeEffectParent.children[i].getComponent(cc.AudioSource).volume = 0;\r\n            }\r\n        }\r\n    },\r\n\r\n    //点击返回大厅按钮\r\n    onBtnClick_BackHall: function () {\r\n        cc.director.loadScene(\"hall\");\r\n    },\r\n\r\n    //调整界面交互性\r\n    SetPanelInteraction: function (interactable) {\r\n        var length = this.BtnArrayInteraction.length;\r\n        for (var i = 0; i < length; i++) {\r\n            this.BtnArrayInteraction[i].interactable = interactable;\r\n        }\r\n    },\r\n\r\n    //计算得到下注金额\r\n    GetDuZhu: function () {\r\n        var duzhu = 0;\r\n        for (var i = 0; i < 6; i++) {\r\n            duzhu += this._arrayBetDanShuang[i][0];\r\n            duzhu += this._arrayBetDanShuang[i][1];\r\n            duzhu += this._arrayBetDanShuang[i][2];\r\n            duzhu += this._arrayBetDanShuang[i][3];\r\n\r\n            duzhu += this._arrayBetQianEr[i][0];\r\n            duzhu += this._arrayBetQianEr[i][1];\r\n            duzhu += this._arrayBetQianEr[i][2];\r\n            duzhu += this._arrayBetQianEr[i][3];\r\n            duzhu += this._arrayBetQianEr[i][4];\r\n            duzhu += this._arrayBetQianEr[i][5];\r\n\r\n            duzhu += this._arrayBetDanYa[i][0];\r\n            duzhu += this._arrayBetDanYa[i][1];\r\n            duzhu += this._arrayBetDanYa[i][2];\r\n            duzhu += this._arrayBetDanYa[i][3];\r\n            duzhu += this._arrayBetDanYa[i][4];\r\n            duzhu += this._arrayBetDanYa[i][5];\r\n        }\r\n        return duzhu;\r\n    },\r\n\r\n    //点击关闭界面按钮\r\n    onBtnClick_ClosePanel: function (event, customEventData) {\r\n        event.target.parent.active = false;\r\n    },\r\n});"]}