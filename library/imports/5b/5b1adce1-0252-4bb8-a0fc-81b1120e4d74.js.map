{"version":3,"sources":["assets\\Script\\baijiale\\baijiale.js"],"names":["window","baijiale_global","cc","Class","Component","properties","poker_arr","Node","chip_box","bet_text","player_node","helpNode","onlineNode","recordNode","animeNode_pk","animeNode_start","animeNode_end","chips_node","cardspframe","SpriteFrame","resultspframe","pointspframe","chip_prefab","Prefab","m_iCurrentSelBet","m_iGameOverTime","m_lPoolNum","m_lPointNum","table_userinfo","result_icon","result_icon_w","serializeUsers","user_object","length","playerInfo","require","getInstant","playerInfoEx","baijiale_sc","info_0","score","user_id","id","user_name","nickname","user_url","headimgurl","push","splice","JSON","stringify","shen_suan_zi","info_x","i","ranking_list","info","parseInt","setPlayerView","onLoad","chip_name","chip_nums","debug","setDisplayStats","baijiale_ins","playerId","player_name","playerName","playerHead","playerHeadId","userInfo_list","poker_pos","position","opacity","resetparam","network","active","LandlordsSocket","emit","start","playBGM","init_record","result","res_arr","res_count","win","is_zhuang_dui","is_xian_dui","r","num","k","getChildByName","children","getComponent","Label","string","arr","node","Sprite","spriteFrame","arr_d","j","index","item","content","z","init_stat","game_type","Date","now","bet_time","bet_list","bet_res","bet_gold","setPoolView","setPointView","update","dt","t","playEffect","setBetView","bet","point","lastTouchPoint","str","selbet","betarray","tag","Helper","fixNum","head","headnode","setHeadTexture","showResult","ret","instance","user_win","per_time","needtime","XianCards","ZhuangCards","scheduleOnce","setPokerSp","t_delay","x","y","runAction","moveTo","winarea","sequence","fadeIn","fadeOut","chip_node","on_pool","inited","endpos","owner","v2","removeSelf","setPokerVisible","onBet","chip_startpos","chip_endpos","endnode","ownerTag","userId","convertToWorldSpaceAR","endpos_min","convertToWorldSpace","endpos_max","endx","Math","floor","random","endy","instantiate","indexOf","scale","parent","betBegin","betBegin_r","sp","Skeleton","setCompleteListener","a1","b1","scaleTo","console","log","mm","flag","spawn"],"mappings":"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","sourceRoot":"/","sourcesContent":["window.baijiale_global = {};\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poker_arr:    [cc.Node],\n\n        chip_box:   cc.Node,\n        bet_text:   cc.Node,\n        player_node:   [cc.Node],\n        helpNode:   cc.Node,\n        onlineNode: cc.Node,\n        recordNode: cc.Node,\n\n        animeNode_pk:   cc.Node,\n        animeNode_start:    cc.Node,\n        animeNode_end:  cc.Node,\n\n        chips_node:     cc.Node,\n\n        cardspframe:    [cc.SpriteFrame],\n        //headspframe:    [cc.SpriteFrame],\n        resultspframe:    [cc.SpriteFrame],\n\n        pointspframe:[cc.SpriteFrame],\n\n        chip_prefab:[cc.Prefab],\n        m_iCurrentSelBet:-1,\n\n        m_iGameOverTime:-1,\n        m_lPoolNum:[],\n        m_lPointNum:[],\n\n        // userInfo_list:[],\n        // farseer:{},\n        table_userinfo:[],\n\n        result_icon:[cc.SpriteFrame],\n        result_icon_w:[cc.SpriteFrame],\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    serializeUsers(user_object)\n    {\n        //0自己 1神算 2首富 3-6其他\n        //bet_score\n        //score\n        //user_id\n        //user_name\n        //user_url\n        //win_num\n\n        // this.farseer = user_object.shen_suan_zi;\n        // this.userInfo_list = user_object.ranking_list;\n        if (this.table_userinfo .length == 0){\n            \n            var playerInfo = require(\"PlayerInfo\").getInstant;\n            var playerInfoEx = window.baijiale_sc;\n            var info_0 = {\n                score: playerInfoEx.score,\n                user_id: playerInfoEx.id,\n                user_name: playerInfoEx.nickname,\n                user_url: playerInfoEx.headimgurl};\n            this.table_userinfo.push(info_0);\n        }else{\n            this.table_userinfo.splice(1,this.table_userinfo.length-1);\n        }\n        \n\n        if (JSON.stringify(user_object.shen_suan_zi) != \"{}\")\n        {\n            this.table_userinfo.push(user_object.shen_suan_zi);\n        }else\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        for (var i in user_object.ranking_list)\n        {\n            var info = user_object.ranking_list[i];\n            if (info.user_id == this.table_userinfo[1].user_id && parseInt(i)!=0)\n                continue;\n            if (info.user_id == this.table_userinfo[0].user_id && parseInt(i)!=0)\n                continue;\n\n\n            this.table_userinfo.push(info);\n            if (this.table_userinfo.length>=7)\n                break;\n        }\n\n        for (var i = this.table_userinfo.length; i<7 ;i++)\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        this.setPlayerView();\n    },\n\n    onLoad () {\n\n        this.chip_name = {100:\"chip_5\",500:\"chip_5\",1000:\"chip_10\",5000:\"chip_50\",10000:\"chip_100\",50000:\"chip_500\"};\n        this.chip_nums = [100,500,1000,5000,10000,50000];    \n        cc.debug.setDisplayStats(false);\n        window.baijiale_ins = this;\n        var playerInfo = require(\"PlayerInfo\").getInstant;\n        var playerInfoEx = window.baijiale_sc;\n        this.playerId = playerInfoEx.id;\n        //this.player_score = playerInfoEx.score;\n        this.player_name = playerInfo.playerName;\n        this.playerHead = playerInfo.playerHead;\n        this.playerHeadId = playerInfo.playerHeadId;\n\n        this.m_lPoolNum =[0,0,0,0,0];\n        this.m_lPointNum = [0,0];\n        this.serializeUsers(window.baijiale_global.userInfo_list);\n\n\n        this.poker_pos = [];\n        for (var i in this.poker_arr)\n        {\n            this.poker_pos[i] = this.poker_arr[i].position;\n            this.poker_pos[i].opacity = 0;\n        }\n        \n\n        this.resetparam();\n        this.network = require('baijialeNetWork').getInstant;\n        this.bet_text.active = false;\n\n        this.network.LandlordsSocket.emit('getGameType', '');\n        this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n    },\n\n    start () {\n        playBGM('bg');\n    },\n\n    init_record(result){\n        // var arr = this.node.getChildByName(\"trend_box\").getChildByName(\"ludan_20\").children;\n        // for (var i = result.length-1;i>0;i--)\n        // {\n        //     var res = result[i].win;\n        //     var num = arr.length-1 - (result.length-1 - parseInt(i));\n        //     if (num<0)break;\n        //     var node = arr[num];\n\n        //     node.getComponent(cc.Sprite).spriteFrame = this.resultspframe[res];\n        // }\n\n        var res_arr = [];\n        var res_count = [0,0,0,0,0];\n        for (var i in result)\n        {\n            res_count[result[i].win]++;\n            if (result[i].is_zhuang_dui)res_count[3]++;\n            if (result[i].is_xian_dui)res_count[4]++;\n\n            if (res_arr.length == 0 || res_arr[res_arr.length-1].win != result[i].win){\n                var r = {win:result[i].win , num :0};\n                res_arr.push(r);\n            }else{\n                res_arr[res_arr.length-1].num++;\n            }\n        }\n\n        var k = res_arr.length - this.recordNode.getChildByName('dalu').children.length;\n        if (k>0){\n            res_arr.splice(0,k);\n        }\n\n        this.recordNode.getChildByName('zhuang').getComponent(cc.Label).string = res_count[0];\n        this.recordNode.getChildByName('xian').getComponent(cc.Label).string = res_count[1];\n        this.recordNode.getChildByName('ping').getComponent(cc.Label).string = res_count[2];\n        \n        this.recordNode.getChildByName('zhuangdui').getComponent(cc.Label).string = res_count[3];\n        this.recordNode.getChildByName('xiandui').getComponent(cc.Label).string = res_count[4];\n        \n\n        var arr = this.recordNode.getChildByName('ld_da').children;\n        for (var i in arr){\n            var node = arr[i];\n            if (i>=result.length){\n                node.active = false;\n            }else{\n                node.active = true;\n                node.getComponent(cc.Sprite).spriteFrame = this.result_icon_w[result[i].win];\n            }\n        }\n        var arr_d = this.recordNode.getChildByName('dalu').children;\n        for (var i =0 ;i< arr_d.length;i++){\n            var node = arr_d[i];\n            if (i>=res_arr.length){\n                node.active = false;\n            }else{\n                node.active = true;\n                var info = res_arr[i];\n                for (var j in node.children)\n                {\n                    var index = parseInt(j);\n                    var item = node.children[j];\n                    if (info.num < index){\n                        item.active = false;\n                    }else{\n                        item.active = true;\n                        item.getComponent(cc.Sprite).spriteFrame = this.result_icon[info.win];\n                        if (index == node.children.length - 1)\n                        {\n                            var content = item.getChildByName('label').getComponent(cc.Label);\n                            var z = info.num - node.children.length+1;\n                            content.string = z > 0 ?z:\"\";\n                        }\n                    }\n                }\n            }\n        }\n    },\n\n    init_stat(result){\n        if (result.game_type == 1)\n        {\n            // if (result.bet_time == 20)\n            // {\n            //     this.betBegin();\n            // }else\n            {\n                this.bet_text.active = true;\n                this.m_iGameOverTime = Date.now()/1000+result.bet_time;\n            }\n            this.node.getChildByName(\"anim_wait\").active = false;\n            this.poker_arr[4].opacity = 0;\n            this.poker_arr[5].opacity = 0;\n        }else \n        {\n            this.node.getChildByName(\"anim_wait\").active = true;\n            for (var i in this.poker_arr)\n            {\n                this.poker_arr[i].opacity = 0;\n            }\n        }\n\n        for (var i in result.bet_list)\n        {\n            this.m_lPoolNum[result.bet_list[i].bet_res] = result.bet_list[i].bet_gold;\n        }\n        this.setPoolView();\n    },\n\n    setPoolView()\n    {\n        // for (var i =0;i<3;i++)\n        // {\n        //     this.node.getChildByName(\"main\").getChildByName(\"chip_bg_\"+i).getChildByName(\"pool\").getComponent(cc.Label).string = this.m_lPoolNum[i];    \n        // }\n        \n    },\n\n    setPointView()\n    {\n        this.node.getChildByName('bg').getChildByName('clearing_0').getComponent(cc.Sprite).spriteFrame = this.pointspframe[this.m_lPointNum[0]%10];\n        this.node.getChildByName('bg').getChildByName('clearing_1').getComponent(cc.Sprite).spriteFrame = this.pointspframe[this.m_lPointNum[1]%10];\n    },\n    update(dt){\n        if (this.m_iGameOverTime && this.bet_text.active)\n        {\n            var t = parseInt(this.m_iGameOverTime - Date.now()/1000);\n\n            if (t<=5 && t+\"\" != this.bet_text.getChildByName('New Label').getComponent(cc.Label).string)\n            {                \n                playEffect('countdown');\n                if (t == 0)\n                {\n                    playEffect('stop_s');\n                }\n            }\n\n            if (t<=0) {\n                this.bet_text.active = false;\n                return;\n            }\n            this.bet_text.getChildByName('New Label').getComponent(cc.Label).string = t;\n        }\n    },\n\n    resetparam()\n    {\n        this.m_iCurrentSelBet = -1;\n        this.setBetView();\n        this.setPlayerView();\n    },\n\n    bet(num,point)\n    {\n        this.lastTouchPoint = point;\n        if (this.m_iCurrentSelBet == -1)\n        {\n            return;\n        }\n\n        var  str = JSON.stringify({\n            //bet_type: 1,\n            bet_res: parseInt(num),\n            bet_gold: this.m_iCurrentSelBet,\n        });\n\n        this.network.LandlordsSocket.emit('lottery', str);\n\n        this.setBetView();\n    },\n\n    selbet(num){\n        if (this.m_iCurrentSelBet == num)\n        {\n            this.m_iCurrentSelBet = -1;\n        }else{\n            if (this.table_userinfo[0].score < num)\n            {\n                return;\n            }\n            playEffect('chip');\n            this.m_iCurrentSelBet = num;\n        }\n        this.setBetView();\n    },\n    setBetView()\n    {\n        if (this.m_iCurrentSelBet > this.table_userinfo[0].score)\n        {\n            this.m_iCurrentSelBet = -1;\n        }\n        var betarray = this.chip_box.children;\n        for (var i in betarray)\n        {\n            var node = betarray[i];\n\n            if (this.chip_nums[i] <= this.table_userinfo[0].score)\n            {\n                node.opacity = 255;\n            }else{\n                node.opacity = 128;\n            }\n\n            if (this.chip_nums[i] == this.m_iCurrentSelBet)\n            {\n                node.getChildByName('chip_select').active = true;\n            }else{\n                node.getChildByName('chip_select').active = false;\n            }\n        }\n    },\n\n    setPlayerView()\n    {\n        for (var i in this.player_node)\n        {\n            var tag = parseInt(i);\n            var info;\n            if (tag >= this.table_userinfo.length)\n            {\n                info = {};\n            }else{\n                info = this.table_userinfo[tag];\n            }\n            this.player_node[tag].getChildByName(\"New Label\").getComponent(cc.Label).string = info.user_name;\n            if (this.player_node[tag].getChildByName(\"pl_gold_bar\"))\n                this.player_node[tag].getChildByName(\"pl_gold_bar\").getChildByName(\"New Label\").getComponent(cc.Label).string = Helper.fixNum(info.score);\n\n            var head = info.user_url;\n            var headnode = this.player_node[tag];\n            if (head < 0)\n            {\n                head = 0;\n            }    \n            if (headnode.getChildByName(\"pl_face\"))\n            {\n                headnode = headnode.getChildByName(\"pl_face\");\n            }\n            //headnode.getComponent(cc.Sprite).spriteFrame = this.headspframe[head];\n            window.setHeadTexture(headnode,head);\n        }\n    },\n\n    showResult(ret)\n    {\n        let instance = this;\n        //012 龙虎和 1234 黑红花片\n        //var sam = {hu_card:2307,long_card:258,ResultCode:1,win:1};\n\n        this.table_userinfo[0].score += ret.user_win;\n\n        var per_time = 1.2;\n        var needtime = 1.2*(ret.XianCards.length+ret.ZhuangCards.length -2 ); \n\n\n        this.scheduleOnce(function(){\n            this.setPokerSp(0,ret.XianCards[0]);\n        },0);\n        \n        this.scheduleOnce(function(){\n            this.setPokerSp(1,ret.ZhuangCards[0]);\n        },per_time);\n\n        this.scheduleOnce(function(){\n            this.setPokerSp(2,ret.XianCards[1]);\n        },per_time*2);\n\n        this.scheduleOnce(function(){\n            this.setPokerSp(3,ret.ZhuangCards[1]);\n        },per_time*3);\n\n        var t_delay = 0;\n        if (ret.XianCards.length == 3)\n        {\n            this.scheduleOnce(function(){\n                this.setPokerSp(4,-1);\n                this.poker_arr[4].opacity = 255;\n                this.poker_arr[4].position = this.poker_pos[4];\n                this.poker_arr[4].x+=60;\n                this.poker_arr[4].y+=120;\n                this.poker_arr[4].runAction(cc.moveTo(0.1,this.poker_pos[4]));\n            },per_time*4);\n\n            this.scheduleOnce(function(){\n                this.setPokerSp(4,ret.XianCards[2]);\n            },per_time*4+0.1);\n\n            t_delay = per_time+0.1;\n        }\n\n        if (ret.ZhuangCards.length == 3)\n        {\n            this.scheduleOnce(function(){\n                this.setPokerSp(5,-1);\n                this.poker_arr[5].opacity = 255;\n                this.poker_arr[5].position = this.poker_pos[5];\n                this.poker_arr[5].x-=60;\n                this.poker_arr[5].y+=120;\n                this.poker_arr[5].runAction(cc.moveTo(0.1,this.poker_pos[5]));\n            },per_time*4 + t_delay);\n\n            this.scheduleOnce(function(){\n                this.setPokerSp(5,ret.ZhuangCards[2]);\n            },per_time*4 + t_delay+0.1);\n        }\n\n        //this.setPokerSp(0,ret.long_card);\n        this.scheduleOnce(function(){\n            //this.setPokerSp(1,ret.hu_card);\n            this.scheduleOnce(function(){\n                var winarea = this.node.getChildByName('main').getChildByName('win_effect_'+ret.win);\n                winarea.opacity = 0;\n                winarea.active = true;\n                winarea.runAction(cc.sequence(cc.fadeIn(0.4),cc.fadeOut(0.4),cc.fadeIn(0.4),cc.fadeOut(0.4) ));    \n                \n\n                if (ret.is_zhuang_dui)\n                {\n                    var winarea = this.node.getChildByName('main').getChildByName('win_effect_3');\n                    winarea.opacity = 0;\n                    winarea.active = true;\n                    winarea.runAction(cc.sequence(cc.fadeIn(0.4),cc.fadeOut(0.4),cc.fadeIn(0.4),cc.fadeOut(0.4) )); \n                }\n                if (ret.is_xian_dui)\n                {\n                    var winarea = this.node.getChildByName('main').getChildByName('win_effect_4');\n                    winarea.opacity = 0;\n                    winarea.active = true;\n                    winarea.runAction(cc.sequence(cc.fadeIn(0.4),cc.fadeOut(0.4),cc.fadeIn(0.4),cc.fadeOut(0.4) )); \n                }\n\n            },needtime);\n\n            this.scheduleOnce(function(){  \n                var arr = this.chips_node.children;\n                for (var i in arr)\n                {\n                    var chip_node = arr[i];\n                    if (chip_node.on_pool == ret.win\n                         || (chip_node.on_pool == 3 && ret.is_zhuang_dui)\n                         || (chip_node.on_pool == 4 && ret.is_xian_dui))\n                    {\n                        var inited = false;\n                        var endpos;\n                        if (chip_node.owner == this.playerId)\n                        {\n                            inited = true;\n                            endpos = cc.v2(693,61);\n                        }\n                        if (inited)\n                        {\n                            chip_node.runAction(cc.sequence(cc.moveTo(0.25,endpos),cc.removeSelf()));\n                        }else{\n                            chip_node.runAction(cc.sequence(cc.fadeOut(0.25),cc.removeSelf()));\n                        }\n                    }else{\n                        chip_node.runAction(cc.sequence(cc.fadeOut(0.2),cc.removeSelf()));\n                    }\n                }\n            },needtime+0.4);\n\n            this.scheduleOnce(function (dt) {\n                this.setPlayerView(0);\n                if (ret.user_win>0)\n                {\n                    playEffect('ADD_SCORE');\n                }\n\n                this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n            },needtime);\n\n            this.scheduleOnce(function (dt) {\n                instance.setPokerVisible(false);\n                instance.node.getChildByName(\"anim_wait\").active = true;\n                \n                instance.m_lPoolNum = [0,0,0,0,0];\n                instance.m_lPointNum = [0,0];\n\n                instance.setPoolView();\n\n                instance.setPointView();\n            },needtime+1.4);\n        },needtime);\n        \n    },\n\n    onBet(info){\n        // info.bet_res;\n        // info.bet_gold;\n        // info.userId;\n\n        playEffect('choumaxiazhu');\n        this.m_lPoolNum[info.bet_res] += info.bet_gold;\n        this.setPoolView();\n\n        var chip_startpos;\n        \n        var chip_endpos;\n\n        var inited = false;\n\n        var endnode = this.node.getChildByName('main').getChildByName('betting_area_'+info.bet_res);\n\n        var ownerTag = -1;\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                ownerTag = parseInt(i);\n                break;\n            }\n        }\n\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                this.table_userinfo[i].score -= info.bet_gold;\n            }\n        }\n        this.setPlayerView();\n\n        if (ownerTag == 0)\n        {\n            //this.player_score -= info.bet_gold;\n            inited = true;\n\n            chip_startpos = this.chip_box.getChildByName(this.chip_name[info.bet_gold]).convertToWorldSpaceAR(cc.v2(0, 0));\n            \n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpace(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpace(cc.v2(0, 0));\n\n            if (this.lastTouchPoint.x >=endpos_min.x && this.lastTouchPoint.y >=endpos_min.y\n                && this.lastTouchPoint.x <=endpos_max.x && this.lastTouchPoint.y <=endpos_max.y)\n            {\n                var endx = this.lastTouchPoint.x + Math.floor(Math.random()*60)-30;\n                var endy = this.lastTouchPoint.y + Math.floor(Math.random()*60)-30;\n            }else{\n                var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n                var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n            }\n\n            chip_endpos = cc.v2(endx,endy);\n\n        }else\n        {\n            inited = true;\n\n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpaceAR(cc.v2(0, 0));\n\n\n            var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n            var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n\n            chip_endpos = cc.v2(endx,endy);\n\n            chip_startpos = chip_endpos;\n\n        }\n\n        if (inited)\n        {\n            var chip_node = cc.instantiate(this.chip_prefab[this.chip_nums.indexOf(info.bet_gold)]);\n            chip_node.x = chip_startpos.x;\n            chip_node.y = chip_startpos.y;\n            chip_node.scale = 0.4;\n            chip_node.parent = this.chips_node;\n            chip_node.runAction(cc.moveTo(0.25,chip_endpos.x,chip_endpos.y));\n\n            chip_node.owner = info.userId;\n            chip_node.on_pool = info.bet_res;\n        }\n    },\n\n    betBegin()\n    {\n        this.network.LandlordsSocket.emit(\"getGameRankingList\",\"\");\n    },\n\n    betBegin_r()\n    {\n        playEffect('start_s');\n        this.m_lPoolNum = [0,0,0,0,0];\n        this.m_lPointNum = [0,0];\n        this.setPoolView();\n        this.setPointView();\n\n        this.node.getChildByName(\"anim_wait\").active = false;\n        this.m_iGameOverTime = Date.now()/1000+15;\n\n        let instance = this;\n        //var ske = this.node.getChildByName('lhdpk');\n        // ske.getComponent(sp.Skeleton).setCompleteListener(function () {\n        //     ske.active = false;\n            instance.setPokerVisible(true);\n\n            var start = instance.node.getChildByName('anim_start');\n            start.getComponent(sp.Skeleton).setCompleteListener(function () {\n                start.active = false;\n                instance.bet_text.active = true;\n            });\n            start.active = true;\n\n        // });\n        // ske.active = true;\n    },\n\n    setPokerSp(tag,num)\n    {\n        var node = this.poker_arr[tag];\n\n        if (num<0)\n        {\n            node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[52];\n        }else{\n            var a1 = parseInt(num/16)/16;\n            var b1 = num%16;\n            var i = (b1-1)*13 +(a1-1);\n            node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,0,1.2)));\n            this.scheduleOnce(function(){\n                node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[i];\n                node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,1,1)));\n\n                console.log(\"a1 = \"+a1+\",tag = \"+tag,\",num = \"+num);\n\n                var mm = a1;\n                if (mm >= 10 || mm<0)mm = 0;\n                if (tag%2 ==0)\n                {\n                    this.m_lPointNum[0] += mm;\n                    //this.m_lPointNum[0] = this.m_lPointNum[0]%10;\n                }else{\n                    this.m_lPointNum[1] += mm;\n                    //this.m_lPointNum[1] = this.m_lPointNum[1]%10;\n                }\n\n                this.setPointView();\n\n            },0.5);\n\n        }\n},\n\n    setPokerVisible(flag)\n    {\n        var t = 0.15;\n        if (!flag)\n        {\n            // this.poker_0.runAction(cc.spawn(cc.moveTo(t,cc.v2(-88-60,258+120)),cc.fadeOut(t)));\n            // this.scheduleOnce(function (dt) {\n            //     //this.setPokerSp(0,-1);\n            //     this.poker_0.x = -88;\n            //     this.poker_0.y = 258;\n            //     this.poker_0.opacity = 0;\n            // },t+0.8);\n            // this.poker_1.runAction(cc.spawn(cc.moveTo(t,cc.v2(84-60,258+120)),cc.fadeOut(t)));\n            // this.scheduleOnce(function (dt) {\n            //     //this.setPokerSp(0,-1);\n            //     this.poker_1.x = 84;\n            //     this.poker_1.y = 258;\n            //     this.poker_1.opacity = 0;\n            // },t+0.8);\n\n            for (var j = 0 ;j<6;j++)\n            {\n                let i = j;\n                this.poker_arr[i].runAction(cc.spawn(cc.moveTo(t,cc.v2(this.poker_pos[i].x,this.poker_pos[i].y+120)),cc.fadeOut(t)));\n                this.scheduleOnce(function (dt) {\n                    this.poker_arr[i].position = this.poker_pos[i];\n                    this.setPokerSp(i,-1);\n                },t+0.1);\n            }\n        }else{\n            // playEffect('SEND_CARD');\n            // this.setPokerSp(0,-1);\n            // this.poker_0.opacity = 0;\n            // this.poker_0.x = -88+60;\n            // this.poker_0.y = 258+120;\n            // this.poker_0.runAction(cc.spawn(cc.moveTo(t,cc.v2(-88,258)),cc.fadeIn(t)));\n            \n            // this.scheduleOnce(function(){\n            //     playEffect('SEND_CARD');\n            //     this.setPokerSp(1,-1);\n            //     this.poker_1.opacity = 0;\n            //     this.poker_1.x = 84 - 60;\n            //     this.poker_1.y = 258 + 120;\n            //     this.poker_1.runAction(cc.spawn(cc.moveTo(t,cc.v2(84,258)),cc.fadeIn(t)));        \n            // },t);\n\n            \n            for (var j = 0 ;j<4;j++)\n            {\n                let i = j;\n                this.poker_arr[i].opacity = 0;\n                this.scheduleOnce(function(){\n                    playEffect('SEND_CARD');\n                    this.setPokerSp(i,-1);\n                    this.poker_arr[i].opacity = 0;\n                    this.poker_arr[i].position = this.poker_pos[i];\n                    this.poker_arr[i].y +=120;\n                    if (i%2 ==0)\n                    {\n                        this.poker_arr[i].x +=60;\n                    }else{\n                        this.poker_arr[i].x -=60;\n                    }\n\n                    this.poker_arr[i].runAction(cc.spawn(cc.moveTo(t,this.poker_pos[i]),cc.fadeIn(t)));\n                },j*t);\n            }\n            this.poker_arr[4].opacity = 0;\n            this.poker_arr[5].opacity = 0;\n        }\n    }\n});\n"]}