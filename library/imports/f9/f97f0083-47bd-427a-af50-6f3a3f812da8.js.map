{"version":3,"sources":["assets\\Script\\Flower\\FlowerMain.js"],"names":["cc","Class","Component","properties","lblRoomNo","type","Label","_seats","_timeLabel","_lastPlayingSeat","_playingSeat","_lastPlayTime","_shareContent","paigroup","SpriteAtlas","back","Node","addzhudetail","ops","zhuobj","countdown","_time","bgAudio","AudioClip","onLoad","log","playerInfo","require","getInstant","setGameObj_Function","netWork","setFlowerObj_Function","gameInit_Function","start","audioEngine","playMusic","i","push","find","getComponent","_zhuomian","_edit","_graykanpai","getChildByName","_kanpai","_graygenzhu","_genzhu","_grayjiazhu","_jiazhu","_grayqipai","_qipai","_graybipai","_bipai","_allin","_allZhuLabel","_zhu","_danzhu","_lunshu","_pkPanel","_flashAnim","Animation","_bipaiAnim","_leftLie","_rightLie","_tips","addClickEvent","node","initView","initSeats","console","reconnectP","flowerSocket","emit","target","component","handler","isReplace","eventHandler","EventHandler","clickEvents","Button","active","freshUserInfo","data","self","seats","length","t","canGenzhu","string","hasCheckedPai","currentZhu","toFixed","e","canAddZhu","canBiPai","xiaZhuOptions","holds","seat","spriteFrames","getpaiRes","fanPai","freshGameInfo","freshCurrentZhu","freshCircleCount","circleCount","total","moneyPool","commonInfo","players","temp","userid","costMoney","money","look","seatIndex","getSeatIndexByID","localIndex","getLocalIndex","_kanicon","setCostMoney","setMoney","zhuCount","parseInt","j","children","newNode","instantiate","addChild","zhuObj","zhuFrameCopy","Sprite","spriteFrame","x","Math","random","y","refreshBtns","turn","showXiaDiZhuAnim","children_baoliu","removeAllChildren","addMoney","k","_userName","addMoneyLevel","showZhuAnim","addUser","score","initSingleSeat","changedUserState","gameBegin","JSON","stringify","kanpai","qipai","status","gameMyTurnPush","xiaZhuExtra","allInFlag","gameOverNotify","changedGameTurn","setTime","hideOhersPkButton","gameTimerInitCounter","changedGameAction","bp","guoNotify","genZhuNotify","showGenZhu","kanPaiNotify","getLocalIndexByUserId","showKanPai","jiaZhuNotify","showJiaZhu","qiPaiNotify","userId","showQiPai","win","winer","endData","isEnd","showEndAnim","gameMoneyPool","messageNotify","message","gameCircleCount","gameUserInBiPaiResult","loser","bipaiAnimQueue","bipaiAnimIndex","showBipaiAnim","gameWannaToCompare","showPkButton","gameCountDown","countDown","gameAntiResults","bipaiData","userInfoById","gameInfoById","exitRoom","getGemsAndCoins","noMoneyExit","sbInAllIn","doAllin","index","seatindex","isOffline","online","setInfo","name","headimgurl","setReady","ready","setOffline","setID","onBtnSettingsClicked","onBtnBackClicked","onBtnChatClicked","onBtnWeichatClicked","onBtnDissolveClicked","onClickCloseBd","v","onClickCloseZhu","onBtnExit","update","dt","minutes","floor","Date","now","_lastMinute","date","h","getHours","m","getMinutes","onDestroy","clickKanpai","jiazhu","d","bet","inObject","bipai","clickPkButton","userId2","userId1","playerId","qipaiResult","genzhu","addzhu","split","num","huase_big","huase_small","toString","result","getSpriteFrame","onBtnClicked","event","current_zhu","freshNumOfLun","restart","clearEnd","showPk","play","hidePk","setTimeout","showLie","bipaiAnimCallback","hideLie","showOthersPkButton","dizhuLevel","rollTimes","action","moveTo","v2","runAction","hidePkButton","obj","f","win_userid","win_seatIndex","win_seat","showYanhua","oldX","oldY","clearTimeout","lpx","lpy","rpx","rpy","WseatIndex","LseatIndex","WlocalIndex","LlocalIndex","b1","b2","action1","action2","allin","callback","others","seatData","seatUserId","indexOf","disconnectNetWork_Function","disconnect","error","flower"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        lblRoomNo: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        _seats: [],\r\n        _timeLabel: null,\r\n        _lastPlayingSeat: null,\r\n        _playingSeat: null,\r\n        _lastPlayTime: null,\r\n        _shareContent: null,\r\n        paigroup: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        back: cc.Node,\r\n        addzhudetail: null,\r\n        ops: null,\r\n        zhuobj: null,\r\n        countdown: cc.Label,\r\n        _time: -1,\r\n        bgAudio: {\r\n            default: null,\r\n            type: cc.AudioClip,\r\n        }\r\n    },\r\n    onLoad: function () {\r\n        cc.log('进入炸金花================================================');\r\n        this.playerInfo = require(\"PlayerInfo\").getInstant;\r\n        this.playerInfo.setGameObj_Function(this);\r\n        this.netWork = require(\"FlowerNetWork\").getInstant;\r\n        this.netWork.setFlowerObj_Function(this);\r\n        this.gameInit_Function();\r\n    },\r\n\r\n    start: function () {\r\n        cc.audioEngine.playMusic(this.bgAudio);\r\n    },\r\n\r\n    gameInit_Function: function () {\r\n        for (var i = 0; i < 5; i++) {\r\n            this._seats.push(cc.find(\"Canvas/seat\" + i).getComponent(\"FlowerSeat\"));\r\n        }\r\n        this._timeLabel = cc.find(\"Canvas/time\").getComponent(cc.Label);\r\n        this._zhuomian = cc.find(\"Canvas/zhuomian\");\r\n        this.zhuobj = ['zhu0', 'zhu1', 'zhu2', 'zhu3', 'zhu0_hui', 'zhu1_hui', 'zhu2_hui', 'zhu3_hui'];\r\n        this._edit = cc.find(\"Canvas/edit\");\r\n        this._graykanpai = this._edit.getChildByName('graykanpai');\r\n        this._kanpai = this._edit.getChildByName('kanpai');\r\n        this._graygenzhu = this._edit.getChildByName('graygenzhu');\r\n        this._genzhu = this._edit.getChildByName('genzhu');\r\n        this._grayjiazhu = this._edit.getChildByName('grayjiazhu');\r\n        this._jiazhu = this._edit.getChildByName('jiazhu');\r\n        this._grayqipai = this._edit.getChildByName('grayqipai');\r\n        this._qipai = this._edit.getChildByName('qipai');\r\n        this._graybipai = this._edit.getChildByName('graybipai');\r\n        this._bipai = this._edit.getChildByName('bipai');\r\n        this._allin = this._edit.getChildByName('allin');\r\n        this._allZhuLabel = cc.find(\"Canvas/zongxiazhu/label\").getComponent(cc.Label); //牌桌上所有的注\r\n        this._zhu = cc.find(\"Canvas/zhu\"); //加注界面\r\n        this._danzhu = cc.find(\"Canvas/danzhu\").getComponent(cc.Label); //单注显示\r\n        this._lunshu = cc.find(\"Canvas/lunshu\").getComponent(cc.Label); //轮数显示\r\n        this._pkPanel = cc.find(\"Canvas/pk\"); //pk界面\r\n        this._flashAnim = cc.find(\"Canvas/pk/shandian/pk_shandian\").getComponent(cc.Animation); //闪电动画\r\n        this._bipaiAnim = cc.find(\"Canvas/pk/bipai\").getComponent(cc.Animation); //比牌动画\r\n        this._leftLie = this._pkPanel.getChildByName('leftLie');\r\n        this._rightLie = this._pkPanel.getChildByName('rightLie');\r\n        this._tips = cc.find(\"Canvas/tips\").getComponent(cc.Label); //tips显示\r\n        this.addClickEvent(this._kanpai, this.node, \"FlowerMain\", \"clickKanpai\");\r\n        this.addClickEvent(this.back, this.node, \"FlowerMain\", \"onBtnExit\");\r\n        this.addClickEvent(this._qipai, this.node, \"FlowerMain\", \"qipai\");\r\n        this.addClickEvent(this._bipai, this.node, \"FlowerMain\", \"bipai\");\r\n        this.addClickEvent(this._genzhu, this.node, \"FlowerMain\", \"genzhu\");\r\n        this.addClickEvent(this._jiazhu, this.node, \"FlowerMain\", \"jiazhu\");\r\n        this.addClickEvent(cc.find('Canvas/zhu/zhu0'), this.node, \"FlowerMain\", \"addzhu\");\r\n        this.addClickEvent(cc.find('Canvas/zhu/zhu1'), this.node, \"FlowerMain\", \"addzhu\");\r\n        this.addClickEvent(cc.find('Canvas/zhu/zhu2'), this.node, \"FlowerMain\", \"addzhu\");\r\n        this.addClickEvent(cc.find('Canvas/zhu/zhu3'), this.node, \"FlowerMain\", \"addzhu\");\r\n        this.initView();\r\n        this.initSeats();\r\n        console.log('是不是断线重连：' + this.netWork.reconnectP);\r\n        //断线是2 不断线1\r\n        if (this.netWork.reconnectP == 2) {\r\n            this.netWork.flowerSocket.emit(\"getUserInfoByUserid\");\r\n            this.netWork.flowerSocket.emit(\"getGameInfoByUserid\");\r\n        }\r\n        this.netWork.flowerSocket.emit(\"ready\");\r\n        //audioMgr.playBGM(\"back.mp3\");\r\n    },\r\n\r\n    addClickEvent: function (node, target, component, handler, isReplace) {\r\n        console.log(component + \":\" + handler);\r\n        var eventHandler = new cc.Component.EventHandler();\r\n        eventHandler.target = target;\r\n        eventHandler.component = component;\r\n        eventHandler.handler = handler;\r\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\r\n        if (isReplace) {\r\n            //是否覆盖掉之前的事件\r\n            clickEvents[0] = eventHandler;\r\n        } else {\r\n            clickEvents.push(eventHandler);\r\n        }\r\n    },\r\n\r\n    initView: function () {\r\n        this._kanpai.active = false;\r\n        this._qipai.active = false;\r\n        this._genzhu.active = false;\r\n        this._allin.active = false;\r\n        this._jiazhu.active = false;\r\n        this._bipai.active = false;\r\n        this._pkPanel.active = false;\r\n        this._zhuomian.active = false;\r\n        this._tips.node.active = true;\r\n    },\r\n    freshUserInfo: function (data) {\r\n        console.log('获取断线重连后的用户信息', data);\r\n        var self = this;\r\n        var seats = this.netWork.seats;\r\n        for (var i = 0; i < seats.length; i++) {\r\n            for (var t = 0; t < 3; t++) {\r\n                cc.find('Canvas/seat' + i + '/fupai' + t).active = true;\r\n            }\r\n        }\r\n        cc.find(\"Canvas/danzhu\").active = true;\r\n        cc.find(\"Canvas/lunshu\").active = true;\r\n        cc.find(\"Canvas/zongxiazhu\").active = true;\r\n        self._tips.node.active = false;\r\n        // cc.find('Canvas/back').active = false;\r\n        self.countdown.node.active = false;\r\n        self._qipai.active = true;\r\n        self._genzhu.active = data.canGenzhu;\r\n        try {\r\n            self._genzhu.getChildByName('num').getComponent(cc.Label).string = data.hasCheckedPai ? (data.currentZhu * 2 / 100).toFixed(2) : (data.currentZhu / 100).toFixed(2);\r\n        } catch (e) {\r\n            console.log('无视没有currentZhu字段', e);\r\n        }\r\n        self._kanpai.active = !data.hasCheckedPai;\r\n        self._jiazhu.active = data.canAddZhu;\r\n        self._bipai.active = data.canBiPai;\r\n        self.ops = data.xiaZhuOptions;\r\n        self.addzhudetail = data.xiaZhuOptions;\r\n        var holds = data.holds;\r\n        if (data.hasCheckedPai && holds && holds.length > 0) {\r\n            var seat = self._seats[0];\r\n            var spriteFrames = [];\r\n            for (var i = 0; i < 3; i++) {\r\n                spriteFrames.push(self.getpaiRes(holds[i]));\r\n            }\r\n            seat.fanPai(spriteFrames);\r\n        }\r\n    },\r\n    freshGameInfo: function (data) {\r\n        console.log('获取断线重连后的游戏信息', data);\r\n        // if (this.ops) {\r\n        var self = this;\r\n        this.freshCurrentZhu(data.currentZhu);\r\n        this.freshCircleCount(data.circleCount);\r\n        this._zhuomian.active = true;\r\n        var total = data.moneyPool;\r\n        self._allZhuLabel.string = (total / 100).toFixed(2); //总数\r\n        //fresh其他人的数据\r\n        var commonInfo = data.players;\r\n\r\n        for (var i in commonInfo) {\r\n            var temp = commonInfo[i];\r\n            var userid = temp.userid;\r\n            var costMoney = temp.costMoney; //下的注\r\n            var money = (temp.money * 0.01).toFixed(2); //所有用的钱\r\n            var look = temp.hasCheckedPai;\r\n            //刷新这个人的信息\r\n            var seatIndex = this.netWork.getSeatIndexByID(userid);\r\n            var localIndex = this.netWork.getLocalIndex(seatIndex);\r\n            var seat = self._seats[localIndex];\r\n            try {\r\n                seat._kanicon.active = look;\r\n                seat.setCostMoney(costMoney);\r\n                seat.setMoney(money);\r\n            } catch (e) {\r\n                cc.log('获取断线重连后的游戏信息err', e);\r\n            }\r\n        }\r\n        let zhuCount = parseInt(total / 100);\r\n        for (let j = 0; j < zhuCount; j++) {\r\n            let node = self._zhuomian.children[0];\r\n            let newNode = cc.instantiate(node);\r\n            self._zhuomian.addChild(newNode);\r\n            let zhuObj = cc.find('Canvas/zhu/' + this.zhuobj[0]);\r\n            let zhuFrameCopy = zhuObj.getComponent(cc.Sprite).spriteFrame;\r\n            newNode.getComponent(cc.Sprite).spriteFrame = zhuFrameCopy;\r\n            newNode.x = Math.random() * 200 - 100;\r\n            newNode.y = Math.random() * 160 - 80;\r\n            newNode.active = true;\r\n        }\r\n\r\n    },\r\n\r\n    refreshBtns: function (data) {\r\n        var seats = this.netWork.seats;\r\n        for (var i = 0; i < seats.length; i++) {\r\n            for (var t = 0; t < 3; t++) {\r\n                cc.find('Canvas/seat' + i + '/fupai' + t).active = true;\r\n            }\r\n        }\r\n        cc.find(\"Canvas/danzhu\").active = true;\r\n        cc.find(\"Canvas/lunshu\").active = true;\r\n        cc.find(\"Canvas/zongxiazhu\").active = true;\r\n        this._tips.node.active = false;\r\n        this.countdown.node.active = false;\r\n        this.freshCurrentZhu(data.currentZhu);\r\n        this.freshCircleCount(data.turn);\r\n        this._kanpai.active = true;\r\n        this._qipai.active = true;\r\n        this._genzhu.active = false;\r\n        this._jiazhu.active = false;\r\n        this._bipai.active = false;\r\n        this.showXiaDiZhuAnim(data.currentZhu); //下底注动画\r\n    },\r\n    showXiaDiZhuAnim: function (currentZhu) {\r\n        var children_baoliu = [];\r\n        for (var i in this._zhuomian.children) {\r\n            if (i < 5) {\r\n                //只留5个底注的筹码\r\n                children_baoliu.push(this._zhuomian.children[i]);\r\n            }\r\n            this._zhuomian.children[i].active = false;\r\n        }\r\n        this._zhuomian.removeAllChildren();\r\n        for (var j in children_baoliu) {\r\n            this._zhuomian.addChild(children_baoliu[j]);\r\n        }\r\n        this._zhuomian.active = true;\r\n        var addMoney = 100;\r\n        if (currentZhu) {\r\n            addMoney = parseInt(currentZhu) * 0.5;\r\n        }\r\n        for (var k in this._seats) {\r\n            if (!this._seats[k]._userName) {\r\n                continue;\r\n            };\r\n            var data = {\r\n                x: this._seats[k].node.x,\r\n                y: this._seats[k].node.y,\r\n                addMoney: addMoney,\r\n                addMoneyLevel: 0\r\n            }\r\n            this.showZhuAnim(data, k);\r\n        }\r\n    },\r\n    addUser: function (data) {\r\n        data.score = (data.score * 0.01).toFixed(2);\r\n        this.initSingleSeat(data);\r\n    },\r\n    changedUserState: function (data) {\r\n        this.initSingleSeat(data);\r\n    },\r\n    gameBegin: function (data) {\r\n        cc.log('开始游戏====================' + JSON.stringify(data));\r\n        this.refreshBtns(data);\r\n    },\r\n    kanpai: function (data) {\r\n        this._zhu.active = false;\r\n        var holds = data.holds;\r\n        var seat = this._seats[0];\r\n        var spriteFrames = [];\r\n        for (var i = 0; i < 3; i++) {\r\n            spriteFrames.push(this.getpaiRes(holds[i]));\r\n        }\r\n        seat.fanPai(spriteFrames);\r\n        var currentZhu = data.currentZhu;\r\n        this._genzhu.getChildByName('num').getComponent(cc.Label).string = (currentZhu * 2 / 100).toFixed(2);\r\n        this.hasCheckedPai = true;\r\n    },\r\n    qipai: function (data) {\r\n        if (data.status == 'shu') {\r\n            cc.find('Canvas/seat0/shuicon').active = true;\r\n        } else {\r\n            cc.find('Canvas/seat0/qiicon').active = true;\r\n        }\r\n        this._grayqipai.active = true;\r\n        this._qipai.active = false;\r\n        var holds = data.holds;\r\n        var seat = this._seats[0];\r\n        var spriteFrames = [];\r\n        for (var i = 0; i < 3; i++) {\r\n            spriteFrames.push(this.getpaiRes(holds[i]));\r\n        }\r\n        seat.fanPai(spriteFrames);\r\n    },\r\n    gameMyTurnPush: function (data) {\r\n        console.log(\"轮到自己消息：\" + JSON.stringify(data));\r\n        this.addzhudetail = data.xiaZhuOptions;\r\n        this.ops = data.xiaZhuExtra.ops;\r\n        //可操作按钮\r\n        if (data.canAddZhu) {\r\n            this._jiazhu.active = true;\r\n        }\r\n        if (data.canGenzhu) {\r\n            this._genzhu.active = true;\r\n            var currentZhu = data.currentZhu;\r\n            if (data.hasCheckedPai) {\r\n                currentZhu = currentZhu * 2;\r\n            }\r\n            this.hasCheckedPai = data.hasCheckedPai;\r\n            this._genzhu.getChildByName('num').getComponent(cc.Label).string = (currentZhu / 100).toFixed(2);\r\n        }\r\n        if (data.canBiPai) {\r\n            this._bipai.active = true;\r\n        }\r\n        if (data.allInFlag) {\r\n            this._allin.active = true;\r\n            // this._graygenzhu.active = false;\r\n        } else {\r\n            this._allin.active = false;\r\n        }\r\n    },\r\n    gameOverNotify: function (data) {\r\n        // var i = this.netWork.getLocalIndex(this.netWork.getSeatIndexByID(data));\r\n        // cc.find('Canvas/seat' + i + '/toggle').active = false;\r\n        for (var t = 0; t < 5; t++) {\r\n            cc.find('Canvas/seat' + t + '/toggle').active = false;\r\n        }\r\n        this._zhu.active = false;\r\n    },\r\n    changedGameTurn: function (data) {\r\n        var i = this.netWork.getLocalIndex(this.netWork.getSeatIndexByID(data));\r\n        for (var t = 0; t < 5; t++) {\r\n            cc.find('Canvas/seat' + t + '/toggle').active = false;\r\n        }\r\n        cc.find('Canvas/seat' + i + '/toggle').active = true;\r\n        this._seats[i].setTime();\r\n        this.hideOhersPkButton();\r\n        this._tips.node.active = false;\r\n        if (i != 0) {\r\n            //如果没有轮到自己操作\r\n            this._genzhu.active = false;\r\n            this._jiazhu.active = false;\r\n            this._bipai.active = false;\r\n            this._zhu.active = false;\r\n        }\r\n    },\r\n    gameTimerInitCounter: function (data) {\r\n        var i = this.netWork.getLocalIndex(this.netWork.getSeatIndexByID(data));\r\n        for (var t = 0; t < 5; t++) {\r\n            cc.find('Canvas/seat' + t + '/toggle').active = false;\r\n        }\r\n        cc.find('Canvas/seat' + i + '/toggle').active = true;\r\n        this._seats[i].setTime();\r\n    },\r\n    changedGameAction: function (data) {\r\n        //TODO:服务器判断是否能下注\r\n        var bp = cc.find('Canvas/edit/bipai');\r\n        // if (data.xiaZhuOptions) this.addzhudetail = data.xiaZhuOptions;\r\n        // if (data.xiaZhuExtra.ops) this.ops = data.xiaZhuExtra.ops;\r\n        if (data.canBiPai) {\r\n            bp.active = true;\r\n        } else {\r\n            bp.active = false;\r\n        }\r\n    },\r\n    guoNotify: function (data) {\r\n        cc.find('Canvas/seat0/toggle').active = false;\r\n    },\r\n    genZhuNotify: function (data) {\r\n        var userid = data.userid;\r\n        var seatIndex = this.netWork.getSeatIndexByID(userid);\r\n        var localIndex = this.netWork.getLocalIndex(seatIndex);\r\n        var seat = this._seats[localIndex];\r\n        seat.showGenZhu();\r\n        var currentZhu = data.currentZhu;\r\n        var hasCheckedPai = data.hasCheckedPai;\r\n        var addMoney = data.addMoney;\r\n        var addMoneyLevel = data.addMoneyLevel;\r\n        this.freshCurrentZhu(currentZhu);\r\n        var data = {\r\n            x: seat.node.x,\r\n            y: seat.node.y,\r\n            addMoney: addMoney,\r\n            addMoneyLevel: addMoneyLevel,\r\n            hasCheckedPai: hasCheckedPai\r\n        }\r\n        this.showZhuAnim(data);\r\n    },\r\n    kanPaiNotify: function (data) {\r\n        var userid = data;\r\n        var localIndex = this.netWork.getLocalIndexByUserId(userid);\r\n        var seat = this._seats[localIndex];\r\n        seat.showKanPai();\r\n    },\r\n    jiaZhuNotify: function (data) {\r\n        var userid = data.userid;\r\n        var localIndex = this.netWork.getLocalIndexByUserId(userid);\r\n        var seat = this._seats[localIndex];\r\n        seat.showJiaZhu();\r\n        var currentZhu = data.currentZhu;\r\n        var hasCheckedPai = data.hasCheckedPai;\r\n        var addMoney = data.addMoney;\r\n        var addMoneyLevel = data.addMoneyLevel;\r\n        this.freshCurrentZhu(currentZhu);\r\n        var data = {\r\n            x: seat.node.x,\r\n            y: seat.node.y,\r\n            addMoney: addMoney,\r\n            addMoneyLevel: addMoneyLevel,\r\n            hasCheckedPai: hasCheckedPai\r\n        }\r\n        this.showZhuAnim(data);\r\n    },\r\n    qiPaiNotify: function (data) {\r\n        var data = data;\r\n        var userid = data.userId;\r\n        var localIndex = this.netWork.getLocalIndexByUserId(userid);\r\n        var seat = this._seats[localIndex];\r\n        seat.showQiPai(data.status);\r\n    },\r\n    win: function (data) {\r\n        //赢了一局\r\n        console.log('赢了一局', data);\r\n        //赢的人显示手牌\r\n        var userid = data.winer;\r\n        var localIndex = this.netWork.getLocalIndexByUserId(userid);\r\n        var seat = this._seats[localIndex];\r\n        var holds = data.holds;\r\n        var spriteFrames = [];\r\n        for (var i = 0; i < 3; i++) {\r\n            spriteFrames.push(this.getpaiRes(holds[i]));\r\n        }\r\n        seat.fanPai(spriteFrames);\r\n        //赢了的动画\r\n        this.endData = data;\r\n        this.isEnd = true;\r\n        if (!this._pkPanel.active) {\r\n            this.showEndAnim();\r\n        }\r\n    },\r\n    gameMoneyPool: function (data) {\r\n        //刷新总注\r\n        var total = data.moneyPool;\r\n        this._allZhuLabel.string = (total / 100).toFixed(2);; //总数\r\n        //fresh其他人的数据\r\n        var commonInfo = data.commonInfo;\r\n        for (var i in commonInfo) {\r\n            var userid = i;\r\n            var temp = commonInfo[i];\r\n            var costMoney = temp.costMoney; //下的注\r\n            var money = temp.money; //所有用的钱\r\n            //刷新这个人的信息\r\n            var seatIndex = this.netWork.getSeatIndexByID(userid);\r\n            var localIndex = this.netWork.getLocalIndex(seatIndex);\r\n            var seats = this.netWork.seats;\r\n            seats[seatIndex].score = money;\r\n            var seat = this._seats[localIndex];\r\n            seat.setCostMoney(costMoney);\r\n            seat.setMoney(money);\r\n        }\r\n    },\r\n    messageNotify: function (data) {\r\n        //消息显示\r\n        var message = data.message;\r\n        //改\r\n        //alert.show(\"注意\", message);\r\n    },\r\n    gameCircleCount: function (data) {\r\n        //刷新轮数\r\n        var circleCount = data;\r\n        this.freshCircleCount(circleCount);\r\n    },\r\n    gameUserInBiPaiResult: function (data) {\r\n        var winer = data.winer;\r\n        var loser = data.loser;\r\n        this.bipaiAnimQueue = [{\r\n            winer: winer,\r\n            loser: loser\r\n        }]; //比牌队列\r\n        this.bipaiAnimIndex = 0;\r\n        this.showBipaiAnim();\r\n    },\r\n    gameWannaToCompare: function (data) {\r\n        if (!data || data.length < 1) {\r\n            this._tips.node.active = false;\r\n            return;\r\n        }\r\n        this._tips.string = \"请选择比牌玩家\";\r\n        this._tips.node.active = true;\r\n        for (var i in data) {\r\n            var userid = data[i].userid;\r\n            var seatIndex = this.netWork.getSeatIndexByID(userid);\r\n            var localIndex = this.netWork.getLocalIndex(seatIndex);\r\n            var seat = this._seats[localIndex];\r\n            seat.showPkButton();\r\n        }\r\n    },\r\n    gameCountDown: function (data) {\r\n        if (this._tips.node.active) {\r\n            this._tips.node.active = false;\r\n        }\r\n        this.countdown.string = data.countDown;\r\n        this.countdown.node.active = true;\r\n        if (data.countDown <= 0) {\r\n            this.countdown.node.active = false;\r\n        }\r\n    },\r\n    gameAntiResults: function (data) {\r\n        //最后一轮的比牌\r\n        this.bipaiAnimQueue = [];\r\n        for (var i in data) {\r\n            var bipaiData = data[i];\r\n            var winer = bipaiData['winUserid'];\r\n            var loser = bipaiData['loseUserid'];\r\n            this.bipaiAnimQueue.push({\r\n                winer: winer,\r\n                loser: loser\r\n            }); //比牌队列\r\n        }\r\n        this.bipaiAnimIndex = 0;\r\n        this.showBipaiAnim();\r\n    },\r\n    userInfoById: function (data) {\r\n        //获取断线重连后的用户信息\r\n        this.freshUserInfo(data);\r\n    },\r\n    gameInfoById: function (data) {\r\n        //获取断线重连后的游戏信息\r\n        this.freshGameInfo(data);\r\n    },\r\n    exitRoom: function () {\r\n        //刷新用户钱币数量\r\n        this.getGemsAndCoins();\r\n    },\r\n    noMoneyExit: function (data) {\r\n        //提示金钱不足\r\n        //改\r\n        //alert.show(\"提示\", \"金钱不足，您将退出房间，请在活动领取每日金币补助\");\r\n    },\r\n    sbInAllIn: function (data) {\r\n        //全下\r\n        this.doAllin(data, function () {\r\n            this.netWork.flowerSocket.emit('allInActiveFromClient'); //触发下一步\r\n        });\r\n    },\r\n    //设置金币钻石数量\r\n    getGemsAndCoins: function () {\r\n\r\n        //改\r\n        // userMgr.getGemsAndCoins(function(data) {\r\n        //     userMgr.gems = data.gems;\r\n        //     userMgr.coins = data.coins;\r\n        // });\r\n    },\r\n    initSeats: function () {\r\n        var seats = this.netWork.seats;\r\n        console.log('^^^^^^^^^^^^^^^^^^^^^');\r\n        console.log(seats);\r\n        if (!seats) return;\r\n        for (var i = 0; i < seats.length; ++i) {\r\n            this.initSingleSeat(seats[i]);\r\n        }\r\n    },\r\n    initSingleSeat: function (seat) {\r\n        var index = this.netWork.getLocalIndex(seat.seatindex);\r\n        var isOffline = !seat.online;\r\n        this._seats[index].setInfo(seat.name, seat.score, seat.headimgurl);\r\n        this._seats[index].setReady(seat.ready);\r\n        this._seats[index].setOffline(isOffline);\r\n        this._seats[index].setID(seat.userid);\r\n    },\r\n    onBtnSettingsClicked: function () {\r\n        //改\r\n        //popupMgr.showSettings();\r\n    },\r\n    onBtnBackClicked: function () {\r\n        /** 改 \r\n        alert.show(\"返回大厅\", \"返回大厅房间仍会保留，快去邀请大伙来玩吧！\", function() {\r\n            cc.director.loadScene(\"hall\");\r\n        }, true);\r\n\r\n        */\r\n    },\r\n    onBtnChatClicked: function () {},\r\n    // 点击分享按钮，使用微信分享\r\n    onBtnWeichatClicked: function () {\r\n        //改\r\n        //share.show();\r\n    },\r\n    onBtnDissolveClicked: function () {\r\n        /* 改\r\n        alert.show(\"解散房间\", \"解散房间不扣金币，是否确定解散？\", function() {\r\n            this.netWork.flowerSocket.emit(\"dispress\");\r\n        }, true);\r\n        */\r\n    },\r\n\r\n    onClickCloseBd(e, v) {\r\n        cc.find('Canvas/com_ingame_tips').active = false;\r\n    },\r\n\r\n    onClickCloseZhu() {\r\n        this._zhu.active = false;\r\n    },\r\n\r\n    onBtnExit: function () {\r\n        if (this.netWork.flowerSocket) {\r\n            this.netWork.flowerSocket.emit(\"LogoutRoom\");\r\n        }\r\n    },\r\n    update: function (dt) {\r\n        var minutes = Math.floor(Date.now() / 1000 / 60);\r\n        if (this._lastMinute != minutes) {\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10 ? \"0\" + h : h;\r\n            var m = date.getMinutes();\r\n            m = m < 10 ? \"0\" + m : m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;\r\n        }\r\n    },\r\n    onDestroy: function () {},\r\n    //点击看牌按钮\r\n    clickKanpai: function () {\r\n        this.netWork.flowerSocket.emit('kanpai');\r\n        this._kanpai.active = false;\r\n    },\r\n    //点击加注按钮，打开加注界面\r\n    jiazhu: function () {\r\n        console.log(\"打开加注页面\");\r\n        var self = this;\r\n        for (var d in self.zhuobj) {\r\n            cc.find('Canvas/zhu/' + self.zhuobj[d]).active = false;\r\n        }\r\n        self._zhu.active = true;\r\n        let bet = this.hasCheckedPai ? 2 : 1;\r\n        for (var i in self.addzhudetail) {\r\n            if (self.inObject(self.addzhudetail[i], self.ops)) {\r\n                self._zhu.getChildByName('zhu' + i).active = true;\r\n                self._zhu.getChildByName('zhu' + i).getChildByName('label').getComponent(cc.Label).string = (self.addzhudetail[i] * bet).toFixed(2);\r\n            } else {\r\n                self._zhu.getChildByName('zhu' + i + '_hui').active = true;\r\n                self._zhu.getChildByName('zhu' + i + '_hui').getChildByName('label').getComponent(cc.Label).string = (self.addzhudetail[i] * bet).toFixed(2);\r\n            };\r\n        }\r\n    },\r\n    //点击比牌按钮\r\n    bipai: function () {\r\n        this.netWork.flowerSocket.emit('wannaToComparePai');\r\n        //显示其他人的pk按钮，选择和谁比牌\r\n        // this.showOthersPkButton();\r\n    },\r\n    clickPkButton: function (userId2) {\r\n        console.log('点击比牌======================================' + userId2);\r\n        this.hideOhersPkButton();\r\n        var userId1 = this.playerInfo.playerId; //自己\r\n        this.netWork.flowerSocket.emit('bipai', {\r\n            userId1: userId1,\r\n            userId2: userId2\r\n        });\r\n    },\r\n    //点击弃牌按钮\r\n    qipai: function () {\r\n        this.netWork.flowerSocket.emit('qipai');\r\n        cc.find('Canvas/seat0/qiicon').active = true;\r\n        console.log('弃牌');\r\n    },\r\n\r\n    //棋牌结果\r\n    qipaiResult: function () {\r\n        this._kanpai.active = false;\r\n        this._qipai.active = false;\r\n        this._genzhu.active = false;\r\n        this._jiazhu.active = false;\r\n        this._bipai.active = false;\r\n        this._zhu.active = false;\r\n    },\r\n\r\n    //点击跟注按钮\r\n    genzhu: function () {\r\n        this.netWork.flowerSocket.emit('genzhu');\r\n    },\r\n    addzhu: function (e) {\r\n        var self = this;\r\n        var index = e.target.name.split('zhu')[1];\r\n        var num = self.addzhudetail[index];\r\n        console.log(\"加注：\" + num * 100);\r\n        this.netWork.flowerSocket.emit('addzhu', num * 100);\r\n        this._zhu.active = false;\r\n    },\r\n    getpaiRes: function (data) {\r\n        var self = this;\r\n        data = data + 1;\r\n        var type, num, huase_big, huase_small;\r\n        num = (data % 100).toString();\r\n        if (data > 0 && data < 14) {\r\n            type = '04'; //黑桃\r\n            num = num + '-1'; //黑牌\r\n        } else if (data > 100 && data < 114) {\r\n            type = '03'; //红桃\r\n            num = num + '-2'; //红牌\r\n        } else if (data > 200 && data < 214) {\r\n            type = '02'; //梅花\r\n            num = num + '-1'; //黑牌\r\n        } else if (data > 300 && data < 314) {\r\n            type = '01'; //方块\r\n            num = num + '-2'; //红牌\r\n        }\r\n        huase_big = \"huase_big\" + type;\r\n        huase_small = \"huase_small\" + type;\r\n        var result = {\r\n            num: self.paigroup.getSpriteFrame(num),\r\n            huase_big: self.paigroup.getSpriteFrame(huase_big),\r\n            huase_small: self.paigroup.getSpriteFrame(huase_small),\r\n        };\r\n        // if (num == '1') num = 'A';\r\n        // if (num == '11') num = 'J';\r\n        // if (num == '12') num = 'Q';\r\n        // if (num == '13') num = 'K';\r\n        return result;\r\n    },\r\n    onBtnClicked: function (event) {\r\n        if (event.target.name != \"zhu\") {\r\n            cc.find('Canvas/zhu').active = false;\r\n        }\r\n    },\r\n    freshCurrentZhu: function (current_zhu) {\r\n        this._danzhu.string = \"单注：\" + (current_zhu / 100).toFixed(2);\r\n    },\r\n    freshNumOfLun: function (num) {},\r\n    restart: function () {\r\n        this.clearEnd();\r\n        this.initView();\r\n        this.initSeats();\r\n    },\r\n    freshCircleCount: function (circleCount) {\r\n        circleCount = circleCount >= 14 ? 14 : circleCount;\r\n        this._lunshu.string = \"轮数：\" + (circleCount + 1) + \"/15\";\r\n    },\r\n    showPk: function () {\r\n        this._leftLie.active = false;\r\n        this._rightLie.active = false;\r\n        this._pkPanel.active = true;\r\n        //播放比牌动画\r\n        this._flashAnim.play('pk_shandian');\r\n        this._bipaiAnim.play('bipai');\r\n    },\r\n    hidePk: function (data) {\r\n        var self = this;\r\n        setTimeout(function () {\r\n            self.showLie(data);\r\n            setTimeout(function () {\r\n                self._pkPanel.active = false;\r\n                self.bipaiAnimIndex++; //下一个比牌动画\r\n                if (self.bipaiAnimIndex >= self.bipaiAnimQueue.length) {\r\n                    //没有下一个动画了\r\n                    if (self.isEnd) {\r\n                        //如果标识为游戏结束\r\n                        self.showEndAnim();\r\n                    } else {\r\n                        //如果没有结束,执行比牌系列动画结束后的回调函数\r\n                        if (self.bipaiAnimCallback) {\r\n                            self.bipaiAnimCallback();\r\n                        }\r\n                    }\r\n                } else {\r\n                    self.showBipaiAnim(); //执行下一个比牌动画\r\n                }\r\n\r\n            }, 1000);\r\n        }, 1000);\r\n    },\r\n    showLie: function (data) {\r\n        //0-显示左边裂牌 1-显示右边裂牌\r\n        if (data == 1) {\r\n            this._rightLie.active = true;\r\n        } else {\r\n            this._leftLie.active = true;\r\n        }\r\n    },\r\n    hideLie: function () {\r\n        this._leftLie.active = false;\r\n        this._rightLie.active = false;\r\n    },\r\n    showOthersPkButton: function () {\r\n        for (var i in this._seats) {\r\n            if (i == 0) continue;\r\n            var seat = this._seats[i];\r\n            seat.showPkButton();\r\n        }\r\n    },\r\n    showZhuAnim: function (data, dizhuLevel) {\r\n        console.log(\"下注动画数据\" + JSON.stringify(data));\r\n        //下注动画\r\n        if (!data) return;\r\n        let rollTimes = Math.floor(data.addMoney / 100);\r\n        for (let i = 0; i < rollTimes; i++) {\r\n            var x = data.x; //起始点X\r\n            var y = data.y; //起始点Y\r\n            var addMoneyLevel = data.addMoneyLevel;\r\n            var node = this._zhuomian.children[0];\r\n            var newNode = cc.instantiate(node);\r\n            if (typeof dizhuLevel != 'undefined') {\r\n                //如果是底注本身\r\n                newNode = this._zhuomian.children[dizhuLevel];\r\n            } else {\r\n                this._zhuomian.addChild(newNode);\r\n            }\r\n            var zhuObj = cc.find('Canvas/zhu/' + this.zhuobj[addMoneyLevel]);\r\n            var zhuFrameCopy = zhuObj.getComponent(cc.Sprite).spriteFrame;\r\n            newNode.getComponent(cc.Sprite).spriteFrame = zhuFrameCopy;\r\n            newNode.x = x;\r\n            newNode.y = y;\r\n            newNode.active = true;\r\n            var action = cc.moveTo(0.4, cc.v2(Math.random() * 200 - 100, Math.random() * 160 - 80));\r\n            newNode.runAction(action);\r\n        }\r\n    },\r\n    hideOhersPkButton: function () {\r\n        var self = this;\r\n        self._tips.node.active = false;\r\n        // cc.find('Canvas/back').active = false;\r\n        for (var i in this._seats) {\r\n            if (i == 0) continue;\r\n            var seat = this._seats[i];\r\n            seat.hidePkButton();\r\n        }\r\n    },\r\n    inObject: function (data, obj) {\r\n        var f = false;\r\n        for (var i in obj) {\r\n            if (data == obj[i]) {\r\n                f = true;\r\n                break;\r\n            }\r\n        }\r\n        return f;\r\n    },\r\n    //结束动画\r\n    showEndAnim: function () {\r\n        var self = this;\r\n        var data = self.endData;\r\n        if (data) {\r\n            var win_userid = data.winer;\r\n            var holds = data.holds;\r\n            var win_seatIndex = this.netWork.getLocalIndex(this.netWork.getSeatIndexByID(win_userid));\r\n            //取得座位\r\n            var win_seat = self._seats[win_seatIndex];\r\n\r\n            setTimeout(() => {\r\n                win_seat.showYanhua(); //放烟花\r\n                //筹码移动动画\r\n                // self._zhuomian.active = true;\r\n                for (var i in self._zhuomian.children) {\r\n                    var node = self._zhuomian.children[i];\r\n                    var action = cc.moveTo(1, cc.v2(win_seat.node.x, win_seat.node.y));\r\n                    node.oldX = node.x;\r\n                    node.oldY = node.y;\r\n                    node.runAction(action);\r\n                }\r\n            }, 1000);\r\n\r\n            setTimeout(function () {\r\n                // self._zhuomian.active = false;\r\n                if (self._zhuomian) {\r\n                    for (var i in self._zhuomian.children) {\r\n                        var node = self._zhuomian.children[i];\r\n                        if (node.oldX) {\r\n                            node.x = node.oldX;\r\n                        }\r\n                        if (node.oldY) {\r\n                            node.y = node.oldY;\r\n                        }\r\n                    }\r\n                    //重新开始一局\r\n                    self.restart();\r\n                }\r\n            }, 1500);\r\n        }\r\n    },\r\n    clearEnd: function () {\r\n        var self = this;\r\n        self.isEnd = false;\r\n        self.endData = null;\r\n        self._tips.string = \"正在等待下一局游戏\";\r\n        self._tips.node.active = true;\r\n        // cc.find('Canvas/back').active = true;\r\n        var t = setTimeout(function () {\r\n            clearTimeout(t);\r\n            self.netWork.flowerSocket.emit('ready');\r\n        }, 1000);\r\n    },\r\n    //比牌动画\r\n    showBipaiAnim: function () {\r\n        var self = this;\r\n        var bipaiData = self.bipaiAnimQueue[self.bipaiAnimIndex];\r\n        var winer = bipaiData['winer'];\r\n        var loser = bipaiData['loser'];\r\n        var lpx = cc.find('Canvas/pk/leftPai').x,\r\n            lpy = cc.find('Canvas/pk/leftPai').y,\r\n            rpx = cc.find('Canvas/pk/rightPai').x,\r\n            rpy = cc.find('Canvas/pk/rightPai').y;\r\n        var WseatIndex = this.netWork.getSeatIndexByID(winer),\r\n            LseatIndex = this.netWork.getSeatIndexByID(loser);\r\n        var WlocalIndex = this.netWork.getLocalIndex(WseatIndex),\r\n            LlocalIndex = this.netWork.getLocalIndex(LseatIndex);\r\n        var b1 = cc.find('Canvas/seat' + WlocalIndex),\r\n            b2 = cc.find('Canvas/seat' + LlocalIndex);\r\n        cc.find('Canvas/pk/leftPai').x = b1.x;\r\n        cc.find('Canvas/pk/leftPai').y = b1.y;\r\n        cc.find('Canvas/pk').active = true;\r\n        cc.find('Canvas/pk/leftPai').active = true;\r\n        cc.find('Canvas/pk/rightPai').x = b2.x;\r\n        cc.find('Canvas/pk/rightPai').y = b2.y;\r\n        cc.find('Canvas/pk/rightPai').active = true;\r\n        var action1 = cc.moveTo(0.4, cc.v2(lpx, lpy)),\r\n            action2 = cc.moveTo(0.4, cc.v2(rpx, rpy));\r\n        cc.find('Canvas/pk/leftPai').runAction(action1);\r\n        cc.find('Canvas/pk/rightPai').runAction(action2);\r\n        self.hideLie();\r\n        if (LlocalIndex == 0) {\r\n            setTimeout(() => {\r\n                cc.find('Canvas/seat0/shuicon').active = true;\r\n            }, 2000);\r\n        }\r\n\r\n        setTimeout(function () {\r\n            self.showPk();\r\n            self.hidePk(1);\r\n        }, 400);\r\n    },\r\n    //孤注一掷\r\n    allin: function () {\r\n        this.netWork.flowerSocket.emit('all_in');\r\n        this._allin.active = false;\r\n    },\r\n    //孤注一掷动画\r\n    doAllin: function (data, callback) {\r\n        var userid = data.userid; //发起孤注一掷的那个人\r\n        var status = data.status; //0-输了 1-赢了\r\n        var others = data.others; //被比牌的人\r\n        var self = this;\r\n        self.bipaiAnimQueue = [];\r\n        for (var i in self._seats) {\r\n            var seatData = self._seats[i];\r\n            var seatUserId = seatData['_userId'];\r\n            if (!seatUserId || seatUserId == userid || others.indexOf(seatUserId) == -1) continue;\r\n            var winer, loser;\r\n            if (status == 0) {\r\n                winer = seatUserId;\r\n                loser = userid;\r\n            } else {\r\n                winer = userid;\r\n                loser = seatUserId;\r\n            }\r\n            self.bipaiAnimQueue.push({\r\n                winer: winer,\r\n                loser: loser\r\n            }); //比牌队列\r\n        }\r\n        self.bipaiAnimIndex = 0;\r\n        self.showBipaiAnim();\r\n        if (callback) {\r\n            self.bipaiAnimCallback = callback;\r\n        }\r\n    },\r\n    /**\r\n     * 断开连接\r\n     */\r\n    disconnectNetWork_Function: function () {\r\n        try {\r\n            this.netWork.flowerSocket.disconnect();\r\n        } catch (error) {};\r\n        this.netWork.flowerSocket = null;\r\n        this.netWork.flower = null;\r\n        //this.com_MessageBox.active = true;\r\n        //this.com_MessageBox.getChildByName(\"lb_Tips\").getComponent(\"cc.Label\").string = \"您已断线，请重新登录\";\r\n    },\r\n});"]}