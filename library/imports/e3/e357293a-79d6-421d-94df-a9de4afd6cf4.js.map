{"version":3,"sources":["assets\\Script\\utils\\PlayerInfo.js"],"names":["PlayerInfo","getInstant","_instance","undefined","Single","serverVersion","Array","localVersion","needToUpdate","loginIp","guest","shareUrl","exchangeRate","account","password","loginCode","sign","gameSign","code","playerId","playerName","playerCoin","playerBankCoin","playerGift","playerDiamond","playerHead","playerHeadId","playerHeadArray","mailList","musicControl","soundEffectControl","isOffical","phoneNumber","aliAccount","encryptAliAccount","aliName","encryptAliName","gameIp","gameProt","gameName","gameDisconnect","gameHide","gameObj","sceneName","isBindPhone","isBindAli","isBindCreditCard","isWithdraw","isWithdrawPhoneCard","isAutoLogin","paySelect","iosPay","agent","iosChannel","win_pool","init_Function","cc","game","on","EVENT_HIDE","gameOnHide_Function","bind","EVENT_SHOW","gameOnShow_Function","writeData_Function","e","t","i","sys","isNative","localStorage","setItem","JSON","stringify","readData_Function","parse","getItem","hideTime","Date","showTime","setGameObj_Function","changeIp_Function","n","o","substr","split","jsb","reflection","callStaticMethod","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 玩家信息管理\r\n */\r\nvar PlayerInfo = (function () {\r\n    /**\r\n     * 单例模式\r\n     */\r\n    function getInstant() {\r\n        var _instance;\r\n        if (_instance === undefined) {\r\n            _instance = new Single();\r\n        }\r\n        return _instance;\r\n    }\r\n    /**\r\n     * 逻辑层\r\n     */\r\n    function Single() {\r\n        this.serverVersion = new Array(8);\r\n        this.localVersion = new Array(8);\r\n        this.needToUpdate = [0, 0, 0, 0, 0, 0, 0, 0];\r\n        this.loginIp = \"\";\r\n        this.guest = \"\";\r\n        this.shareUrl = null;\r\n        this.exchangeRate = 1;\r\n        this.account = \"\";\r\n        this.password = \"\";\r\n        this.loginCode = \"\";\r\n        this.sign = \"\";\r\n        this.gameSign = \"\";\r\n        this.code = \"\";\r\n        this.playerId = 0;\r\n        this.playerName = \"\";\r\n        this.playerCoin = 0;\r\n        this.playerBankCoin = 0;\r\n        this.playerGift = 0;\r\n        this.playerDiamond = 0;\r\n        this.playerHead = null;\r\n        this.playerHeadId = -1;\r\n        this.playerHeadArray = [];\r\n        this.mailList = null;\r\n        this.musicControl = null;\r\n        this.soundEffectControl = null;\r\n        this.isOffical = !1;\r\n        this.phoneNumber = \"\";\r\n        this.aliAccount = \"\";\r\n        this.encryptAliAccount = \"\";\r\n        this.aliName = \"\";\r\n        this.encryptAliName = \"\";\r\n        this.gameIp = \"\";\r\n        this.gameProt = \"\";\r\n        this.gameName = \"\";\r\n        this.gameDisconnect = !1;\r\n        this.gameHide = !1;\r\n        this.gameObj = null;\r\n        this.sceneName = \"\";\r\n        this.isBindPhone = null;\r\n        this.isBindAli = null;\r\n        this.isBindCreditCard = null;\r\n        this.isWithdraw = null;\r\n        this.isWithdrawPhoneCard = null;\r\n        this.isAutoLogin = 0;\r\n        this.paySelect = null;\r\n        this.iosPay = 0;\r\n        this.agent = null;\r\n        this.iosChannel = \"\";\r\n        this.win_pool = 0;\r\n        this.init_Function = function () {\r\n            cc.game.on(cc.game.EVENT_HIDE, this.gameOnHide_Function.bind(this)),\r\n                cc.game.on(cc.game.EVENT_SHOW, this.gameOnShow_Function.bind(this))\r\n        };\r\n        this.writeData_Function = function (e, t, i) {\r\n            cc.sys.isNative ? cc.sys.localStorage.setItem(e, JSON.stringify(t)) : localStorage.setItem(e, JSON.stringify(t)),\r\n                i && i()\r\n        };\r\n        this.readData_Function = function (e) {\r\n            var t = null;\r\n            return t = cc.sys.isNative ? JSON.parse(cc.sys.localStorage.getItem(e)) : JSON.parse(localStorage.getItem(e))\r\n        };\r\n        this.gameOnHide_Function = function () {\r\n            this.gameHide = true;\r\n            this.hideTime = Date.parse(new Date) / 1000;\r\n        };\r\n        this.gameOnShow_Function = function () {\r\n            if (this.gameHide) {\r\n                this.showTime = Date.parse(new Date) / 1000;\r\n                /*\r\n                switch (this.gameName) \r\n                {\r\n                    case \"Lobby\":\r\n                        this.showTime - this.hideTime > 30 && this.gameObj.netWorkDisconneted_Function(\"游戏已断开，请重新连接游戏\");\r\n                        break;\r\n                    case \"GrabBull\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Bull\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"LineGame\":\r\n                        this.showTime - this.hideTime > 20 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Fish\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Bde\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"TwoEight\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Land\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Runing\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Holdem\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    case \"Flower\":\r\n                        this.showTime - this.hideTime > 5 && (this.gameObj.gameExit = true, this.gameObj.disconnectNetWork_Function());\r\n                        break;\r\n                    default:\r\n                        cc.log(this.gameName);\r\n                        break;\r\n                }\r\n                */\r\n                this.gameHide = false;\r\n            }\r\n        };\r\n        this.setGameObj_Function = function (gameObj) {\r\n            this.gameObj = null;\r\n            this.gameObj = gameObj;\r\n        };\r\n        this.changeIp_Function = function (e, t) {\r\n            var i, n, o;\r\n            switch (t) {\r\n                case 0:\r\n                    i = e.substr(7),\r\n                        n = i.split(\":\")[0],\r\n                        o = \"http://\" + jsb.reflection.callStaticMethod(\"RootViewController\", \"getIp:\", n) + \":\" + i.split(\":\")[1];\r\n                    break;\r\n                case 1:\r\n                    o = jsb.reflection.callStaticMethod(\"RootViewController\", \"getIp:\", e)\r\n            }\r\n            return o\r\n        };\r\n        this.init_Function();\r\n    }\r\n    return {\r\n        getInstant: new getInstant()\r\n    }\r\n})();\r\nmodule.exports = PlayerInfo;"]}