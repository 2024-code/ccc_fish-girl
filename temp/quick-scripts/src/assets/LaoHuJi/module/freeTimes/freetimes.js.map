{"version":3,"sources":["assets\\LaoHuJi\\module\\freeTimes\\freetimes.js"],"names":["cc","Class","Component","properties","Label_Freetimes","Label","_freeTimes","start","onDestroy","onGetAccountInfo","nSuccess","dict","dictList","node","active","i","length","Global","currentGameID","string"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,eAAe,EAAEJ,EAAE,CAACK,KADZ;AAERC,IAAAA,UAAU,EAAE;AAFJ,GAHP;AAQLC,EAAAA,KAAK,EAAE,iBAAY,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAhBI;AAkBL;AACAC,EAAAA,SAAS,EAAE,qBAAY,CACnB;AACH,GArBI;AAuBL;AACAC,EAAAA,gBAAgB,EAAE,0BAAUC,QAAV,EAAoBC,IAApB,EAA0BC,QAA1B,EAAoC;AAClD,SAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;;AACA,QAAIJ,QAAQ,KAAK,CAAjB,EAAoB;AAAC;AACjB,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAAQ,CAAC,QAAD,CAAR,CAAmBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAChD,YAAIH,QAAQ,CAAC,QAAD,CAAR,CAAmBG,CAAnB,EAAsB,SAAtB,MAAqCE,MAAM,CAACC,aAAhD,EAA+D;AAAC;AAC5D,eAAKZ,UAAL,GAAkBM,QAAQ,CAAC,QAAD,CAAR,CAAmBG,CAAnB,EAAsB,YAAtB,CAAlB,CAD2D,CACL;;AACtD,cAAI,KAAKT,UAAL,GAAkB,CAAtB,EAAyB;AACrB,iBAAKO,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,iBAAKV,eAAL,CAAqBe,MAArB,GAA8B,KAAKb,UAAnC,CAFqB,CAEyB;AACjD;;AACD;AACH;AACJ;AACJ;AACJ;AAtCI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Label_Freetimes: cc.Label,\r\n        _freeTimes: 0,\r\n    },\r\n\r\n    start: function () {\r\n        ////KBEngineEvent.register(\"onGetAccountInfo\", this, \"onGetAccountInfo\");\r\n        // if (Global != null && Global != undefined &&\r\n        //     Global.accountInfo != null && Global.accountInfo != undefined &&\r\n        //     Global.freeTimes != null && Global.freeTimes != undefined &&\r\n        //     Global.currentGameID != null && Global.currentGameID != undefined) {\r\n        //     this.onGetAccountInfo(1, Global.accountInfo, Global.freeTimes);\r\n        // }\r\n    },\r\n\r\n    //取消注册\r\n    onDestroy: function () {\r\n        ////KBEngineEvent.deregister(\"onGetAccountInfo\", this);\r\n    },\r\n\r\n    //收到消息:得到账户信息\r\n    onGetAccountInfo: function (nSuccess, dict, dictList) {\r\n        this.node.active = false;\r\n        if (nSuccess === 1) {//success\r\n            for (var i = 0; i < dictList[\"values\"].length; i++) {\r\n                if (dictList[\"values\"][i][\"nGameId\"] === Global.currentGameID) {//当前子游戏的免费次数\r\n                    this._freeTimes = dictList[\"values\"][i][\"nFreeTimes\"];//免费次数\r\n                    if (this._freeTimes > 0) {\r\n                        this.node.active = true;\r\n                        this.Label_Freetimes.string = this._freeTimes;//显示免费次数\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n});"]}