{"version":3,"sources":["assets\\Script\\Lobby\\LobbyMenu.js"],"names":["cc","Class","Component","properties","com_GameMenu","type","Node","onLoad","playerInfo","node","getComponent","lightTime","Array","i","length","getRandom_Function","needToUpdate_Function","menuList","getChildByName","needToUpdate","children","active","gameMenuInit_Function","info","console","log","gameMenuButtonInit_Function","data","btNode","comNode","index","isValid","serverInfo","normal","gameId","GameId","ip","prot","entryCoin","server","Server","bet","Label","string","exchangeRate","toFixed","Button","interactable","update","dt","min","max","Math","floor","random"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 大厅按钮管理类\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        com_GameMenu: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n    onLoad: function () {\r\n        this.playerInfo = this.node.getComponent(\"LobbyMain\").playerInfo;\r\n        this.lightTime = new Array(3);\r\n        for (var i = 0; i < this.lightTime.length; i++) {\r\n            this.lightTime[i] = this.getRandom_Function(2, 5);\r\n        }\r\n    },\r\n    /**\r\n     * 按钮上显示更新图标\r\n     */\r\n    needToUpdate_Function: function () {\r\n        var menuList = this.com_GameMenu.getChildByName(\"Game_iconlistz\");\r\n        //在按钮上显示更新图标\r\n        for (var i = 1; i < this.playerInfo.needToUpdate.length; i++) {\r\n            if (this.playerInfo.needToUpdate[i]) {\r\n                menuList.children[i + 3].children[0].active = true;\r\n            }\r\n            else {\r\n                menuList.children[i + 3].children[0].active = false;\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * 初始化大厅游戏按钮\r\n     * @param {*} info \r\n     */\r\n    gameMenuInit_Function: function (info) {\r\n        this.com_GameMenu.active = true;\r\n        console.log(\"game menu init gameInfo: \", info);\r\n        //按钮列表\r\n        var menuList = this.com_GameMenu.getChildByName(\"Game_iconlist\");\r\n        this.gameMenuButtonInit_Function(info[0], menuList.getChildByName(\"Arcade_Fish_jinchanbuyu\"), this.com_GameMenu.getChildByName(\"com_Fish\"), 0);\r\n        this.gameMenuButtonInit_Function(info[1], menuList.getChildByName(\"Arcade_Fishhaiwang2\"), this.com_GameMenu.getChildByName(\"com_Fishhaiwang2\"), 0);\r\n        this.gameMenuButtonInit_Function(info[2], menuList.getChildByName(\"Arcade_hongbaodaren\"), this.com_GameMenu.getChildByName(\"com_Hongbao\"), 0);\r\n        this.gameMenuButtonInit_Function(info[7], menuList.getChildByName(\"Table_GrabBull\"), this.com_GameMenu.getChildByName(\"com_GrabBull\"), 0);\r\n        this.gameMenuButtonInit_Function(info[9], menuList.getChildByName(\"Table_Land\"), this.com_GameMenu.getChildByName(\"com_Land\"), 0);\r\n        this.gameMenuButtonInit_Function(info[10], menuList.getChildByName(\"Table_RunFast\"), this.com_GameMenu.getChildByName(\"com_Run\"), 0);\r\n        this.gameMenuButtonInit_Function(info[11], menuList.getChildByName(\"Table_Holdem\"), this.com_GameMenu.getChildByName(\"com_Holdem\"), 0);\r\n        this.gameMenuButtonInit_Function(info[12], menuList.getChildByName(\"Table_Flower\"), this.com_GameMenu.getChildByName(\"com_Flower\"), 0);\r\n    },\r\n\r\n    /**\r\n     * 初始化选场按钮\r\n     * @param {*} data \r\n     * @param {*} btNode \r\n     * @param {*} comNode \r\n     * @param {*} type \r\n     * @param {*} index \r\n     */\r\n    gameMenuButtonInit_Function: function (data, btNode, comNode, type, index) {\r\n        //cc.log('初始化选场按钮:' + type  + ',按钮===========================' + btNode.getComponent(\"cc.Button\"));\r\n        //console.log(\"游戏信息：\",data.GameId,\"房间信息：\",data.serverInfo.normal,\"游戏按钮：\",btNode,\"type:\",type);\r\n        if (!cc.isValid(btNode)) return;\r\n        switch (type) {\r\n            case 0://第一个子节点为背景图\r\n                for (var i = 0; i < data.serverInfo.normal.length; i++) {\r\n                    if (!comNode.children[i + 1]) break;\r\n                    comNode.children[i + 1].gameId = data.GameId;\r\n                    comNode.children[i + 1].ip = data.serverInfo.normal[i].ip;\r\n                    comNode.children[i + 1].prot = data.serverInfo.normal[i].prot;\r\n                    comNode.children[i + 1].entryCoin = data.serverInfo.normal[i].entryCoin;\r\n                    comNode.children[i + 1].server = data.serverInfo.normal[i].Server;\r\n                    comNode.children[i + 1].bet = data.serverInfo.normal[i].bet;\r\n                    comNode.children[i + 1].getChildByName(\"lb_Bet\").getComponent(cc.Label).string = (data.serverInfo.normal[i].bet / this.playerInfo.exchangeRate).toFixed(2);\r\n                    comNode.children[i + 1].getChildByName(\"lb_EntryCoin\").getComponent(cc.Label).string = (data.serverInfo.normal[i].entryCoin / this.playerInfo.exchangeRate).toFixed(2);\r\n                    comNode.children[i + 1].getChildByName(\"lb_PlayerNum\").getComponent(cc.Label).string = \"良好\";\r\n                    comNode.children[i + 1].getComponent(cc.Button).interactable = true;\r\n                }\r\n                btNode.getComponent(cc.Button).interactable = true;\r\n                break;\r\n            case 1:\r\n                btNode.gameId = data.GameId;\r\n                btNode.ip = data.serverInfo.normal[0].ip;\r\n                btNode.prot = data.serverInfo.normal[0].prot;\r\n                btNode.entryCoin = data.serverInfo.normal[0].entryCoin;\r\n                btNode.server = data.serverInfo.normal[0].Server;\r\n                btNode.bet = data.serverInfo.normal[0].bet;\r\n                btNode.getComponent(cc.Button).interactable = true;\r\n                break;\r\n            case 2:\r\n                btNode.gameId = data.GameId;\r\n                btNode.ip = data.serverInfo.normal[index].ip;\r\n                btNode.prot = data.serverInfo.normal[index].prot;\r\n                btNode.entryCoin = data.serverInfo.normal[index].entryCoin;\r\n                btNode.server = data.serverInfo.normal[index].Server;\r\n                btNode.bet = data.serverInfo.normal[index].bet;\r\n                btNode.getChildByName(\"lb_Bet\").getComponent(cc.Label).string = (data.serverInfo.normal[index].bet / this.playerInfo.exchangeRate).toFixed(2);\r\n                btNode.getChildByName(\"lb_EntryCoin\").getComponent(cc.Label).string = (data.serverInfo.normal[index].entryCoin / this.playerInfo.exchangeRate).toFixed(2);\r\n                btNode.getComponent(cc.Button).interactable = true;\r\n                break;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 更新\r\n     * @param {*} dt \r\n     */\r\n    update: function (dt) {\r\n\r\n    },\r\n\r\n    /**\r\n     * 获得范围随机数\r\n     * @param {*} min \r\n     * @param {*} max \r\n     */\r\n    getRandom_Function: function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n});"]}