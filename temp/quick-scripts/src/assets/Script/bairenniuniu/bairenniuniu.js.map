{"version":3,"sources":["assets\\Script\\bairenniuniu\\bairenniuniu.js"],"names":["cc","Class","Component","properties","poker_arr","Node","chip_box","bet_text","bet_text_qiang","player_node","helpNode","onlineNode","recordNode","animeNode_pk","animeNode_start","animeNode_end","animeNode_wait","chips_node","cardspframe","SpriteFrame","headspframe","resultspframe","resultspframe0","pointspframe","chip_prefab","Prefab","m_iCurrentSelBet","m_iGameOverTime","m_lPoolNum","m_iSelTar","table_userinfo","m_iQiangNum","m_iFastNum","detailNode","settinggoldNode","settingfastNode","qiangNode","recordContent","recordPrefab","point_node","no_bet_node","serializeUsers","user_object","farseer","shen_suan_zi","userInfo_list","ranking_list","length","playerInfo","require","getInstant","playerInfoEx","window","bairenniuniu_sc","info_0","score","user_id","id","user_name","nickname","user_url","headimgurl","push","splice","JSON","stringify","info_x","i","info","parseInt","setPlayerView","onLoad","chip_name","chip_nums","debug","setDisplayStats","brnn_ins","playerId","player_score","player_name","playerName","playerHead","playerHeadId","bairenniuniu_global","poker_pos","position","opacity","resetparam","network","active","setPokerVisible","LandlordsSocket","emit","start","playBGM","init_record","result","arr","getChildByName","children","node","index","console","log","j","item","win","getComponent","Sprite","spriteFrame","to_double","num","init_record2","removeAllChildren","res","open","open_time","instantiate","parent","res_","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Label","string","init_stat","game_type","now","bet_time","qiang_time","bet_list","bet_res","bet_gold","setPoolView","find","Helper","fixNum","update","dt","t","playEffect","stopAllActions","runAction","sequence","show","delayTime","hide","setBetView","bet","point","lastTouchPoint","str","selbet","para","showHint","v2","betarray","tag","head","headnode","setHeadTexture","showCount","label_0","label_1","showResult","ret","instance","user_win","per_time","needtime","scheduleOnce","setPokerSp","cards","setPointView","niu_ji_list","chip_node","on_pool","inited","endpos","owner","moveTo","removeSelf","fadeOut","onBet","chip_startpos","chip_endpos","endnode","ownerTag","userId","convertToWorldSpaceAR","endpos_min","convertToWorldSpace","endpos_max","x","y","endx","Math","floor","random","endy","scale","betBegin","betBegin_r","tag_0","scaleTo","flag","qiangzhuang","setQiangGoldView","EditBox","setFastGoldView","fadeIn","setzhuang","name","url"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poker_arr:    [cc.Node],\n\n        chip_box:   cc.Node,\n        bet_text:   cc.Node,\n        bet_text_qiang:   cc.Node,\n        player_node:   [cc.Node],\n        helpNode:   cc.Node,\n        onlineNode: cc.Node,\n        recordNode: cc.Node,\n\n        animeNode_pk:   cc.Node,\n        animeNode_start:    cc.Node,\n        animeNode_end:  cc.Node, \n        animeNode_wait:  cc.Node,\n\n        chips_node:     cc.Node,\n\n        cardspframe:    [cc.SpriteFrame],\n        headspframe:    [cc.SpriteFrame],\n        resultspframe:    [cc.SpriteFrame],\n        resultspframe0:    [cc.SpriteFrame],\n\n        pointspframe:   [cc.SpriteFrame],\n\n        chip_prefab:[cc.Prefab],\n        m_iCurrentSelBet:-1,\n\n        m_iGameOverTime:-1,\n        m_lPoolNum:[],\n\n        m_iSelTar:-1,\n\n        // userInfo_list:[],\n        // farseer:{},\n        table_userinfo:[],\n\n        m_iQiangNum:100000,\n\n        m_iFastNum:1,\n\n        detailNode :cc.Node,\n        settinggoldNode :cc.Node,\n        settingfastNode :cc.Node,\n        qiangNode:cc.Node,\n\n        recordContent : cc.Node,\n        recordPrefab : cc.Prefab,\n\n        point_node:   [cc.Node],\n        no_bet_node:    [cc.Node],\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    serializeUsers(user_object)\n    {\n        //0自己 1神算 2首富 3-6其他\n        //bet_score\n        //score\n        //user_id\n        //user_name\n        //user_url\n        //win_num\n\n        this.farseer = user_object.shen_suan_zi;\n        this.userInfo_list = user_object.ranking_list;\n        if (this.table_userinfo .length == 0){\n            \n            var playerInfo = require(\"PlayerInfo\").getInstant;\n            var playerInfoEx = window.bairenniuniu_sc;\n            var info_0 = {\n                score: playerInfoEx.score,\n                user_id: playerInfoEx.id,\n                user_name: playerInfoEx.nickname,\n                user_url: playerInfoEx.headimgurl};\n            this.table_userinfo.push(info_0);\n        }else{\n            this.table_userinfo.splice(1,this.table_userinfo.length-1);\n        }\n        \n\n        if (JSON.stringify(user_object.shen_suan_zi) != \"{}\")\n        {\n            this.table_userinfo.push(user_object.shen_suan_zi);\n        }else\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        for (var i in user_object.ranking_list)\n        {\n            var info = user_object.ranking_list[i];\n            if (info.user_id == this.table_userinfo[1].user_id && parseInt(i)!=0)\n                continue;\n            if (info.user_id == this.table_userinfo[0].user_id && parseInt(i)!=0)\n                continue;\n\n\n            this.table_userinfo.push(info);\n            if (this.table_userinfo.length>=7)\n                break;\n        }\n\n        for (var i = this.table_userinfo.length; i<7 ;i++)\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        this.setPlayerView();\n    },\n\n    onLoad () {\n\n        this.chip_name = {100:\"bt_score_0_0\",\n        1000:\"bt_score_1_0\",\n        5000:\"bt_score_2_0\",\n        10000:\"bt_score_3_0\",\n        50000:\"bt_score_4_0\"};\n        this.chip_nums = [100,1000,5000,10000,50000];    \n        cc.debug.setDisplayStats(false);\n        window.brnn_ins = this;\n        var playerInfo = require(\"PlayerInfo\").getInstant;\n        var playerInfoEx = window.bairenniuniu_sc;\n        this.playerId = playerInfoEx.id;\n        this.player_score = playerInfoEx.score;\n        this.player_name = playerInfo.playerName;\n        this.playerHead = playerInfo.playerHead;\n        this.playerHeadId = playerInfo.playerHeadId;\n\n        this.m_lPoolNum =[-1,0,0,0,0];\n        this.serializeUsers(window.bairenniuniu_global.userInfo_list);\n\n\n        this.poker_pos = [];\n        for (var i in this.poker_arr)\n        {\n            this.poker_pos[i] = this.poker_arr[i].position;\n            this.poker_pos[i].opacity = 0;\n        }\n        \n\n        this.resetparam();\n        this.network = require('bairenniuniuNetWork').getInstant;\n        this.bet_text.active = false;\n        this.bet_text_qiang.active = false;\n\n        for (var i in this.no_bet_node)\n        {\n            this.no_bet_node[i].active = false;\n        }\n\n        this.setPokerVisible(false);\n\n        this.network.LandlordsSocket.emit('getGameType', '');\n        this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n        this.animeNode_wait.active = true;\n    },\n\n    start () {\n        playBGM('bg');\n    },\n\n    init_record(result){\n\n        var arr = this.recordNode.getChildByName('im_ludan_bg').getChildByName('jilu_list').children;\n\n        for (var i in arr)//= arr.length-1;i>=0;i--)\n        {\n            var node = arr[i];\n            var index = result.length-arr.length +parseInt(i);\n            console.log(index);\n            if (index<0){\n                node.active = false;\n            }else{\n                node.active = true;\n                for (var j in node.children)\n                {\n                    var item = node.children[j];\n                    if (result[index].win[j]>0)\n                    {\n                        item.getComponent(cc.Sprite).spriteFrame = this.resultspframe0[0];\n                    }else{\n                        item.getComponent(cc.Sprite).spriteFrame = this.resultspframe0[1];\n                    }\n                }\n            }\n        }\n\n        // var arr = this.node.getChildByName(\"ld_bg\").children;\n\n        // for (var i in arr)\n        // {\n        //     arr[i].getChildByName('jg_he').active = false;\n        //     arr[i].getChildByName('jg_da').active = false;\n        // }\n        // for (var i = result.length-1;i>=0;i--)\n        // {\n        //     var res = result[i].win;\n        //     var num = arr.length-1 - (result.length-1 - parseInt(i));\n        //     if (num<0)break;\n        //     var node = arr[num].getChildByName('jg_da');\n        //     node.active = true;\n        //     node.getComponent(cc.Sprite).spriteFrame = this.resultspframe[res];\n\n        //     var node0 = arr[num].getChildByName('jg_he');\n        //     node0.active = true;\n        //     if (result[i].zhuangscore>0)\n        //     {\n        //         node0.getComponent(cc.Sprite).spriteFrame = this.resultspframe0[0];\n        //     }else if (result[i].zhuangscore<0)\n        //     {\n        //         node0.getComponent(cc.Sprite).spriteFrame = this.resultspframe0[1];\n        //     }else{\n        //         node0.getComponent(cc.Sprite).spriteFrame = this.resultspframe0[2];\n        //     }\n\n        // }\n        // this.init_record2(result);\n    },\n\n    to_double(num){\n        if (num<10) return '0'+num;\n        return num;\n    },\n\n    init_record2(result){\n        this.recordContent.removeAllChildren();\n        for (var i = result.length-1;i>=0;i--)\n        {\n            var res = result[i].win;\n            var open = result[i].open_time;\n            var node = cc.instantiate(this.recordPrefab);\n            node.parent = this.recordContent;\n\n            var res_ = ''\n            let date = new Date(open) ; \n            res_ =  date.getFullYear()+'/'+this.to_double(date.getMonth()+1)+\"/\"+this.to_double(date.getDate())+' '+this.to_double(date.getHours())+\":\"+this.to_double(date.getMinutes())+\":\"+this.to_double(date.getSeconds());\n\n            node.getChildByName('txt').getComponent(cc.Label).string = res_;//new Date(open).toLocaleString();\n            node.getChildByName('bao').active = false;\n            node.getChildByName('da').active = false;\n            node.getChildByName('xiao').active = false;\n            if (res == 0){\n                node.getChildByName('bao').active = true;\n            }else if (res == 1){\n                node.getChildByName('da').active = true;\n            }else if (res == 2){\n                node.getChildByName('xiao').active = true;\n            }\n        }\n    },\n    \n    init_stat(result){\n        if (result.game_type == 1)\n        {\n            // if (result.bet_time == 30)\n            // {\n            //     this.betBegin();\n            // }else\n            {\n                this.bet_text.active = true;\n                this.m_iGameOverTime = Date.now()/1000+result.bet_time;\n                this.animeNode_wait.active = false;\n            }\n            this.setPokerVisible(true);\n\n            for (var i in this.no_bet_node)\n            {\n                this.no_bet_node[i].active = true;\n            }\n        }else \n        {\n            //this.node.getChildByName(\"当前状态文本\").active = true;\n            // for (var i in this.poker_arr)\n            // {\n            //     this.poker_arr[i].opacity = 0;\n            // }\n        }\n\n        if (result.game_type == 4)\n        {\n            this.qiangNode.active = true;\n            this.bet_text_qiang.active = true;\n            this.m_iGameOverTime = Date.now()/1000+result.qiang_time;\n        }else{\n            this.qiangNode.active = false;\n        }\n\n        for (var i in result.bet_list)\n        {\n            this.m_lPoolNum[result.bet_list[i].bet_res] += result.bet_list[i].bet_gold;\n        }\n        this.setPoolView();\n    },\n\n    setPoolView()\n    {\n        // for (var i =0;i<3;i++)\n        // {\n        //     this.node.getChildByName(\"main\").getChildByName(\"chip_bg_\"+i).getChildByName(\"pool\").getComponent(cc.Label).string = this.m_lPoolNum[i];    \n        // }\n\n        cc.find('Canvas/im_game_bg/games_btn_tian_normal/luckyStar/xiazhu_gold').getComponent(cc.Label).string = Helper.fixNum(this.m_lPoolNum[1]);\n        cc.find('Canvas/im_game_bg/games_btn_di_normal/luckyStar/xiazhu_gold').getComponent(cc.Label).string = Helper.fixNum(this.m_lPoolNum[2]);\n        cc.find('Canvas/im_game_bg/games_btn_xuan_normal/luckyStar/xiazhu_gold').getComponent(cc.Label).string = Helper.fixNum(this.m_lPoolNum[3]);\n        cc.find('Canvas/im_game_bg/games_btn_huang_normal/luckyStar/xiazhu_gold').getComponent(cc.Label).string = Helper.fixNum(this.m_lPoolNum[4]);\n        \n    },\n\n    update(dt){\n        if (this.m_iGameOverTime && this.bet_text.active)\n        {\n            var t = parseInt(this.m_iGameOverTime - Date.now()/1000);\n\n            if (t<=5 && t+\"\" != this.bet_text.getChildByName('New Label').getComponent(cc.Label).string)\n            {\n                playEffect('countdown');\n                if (t == 0)\n                {\n                    playEffect('stop_s');\n                    this.animeNode_end.active = true;\n                    this.animeNode_end.stopAllActions();\n                    this.animeNode_end.runAction(cc.sequence(cc.show(),cc.delayTime(1.2),cc.hide()));\n                }\n            }\n\n            if (t<=0) {\n                this.bet_text.active = false;\n                return;\n            }\n            this.bet_text.getChildByName('New Label').getComponent(cc.Label).string = t;\n            //this.bet_text_down.getChildByName('New Label').getComponent(cc.Label).string = t;\n        }\n\n\n        if (this.m_iGameOverTime && this.bet_text_qiang.active)\n        {\n            var t = parseInt(this.m_iGameOverTime - Date.now()/1000);\n\n            if (t<=0) {\n                this.bet_text_qiang.active = false;\n                return;\n            }\n            this.bet_text_qiang.getChildByName('New Label').getComponent(cc.Label).string = t;\n            //this.bet_text_down.getChildByName('New Label').getComponent(cc.Label).string = t;\n        }\n\n\n    },\n\n    resetparam()\n    {\n        this.m_iCurrentSelBet = -1;\n        this.setBetView();\n        this.setPlayerView();\n    },\n\n    bet(num,point)\n    {\n        this.lastTouchPoint = point;\n        if (this.m_iCurrentSelBet == -1)\n        {\n            return;\n        }\n\n        var  str = JSON.stringify({\n            //bet_type: 1,\n            bet_res: parseInt(num),\n            bet_gold: this.m_iCurrentSelBet,\n        });\n\n        this.network.LandlordsSocket.emit('lottery', str);\n\n        this.setBetView();\n    },\n\n    selbet(para){\n        if (para == \"all\")\n        {\n            if (this.m_iSelTar<0)\n            {\n                this.showHint('请先选择一次大小');\n                return;    \n            }else{\n                this.lastTouchPoint = cc.v2(0,0);\n                var  str = JSON.stringify({\n                    //bet_type: 1,\n                    bet_res: this.m_iSelTar,\n                    bet_gold: this.m_iFastNum*100,\n                });\n        \n                this.network.LandlordsSocket.emit('lottery', str);\n            }\n        }\n        var num = parseInt(para);\n        if (this.m_iCurrentSelBet == num)\n        {\n            this.m_iCurrentSelBet = -1;\n        }else{\n            if (this.table_userinfo[0].score < num)\n            {\n                return;\n            }\n            playEffect('chip');\n            this.m_iCurrentSelBet = num;\n        }\n        this.setBetView();\n    },\n    setBetView()\n    {\n        if (this.m_iCurrentSelBet > this.table_userinfo[0].score)\n        {\n            this.m_iCurrentSelBet = -1;\n        }\n        var betarray = this.chip_box.children;\n        for (var i in betarray)\n        {\n            var node = betarray[i];\n\n            if (this.chip_nums[i] <= this.table_userinfo[0].score)\n            {\n                node.opacity = 255;\n            }else{\n                node.opacity = 128;\n            }\n\n            if (this.chip_nums[i] == this.m_iCurrentSelBet)\n            {\n                node.getChildByName('checkmark').active = true;\n            }else{\n                node.getChildByName('checkmark').active = false;\n            }\n        }\n    },\n\n    setPlayerView()\n    {\n        // this.node.getChildByName('ui').getChildByName(\"head\").getChildByName(\"金币icon\").getChildByName(\"金币数\").getComponent(cc.Label).string = Helper.fixNum(this.table_userinfo[0].score);\n        // this.node.getChildByName('ui').getChildByName(\"head\").getChildByName(\"玩家名\").getComponent(cc.Label).string = this.table_userinfo[0].user_name;\n        // this.node.getChildByName('ui').getChildByName(\"head\").getChildByName(\"ID\").getComponent(cc.Label).string = \"ID:\" + this.table_userinfo[0].user_id;\n        // setHeadTexture(this.node.getChildByName('ui').getChildByName('head'),this.table_userinfo[0].user_url);\n\n        for (var i in this.player_node)\n        {\n            var tag = parseInt(i);\n            var info;\n            if (tag >= this.table_userinfo.length)\n            {\n                //info = {};\n                break;\n            }else{\n                info = this.table_userinfo[tag];\n            }\n            this.player_node[tag].getChildByName(\"name\").getComponent(cc.Label).string = info.user_name;\n            if (this.player_node[tag].getChildByName(\"gold_bar\"))\n                this.player_node[tag].getChildByName(\"gold_bar\").getChildByName(\"gold\").getComponent(cc.Label).string = Helper.fixNum(info.score);\n\n            var head = info.user_url;\n            var headnode = this.player_node[tag];\n            if (head < 0)\n            {\n                head = 0;\n                return;\n            }    \n            if (headnode.getChildByName(\"user_zhuangjia\"))\n            {\n                headnode = headnode.getChildByName(\"user_zhuangjia\");\n            }\n            //headnode.getComponent(cc.Sprite).spriteFrame = this.headspframe[head];\n            setHeadTexture(headnode,head);\n        }\n    },\n\n    showCount(score)\n    {\n        var node = this.node.getChildByName(\"结果\");\n        node.active = true;\n        var label_0 = node.getChildByName(\"label_0\").getComponent(cc.Label);\n        \n        if (score>0)\n        {\n            label_0.string = \"您赢得了 \"+Helper.fixNum(score);\n        }else if (score<0)\n        {\n            label_0.string = \"您输掉了 \"+Helper.fixNum(-1*score);\n        }else{\n            label_0.string = \"您没有输赢\";\n        }\n        \n        var label_1 = node.getChildByName(\"label_1\").getComponent(cc.Label);\n        label_1.string = \"当前 \" + Helper.fixNum(this.table_userinfo[0].score);\n\n    },\n    showResult(ret)\n    {\n        let instance = this;\n        //012 龙虎和 1234 黑红花片\n        //var sam = {hu_card:2307,long_card:258,ResultCode:1,win:1};\n\n        this.table_userinfo[0].score += ret.user_win;\n\n        //var score_change = this.table_userinfo[0].score - this.player_score;\n\n        // this.scheduleOnce(function(){\n        //     this.showCount(score_change);\n        // },4.0);\n\n        this.player_score = this.table_userinfo[0].score;\n\n        var per_time = 1;\n        var needtime = 1.5; \n\n        //ret.win_res[0];\n        //ret.win;\n \n\n        this.scheduleOnce(function(){\n            for (var i = 0;i<5;i++)\n            {\n                this.setPokerSp(0,i,ret.cards[0][i]);\n            }\n        },per_time);\n\n        this.scheduleOnce(function(){\n\n            for (var j = 1;j<5;j++)\n            {\n                for (var i = 0;i<5;i++)\n                {\n                    this.setPokerSp(j,i,ret.cards[j][i]);\n                }\n            }\n            this.setPointView(0,ret.niu_ji_list[0]);\n        },per_time*2);\n\n        this.scheduleOnce(function(){\n\n            for (var j = 1;j<5;j++)\n            {\n                this.setPointView(j,ret.niu_ji_list[j]);\n            }\n\n            \n        },per_time*3);\n\n            this.scheduleOnce(function(){  \n                var arr = this.chips_node.children;\n                for (var i in arr)\n                {\n                    var chip_node = arr[i];\n                    if (chip_node.on_pool == ret.win)\n                    {\n                        var inited = false;\n                        var endpos;\n                        if (chip_node.owner == this.playerId)\n                        {\n                            inited = true;\n                            endpos = cc.v2(693,61);\n                        }\n                        if (inited)\n                        {\n                            chip_node.runAction(cc.sequence(cc.moveTo(0.25,endpos),cc.removeSelf()));\n                        }else{\n                            chip_node.runAction(cc.sequence(cc.fadeOut(0.25),cc.removeSelf()));\n                        }\n                    }else{\n                        chip_node.runAction(cc.sequence(cc.fadeOut(0.2),cc.removeSelf()));\n                    }\n                }\n            },per_time*5);\n\n            this.scheduleOnce(function (dt) {\n                this.setPlayerView(0);\n                if (ret.user_win>0)\n                {\n                    playEffect('ADD_SCORE');\n                }\n\n                this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n            },per_time*5+0.2);\n\n            this.scheduleOnce(function (dt) {\n\n                instance.setPokerVisible(false);\n                //instance.node.getChildByName(\"当前状态文本\").active = true;\n                \n                instance.m_lPoolNum = [-1,0,0,0,0];\n\n                instance.setPoolView();\n                for (var i in this.no_bet_node)\n                {\n                    this.no_bet_node[i].active = false;\n                }\n                this.animeNode_wait.active = true;\n\n            },per_time*10+0.8);\n    },\n\n    onBet(info){\n        // info.bet_res;\n        // info.bet_gold;\n        // info.userId;\n\n        playEffect('choumaxiazhu');\n        this.m_lPoolNum[info.bet_res] += info.bet_gold;\n        this.setPoolView();\n\n        var chip_startpos;\n        \n        var chip_endpos;\n\n        var inited = false;\n\n        var endnode ;\n        if (info.bet_res == 1)\n        {\n            endnode = cc.find('Canvas/im_game_bg/games_btn_tian_normal');\n        }else if (info.bet_res == 2){\n            endnode = cc.find('Canvas/im_game_bg/games_btn_di_normal');\n        }else if (info.bet_res == 3){\n            endnode = cc.find('Canvas/im_game_bg/games_btn_xuan_normal');\n        }else if (info.bet_res == 4){\n            endnode = cc.find('Canvas/im_game_bg/games_btn_huang_normal');\n        }\n\n        var ownerTag = -1;\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                ownerTag = parseInt(i);\n                break;\n            }\n        }\n\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                this.table_userinfo[i].score -= info.bet_gold;\n            }\n        }\n        this.setPlayerView();\n\n        if (ownerTag == 0)\n        {\n            //this.player_score -= info.bet_gold;\n            this.no_bet_node[info.bet_res-1].active =false;\n            inited = true;\n\n            var index = 0;\n            for (var i = this.chip_nums.length-1;i>=0;i--)\n            {\n                if (this.chip_nums[i] <= info.bet_gold)\n                {\n                    index = i;\n                    break;\n                }\n            }\n\n\n            chip_startpos = this.chip_box.getChildByName(this.chip_name[this.chip_nums[index]]).convertToWorldSpaceAR(cc.v2(0, 0));\n            \n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpace(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpace(cc.v2(0, 0));\n\n            if (this.lastTouchPoint.x >=endpos_min.x && this.lastTouchPoint.y >=endpos_min.y\n                && this.lastTouchPoint.x <=endpos_max.x && this.lastTouchPoint.y <=endpos_max.y)\n            {\n                var endx = this.lastTouchPoint.x + Math.floor(Math.random()*60)-30;\n                var endy = this.lastTouchPoint.y + Math.floor(Math.random()*60)-30;\n            }else{\n                var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n                var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n            }\n\n            chip_endpos = cc.v2(endx,endy);\n\n        }\n        // else if (ownerTag!= -1)\n        // {\n\n        // }\n        else\n        {\n            inited = true;\n\n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpaceAR(cc.v2(0, 0));\n\n\n            var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n            var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n\n            chip_endpos = cc.v2(endx,endy);\n\n            chip_startpos = chip_endpos;\n\n        }\n\n        if (inited)\n        {\n            var index = 0;\n            for (var i = this.chip_nums.length-1;i>=0;i--)\n            {\n                if (this.chip_nums[i] <= info.bet_gold)\n                {\n                    index = i;\n                    break;\n                }\n            }\n            //this.chip_nums.indexOf(info.bet_gold)\n            var chip_node = cc.instantiate(this.chip_prefab[index]);\n            chip_node.x = chip_startpos.x;\n            chip_node.y = chip_startpos.y;\n            chip_node.scale = 0.4;\n            chip_node.parent = this.chips_node;\n            chip_node.runAction(cc.moveTo(0.25,chip_endpos.x,chip_endpos.y));\n\n            chip_node.owner = info.userId;\n            chip_node.on_pool = info.bet_res;\n        }\n    },\n\n    betBegin()\n    {\n        //this.network.LandlordsSocket.emit(\"getGameRankingList\",\"\");\n        this.betBegin_r();\n    },\n\n    betBegin_r()\n    {\n\n        this.animeNode_wait.active = false;\n        //var node = this.node.getChildByName(\"结果\");\n        //node.active = false;\n        playEffect('start_s');\n        this.m_lPoolNum = [-1,0,0,0,0];\n        this.setPoolView();\n\n        this.qiangNode.active = false;\n        //this.node.getChildByName(\"当前状态文本\").active = false;\n        this.m_iGameOverTime = Date.now()/1000+15;\n\n        let instance = this;\n        //var ske = this.node.getChildByName('lhdpk');\n        // ske.getComponent(sp.Skeleton).setCompleteListener(function () {\n        //     ske.active = false;\n            instance.setPokerVisible(true);\n\n            // var start = instance.node.getChildByName('anim_start');\n            // start.getComponent(sp.Skeleton).setCompleteListener(function () {\n\n                var start = instance.animeNode_start;\n                start.active = true;\n                this.scheduleOnce(function (dt) {\n\n                    start.active = false;\n                    instance.bet_text.active = true;\n                },1.0);\n                \n\n            // });\n            // start.active = true;\n\n        // });\n        // ske.active = true;\n\n        for (var i in this.no_bet_node)\n        {\n            this.no_bet_node[i].active = true;\n        }\n    },\n\n    setPokerSp(tag,tag_0,num)\n    {\n        var node = this.poker_arr[tag].children[tag_0];\n\n        if (num<0)\n        {\n            node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[52];\n        }else{\n            // var a1 = parseInt(num/16)/16;\n            // var b1 = num%16;\n            // var i = (b1-1)*13 +(a1-1);\n            var i = num-1;\n            node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,0,1.2)));\n            this.scheduleOnce(function(){\n                node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[i];\n                node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,1,1)));\n            },0.5);\n        }\n},\n\n    setPokerVisible(flag)\n    {\n        var t = 0.15;\n        if (flag)\n        {\n            playEffect('SEND_CARD');\n        }\n\n        for (var i in this.poker_arr)\n        {\n            this.poker_arr[i].active = flag;\n            for (var j in this.poker_arr[i].children)\n            {\n                this.setPokerSp(i,j,-1);\n            }\n        }\n\n        for (var i = 0;i<5;i++){\n            this.setPointView(i,-99);\n        }\n    },\n\n    setPointView(tag,num){\n        if (num ==-99){\n            this.point_node[tag].parent.active = false;\n        }else{\n            if (num == -1) num = 0;\n            else if (num == 0) num =10;\n            this.point_node[tag].parent.active = true;\n            this.point_node[tag].getComponent(cc.Sprite).spriteFrame = this.resultspframe[num];\n        }\n    },\n\n    qiangzhuang()\n    {\n        this.network.LandlordsSocket.emit('qiangZhuang', '');\n    },\n\n    setQiangGoldView()\n    {\n        this.settinggoldNode.active = true;\n        cc.find('Canvas/抢庄UI/输入').getComponent(cc.EditBox).string = this.m_iQiangNum;\n    },\n\n\n    setFastGoldView()\n    {\n        this.settingfastNode.active = true;\n        cc.find('Canvas/快压设置/输入').getComponent(cc.EditBox).string = this.m_iFastNum;\n    },\n\n    showHint(str)\n    {\n        var node = this.node.getChildByName('hint');\n        node.active = true;\n        node.stopAllActions();\n\n        node.opacity = 0;\n        node.getChildByName(\"label\").getComponent(cc.Label).string = str;\n        node.runAction(cc.sequence(cc.fadeIn(0.4),cc.delayTime(1.2),cc.fadeOut(0.4)));\n    },\n    setzhuang(ret)\n    {\n        this.node.getChildByName('zhuang_bg').active = true;\n        this.node.getChildByName('face_m').active = true;\n        this.node.getChildByName('icon_zhuang').active = true;\n        this.node.getChildByName('zhuang_bg').getChildByName('庄家name').getComponent(cc.Label).string = ret.name;\n        setHeadTexture(this.node.getChildByName('face_m'),ret.url);\n    },\n});\n\n\n"]}