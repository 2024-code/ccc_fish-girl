{"version":3,"sources":["assets\\Script\\longhudou\\longhudou.js"],"names":["window","lhd_global","cc","Class","Component","properties","poker_0","Node","poker_1","chip_box","bet_text","player_node","helpNode","onlineNode","recordNode","animeNode_pk","animeNode_start","animeNode_end","chips_node","cardspframe","SpriteFrame","resultspframe","chip_prefab","Prefab","m_iCurrentSelBet","m_iGameOverTime","m_lPoolNum","table_userinfo","serializeUsers","user_object","length","playerInfo","require","getInstant","playerInfoEx","lhd_sc","info_0","score","user_id","id","user_name","nickname","user_url","headimgurl","push","splice","JSON","stringify","shen_suan_zi","info_x","i","ranking_list","info","parseInt","setPlayerView","onLoad","chip_name","chip_nums","debug","setDisplayStats","longhudou_ins","playerId","player_name","playerName","playerHead","playerHeadId","userInfo_list","resetparam","network","active","LandlordsSocket","emit","start","playBGM","init_record","result","arr","node","getChildByName","children","res","win","num","getComponent","Sprite","spriteFrame","init_stat","game_type","Date","now","bet_time","bet_list","bet_res","bet_gold","setPoolView","Label","string","Helper","fixNum","update","dt","t","playEffect","setBetView","bet","point","lastTouchPoint","str","selbet","betarray","opacity","tag","head","headnode","setHeadTexture","showResult","ret","instance","user_win","setPokerSp","long_card","scheduleOnce","hu_card","winarea","runAction","sequence","fadeIn","fadeOut","chip_node","on_pool","inited","endpos","owner","v2","moveTo","removeSelf","setPokerVisible","onBet","chip_startpos","chip_endpos","endnode","ownerTag","userId","convertToWorldSpaceAR","endpos_min","endpos_max","x","y","endx","Math","floor","random","endy","instantiate","indexOf","scale","parent","betBegin","betBegin_r","ske","sp","Skeleton","setCompleteListener","a1","b1","scaleTo","flag","spawn"],"mappings":"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","sourceRoot":"/","sourcesContent":["window.lhd_global = {};\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poker_0:    cc.Node,\n        poker_1:    cc.Node,\n        chip_box:   cc.Node,\n        bet_text:   cc.Node,\n        player_node:   [cc.Node],\n        helpNode:   cc.Node,\n        onlineNode: cc.Node,\n        recordNode: cc.Node,\n\n        animeNode_pk:   cc.Node,\n        animeNode_start:    cc.Node,\n        animeNode_end:  cc.Node,\n\n        chips_node:     cc.Node,\n\n        cardspframe:    [cc.SpriteFrame],\n        //headspframe:    [cc.SpriteFrame],\n        resultspframe:    [cc.SpriteFrame],\n\n        chip_prefab:[cc.Prefab],\n        m_iCurrentSelBet:-1,\n\n        m_iGameOverTime:-1,\n        m_lPoolNum:[],\n\n        // userInfo_list:[],\n        // farseer:{},\n        table_userinfo:[],\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    serializeUsers(user_object)\n    {\n        //0自己 1神算 2首富 3-6其他\n        //bet_score\n        //score\n        //user_id\n        //user_name\n        //user_url\n        //win_num\n\n        // this.farseer = user_object.shen_suan_zi;\n        // this.userInfo_list = user_object.ranking_list;\n        if (this.table_userinfo .length == 0){\n            \n            var playerInfo = require(\"PlayerInfo\").getInstant;\n            var playerInfoEx = window.lhd_sc;\n            var info_0 = {\n                score: playerInfoEx.score,\n                user_id: playerInfoEx.id,\n                user_name: playerInfoEx.nickname,\n                user_url: playerInfoEx.headimgurl};\n            this.table_userinfo.push(info_0);\n        }else{\n            this.table_userinfo.splice(1,this.table_userinfo.length-1);\n        }\n\n        if (JSON.stringify(user_object.shen_suan_zi) != \"{}\")\n        {\n            this.table_userinfo.push(user_object.shen_suan_zi);\n        }else\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        for (var i in user_object.ranking_list)\n        {\n            var info = user_object.ranking_list[i];\n            if (info.user_id == this.table_userinfo[1].user_id && parseInt(i)!=0)\n                continue;\n            if (info.user_id == this.table_userinfo[0].user_id && parseInt(i)!=0)\n                continue;\n\n\n            this.table_userinfo.push(info);\n            if (this.table_userinfo.length>=7)\n                break;\n        }\n\n        for (var i = this.table_userinfo.length; i<7 ;i++)\n        {\n            var info_x = {\n                score: \"\",\n                user_id: -1,\n                user_name: \"空缺\",\n                user_url: -1};\n            this.table_userinfo.push(info_x);\n        }\n\n        this.setPlayerView();\n    },\n\n    onLoad () {\n        this.chip_name = {100:\"chip_green\",1000:\"chip_blue\",5000:\"chip_purple\",10000:\"chip_red\",50000:\"chip_yellow\"};\n        this.chip_nums = [100,1000,5000,10000,50000];    \n        cc.debug.setDisplayStats(false);\n        window.longhudou_ins = this;\n        var playerInfo = require(\"PlayerInfo\").getInstant;\n        var playerInfoEx = window.lhd_sc;\n        this.playerId = playerInfoEx.id;\n        //this.player_score = playerInfoEx.score;\n        this.player_name = playerInfo.playerName;\n        this.playerHead = playerInfo.playerHead;\n        this.playerHeadId = playerInfo.playerHeadId;\n\n        this.m_lPoolNum =[0,0,0];\n        this.serializeUsers(window.lhd_global.userInfo_list);\n\n        this.resetparam();\n        this.network = require('longhudouNetWork').getInstant;\n        this.bet_text.active = false;\n\n        this.network.LandlordsSocket.emit('getGameType', '');\n        this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n    },\n\n    start () {\n        playBGM('bg');\n    },\n\n    init_record(result){\n        var arr = this.node.getChildByName(\"trend_box\").getChildByName(\"ludan_20\").children;\n        for (var i = result.length-1;i>=0;i--)\n        {\n            var res = result[i].win;\n            var num = arr.length-1 - (result.length-1 - parseInt(i));\n            if (num<0)break;\n            var node = arr[num];\n\n            node.getComponent(cc.Sprite).spriteFrame = this.resultspframe[res];\n        }\n    },\n\n    init_stat(result){\n        if (result.game_type == 1)\n        {\n            // if (result.bet_time == 15)\n            // {\n            //     this.betBegin();\n            // }else\n            {\n                this.bet_text.active = true;\n                this.m_iGameOverTime = Date.now()/1000+result.bet_time;\n            }\n            this.node.getChildByName(\"anim_wait\").active = false;\n        }else \n        {\n            this.node.getChildByName(\"anim_wait\").active = true;\n        }\n\n        for (var i in result.bet_list)\n        {\n            this.m_lPoolNum[result.bet_list[i].bet_res] = result.bet_list[i].bet_gold;\n        }\n        this.setPoolView();\n    },\n\n    setPoolView()\n    {\n        for (var i =0;i<3;i++)\n        {\n            this.node.getChildByName(\"main\").getChildByName(\"chip_bg_\"+i).getChildByName(\"pool\").getComponent(cc.Label).string = Helper.fixNum(this.m_lPoolNum[i]);    \n        }\n        \n    },\n    update(dt){\n        if (this.m_iGameOverTime && this.bet_text.active)\n        {\n            var t = parseInt(this.m_iGameOverTime - Date.now()/1000);\n\n            if (t<=5 && t+\"\" != this.bet_text.getChildByName('New Label').getComponent(cc.Label).string)\n            {\n                playEffect('countdown');\n                if (t == 0)\n                {\n                    playEffect('stop_s');\n                }\n            }\n\n            if (t<=0) {\n                this.bet_text.active = false;\n                return;\n            }\n            this.bet_text.getChildByName('New Label').getComponent(cc.Label).string = t;\n        }\n    },\n\n    resetparam()\n    {\n        this.m_iCurrentSelBet = -1;\n        this.setBetView();\n        this.setPlayerView();\n    },\n\n    bet(num,point)\n    {\n        this.lastTouchPoint = point;\n        if (this.m_iCurrentSelBet == -1)\n        {\n            return;\n        }\n\n        var  str = JSON.stringify({\n            //bet_type: 1,\n            bet_res: parseInt(num),\n            bet_gold: this.m_iCurrentSelBet,\n        });\n\n        this.network.LandlordsSocket.emit('lottery', str);\n\n        this.setBetView();\n    },\n\n    selbet(num){\n        if (this.m_iCurrentSelBet == num)\n        {\n            this.m_iCurrentSelBet = -1;\n        }else{\n            if (this.table_userinfo[0].score < num)\n            {\n                return;\n            }\n            playEffect('chip');\n            this.m_iCurrentSelBet = num;\n        }\n        this.setBetView();\n    },\n    setBetView()\n    {\n        if (this.m_iCurrentSelBet > this.table_userinfo[0].score)\n        {\n            this.m_iCurrentSelBet = -1;\n        }\n        var betarray = this.chip_box.children;\n        for (var i in betarray)\n        {\n            var node = betarray[i];\n\n            if (this.chip_nums[i] <= this.table_userinfo[0].score)\n            {\n                node.opacity = 255;\n            }else{\n                node.opacity = 128;\n            }\n\n            if (this.chip_nums[i] == this.m_iCurrentSelBet)\n            {\n                node.getChildByName('chip_select').active = true;\n            }else{\n                node.getChildByName('chip_select').active = false;\n            }\n        }\n    },\n\n    setPlayerView()\n    {\n        for (var i in this.player_node)\n        {\n            var tag = parseInt(i);\n            var info;\n            if (tag >= this.table_userinfo.length)\n            {\n                info = {};\n            }else{\n                info = this.table_userinfo[tag];\n            }\n            this.player_node[tag].getChildByName(\"New Label\").getComponent(cc.Label).string = info.user_name;\n            if (this.player_node[tag].getChildByName(\"pl_gold_bar\"))\n                this.player_node[tag].getChildByName(\"pl_gold_bar\").getChildByName(\"New Label\").getComponent(cc.Label).string = Helper.fixNum(info.score);\n\n            var head = info.user_url;\n            var headnode = this.player_node[tag];\n            if (head < 0)\n            {\n                head = 0;\n            }    \n            if (headnode.getChildByName(\"pl_face\"))\n            {\n                headnode = headnode.getChildByName(\"pl_face\");\n            }\n            //headnode.getComponent(cc.Sprite).spriteFrame = this.headspframe[head];\n            window.setHeadTexture(headnode,head);\n        }\n    },\n\n    showResult(ret)\n    {\n        let instance = this;\n        //012 龙虎和 1234 黑红花片\n        //var sam = {hu_card:2307,long_card:258,ResultCode:1,win:1};\n\n        //this.player_score\n        this.table_userinfo[0].score += ret.user_win;\n\n        this.setPokerSp(0,ret.long_card);\n        this.scheduleOnce(function(){\n            this.setPokerSp(1,ret.hu_card);\n            this.scheduleOnce(function(){\n                var winarea = this.node.getChildByName('main').getChildByName('winner_area_'+ret.win);\n                winarea.opacity = 0;\n                winarea.active = true;\n                winarea.runAction(cc.sequence(cc.fadeIn(0.4),cc.fadeOut(0.4),cc.fadeIn(0.4),cc.fadeOut(0.4) ));    \n            },0.8);\n\n            this.scheduleOnce(function(){  \n                var arr = this.chips_node.children;\n                for (var i in arr)\n                {\n                    var chip_node = arr[i];\n                    if (chip_node.on_pool == ret.win)\n                    {\n                        var inited = false;\n                        var endpos;\n                        if (chip_node.owner == this.playerId)\n                        {\n                            inited = true;\n                            endpos = cc.v2(693,61);\n                        }\n                        if (inited)\n                        {\n                            chip_node.runAction(cc.sequence(cc.moveTo(0.25,endpos),cc.removeSelf()));\n                        }else{\n                            chip_node.runAction(cc.sequence(cc.fadeOut(0.25),cc.removeSelf()));\n                        }\n                    }else{\n                        chip_node.runAction(cc.sequence(cc.fadeOut(0.2),cc.removeSelf()));\n                    }\n                }\n            },1.2);\n\n            this.scheduleOnce(function(){\n                if (ret.win == 0){\n                    playEffect('long_win');\n                }else if (ret.win == 1){\n                    playEffect('hu_win');                    \n                }else if (ret.win == 2){\n                    playEffect('he');\n                }\n            },1.6);\n\n            this.scheduleOnce(function (dt) {\n                this.setPlayerView(0);\n                if (ret.user_win>0)\n                {\n                    playEffect('ADD_SCORE');\n                }\n\n                this.network.LandlordsSocket.emit(\"getGameRecordList\",\"\");\n            },1.9);\n\n            this.scheduleOnce(function (dt) {\n                instance.setPokerVisible(false);\n                instance.node.getChildByName(\"anim_wait\").active = true;\n                \n                instance.m_lPoolNum = [0,0,0];\n                instance.setPoolView();\n            },2.3);\n        },0.8);\n        \n    },\n\n    onBet(info){\n        // info.bet_res;\n        // info.bet_gold;\n        // info.userId;\n\n        playEffect('choumaxiazhu');\n        this.m_lPoolNum[info.bet_res] += info.bet_gold;\n        this.setPoolView();\n\n        var chip_startpos;\n        \n        var chip_endpos;\n\n        var inited = false;\n\n        var endnode;\n        if (info.bet_res == 0){\n            endnode = this.node.getChildByName('main').getChildByName('Dragon_betting_area');\n        }else if (info.bet_res == 1){\n            endnode = this.node.getChildByName('main').getChildByName('Tiger_betting_area');\n        }else if (info.bet_res == 2){\n            endnode = this.node.getChildByName('main').getChildByName('Draw_betting_area');\n        }\n\n        var ownerTag = -1;\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                ownerTag = parseInt(i);\n                break;\n            }\n        }\n        for (var i in this.table_userinfo)\n        {\n            if (this.table_userinfo[i].user_id+\"\" == info.userId+\"\")\n            {\n                this.table_userinfo[i].score -= info.bet_gold;\n            }\n        }\n        this.setPlayerView();\n        if (ownerTag == 0)\n        {\n            inited = true;\n\n            chip_startpos = this.chip_box.getChildByName(this.chip_name[info.bet_gold]).convertToWorldSpaceAR(cc.v2(0, 0));\n            \n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpaceAR(cc.v2(0, 0));\n\n            if (this.lastTouchPoint.x >=endpos_min.x && this.lastTouchPoint.y >=endpos_min.y\n                && this.lastTouchPoint.x <=endpos_max.x && this.lastTouchPoint.y <=endpos_max.y)\n            {\n                var endx = this.lastTouchPoint.x + Math.floor(Math.random()*60)-30;\n                var endy = this.lastTouchPoint.y + Math.floor(Math.random()*60)-30;\n            }else{\n                var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n                var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n            }\n\n            chip_endpos = cc.v2(endx,endy);\n\n        }\n        // else if (ownerTag!= -1)\n        // {\n\n        // }\n        else\n        {\n            inited = true;\n\n            //var endpos_mid = endnode.getChildByName('mid').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_min = endnode.getChildByName('min').convertToWorldSpaceAR(cc.v2(0, 0));\n            var endpos_max = endnode.getChildByName('max').convertToWorldSpaceAR(cc.v2(0, 0));\n\n\n            var endx = Math.floor(Math.random()*(endpos_max.x-endpos_min.x)) + endpos_min.x;\n            var endy = Math.floor(Math.random()*(endpos_max.y-endpos_min.y)) + endpos_min.y;\n\n            chip_endpos = cc.v2(endx,endy);\n\n            chip_startpos = chip_endpos;\n\n        }\n\n        if (inited)\n        {\n            var chip_node = cc.instantiate(this.chip_prefab[this.chip_nums.indexOf(info.bet_gold)]);\n            chip_node.x = chip_startpos.x;\n            chip_node.y = chip_startpos.y;\n            chip_node.scale = 0.4;\n            chip_node.parent = this.chips_node;\n            chip_node.runAction(cc.moveTo(0.25,chip_endpos.x,chip_endpos.y));\n\n            chip_node.owner = info.userId;\n            chip_node.on_pool = info.bet_res;\n        }\n    },\n\n    betBegin()\n    {\n        this.network.LandlordsSocket.emit(\"getGameRankingList\",\"\");\n    },\n\n    betBegin_r()\n    {\n        playEffect('start_s');\n        this.m_lPoolNum = [0,0,0];\n        this.setPoolView();\n\n        this.node.getChildByName(\"anim_wait\").active = false;\n        this.m_iGameOverTime = Date.now()/1000+15;\n\n        let instance = this;\n        var ske = this.node.getChildByName('lhdpk');\n        ske.getComponent(sp.Skeleton).setCompleteListener(function () {\n            ske.active = false;\n            instance.setPokerVisible(true);\n\n            var start = instance.node.getChildByName('anim_start');\n            start.getComponent(sp.Skeleton).setCompleteListener(function () {\n                start.active = false;\n            });\n            instance.bet_text.active = true;\n            start.active = true;\n\n        });\n        ske.active = true;\n    },\n\n    setPokerSp(tag,num)\n    {\n        var node;\n        if (tag == 0) node = this.poker_0;\n        if (tag == 1) node = this.poker_1;\n        if (num<0)\n        {\n            node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[52];\n        }else{\n            var a1 = parseInt(num/16)/16;\n            var b1 = num%16;\n            var i = (b1-1)*13 +(a1-1);\n            node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,0,1.2)));\n            this.scheduleOnce(function(){\n                node.getComponent(cc.Sprite).spriteFrame = this.cardspframe[i];\n                node.runAction(cc.sequence(cc.scaleTo(0.25,1.2,1.2),cc.scaleTo(0.25,1,1)));\n            },0.5);\n\n            this.scheduleOnce(function(){\n                playEffect('lhb_p_'+a1);\n            },1);\n\n        }\n},\n\n    setPokerVisible(flag)\n    {\n        var t = 0.15;\n        if (!flag)\n        {\n            this.poker_0.runAction(cc.spawn(cc.moveTo(t,cc.v2(-88-60,258+120)),cc.fadeOut(t)));\n            this.scheduleOnce(function (dt) {\n                //this.setPokerSp(0,-1);\n                this.poker_0.x = -88;\n                this.poker_0.y = 258;\n                this.poker_0.opacity = 0;\n            },t+0.8);\n            this.poker_1.runAction(cc.spawn(cc.moveTo(t,cc.v2(84-60,258+120)),cc.fadeOut(t)));\n            this.scheduleOnce(function (dt) {\n                //this.setPokerSp(0,-1);\n                this.poker_1.x = 84;\n                this.poker_1.y = 258;\n                this.poker_1.opacity = 0;\n            },t+0.8);\n        }else{\n            playEffect('SEND_CARD');\n            this.setPokerSp(0,-1);\n            this.poker_0.opacity = 0;\n            this.poker_0.x = -88+60;\n            this.poker_0.y = 258+120;\n            this.poker_0.runAction(cc.spawn(cc.moveTo(t,cc.v2(-88,258)),cc.fadeIn(t)));\n            \n            this.scheduleOnce(function(){\n                playEffect('SEND_CARD');\n                this.setPokerSp(1,-1);\n                this.poker_1.opacity = 0;\n                this.poker_1.x = 84 - 60;\n                this.poker_1.y = 258 + 120;\n                this.poker_1.runAction(cc.spawn(cc.moveTo(t,cc.v2(84,258)),cc.fadeIn(t)));        \n            },t);\n        }\n    }\n});\n"]}