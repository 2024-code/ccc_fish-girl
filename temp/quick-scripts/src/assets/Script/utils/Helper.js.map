{"version":3,"sources":["assets\\Script\\utils\\Helper.js"],"names":["helper","prototype","loadHead","url","cb","parseInt","cc","loader","loadRes","SpriteFrame","err","sp","load","type","texture","setButtonAudio","Button","_onTouchEnded","t","audioBool","clickEvents","length","target","handler","director","getScene","name","window","playEffect","interactable","enabledInHierarchy","_pressed","Component","EventHandler","emitEvents","node","emit","_updateState","stopPropagation","fixNum","n","toFixed","http","data","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","e","console","error","open","send","Helper","Object","create"],"mappings":"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","sourceRoot":"/","sourcesContent":["(() => {\r\n    let helper = function () {};\r\n\r\n    helper.prototype.loadHead = (url, cb) => {\r\n        if (!!url) {\r\n            if (url == parseInt(url)) {\r\n                cc.loader.loadRes(`head/s${url}`, cc.SpriteFrame, (err, sp) => {\r\n                    cb(sp);\r\n                });\r\n            } else {\r\n                cc.loader.load({\r\n                    url: url,\r\n                    type: 'png'\r\n                }, (err, texture) => {\r\n                    cb(new cc.SpriteFrame(texture));\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    helper.prototype.setButtonAudio = () => {\r\n        cc.Button.prototype._onTouchEnded = function (t) {\r\n            let audioBool = this.clickEvents.length > 0 && !!this.clickEvents[0] && !!this.clickEvents[0].target && !!this.clickEvents[0].handler;\r\n            if (audioBool && cc.director.getScene().name == 'LobbyMain') {\r\n                window.playEffect('click');\r\n            }\r\n            if (this.interactable && this.enabledInHierarchy) {\r\n                if (this._pressed) {\r\n                    cc.Component.EventHandler.emitEvents(this.clickEvents, t);\r\n                    this.node.emit(\"click\", this);\r\n\r\n                }\r\n                this._pressed = !1;\r\n                this._updateState();\r\n                t.stopPropagation();\r\n            }\r\n        };\r\n    }\r\n\r\n    helper.prototype.fixNum = n => {\r\n        n = n / 100;\r\n        return n.toFixed(2);\r\n    }\r\n\r\n    helper.prototype.http = (url, data) => {\r\n        return new Promise((resolve, reject) => {\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState === 4 && xhr.status === 200) {\r\n                    if (!!xhr.response) {\r\n                        try {\r\n                            const response = JSON.parse(xhr.response);\r\n                            resolve(response);\r\n                        } catch (e) {\r\n                            reject(e);\r\n                            console.error('json解析错误');\r\n                        }\r\n                    } else {\r\n                        reject('空消息');\r\n                    }\r\n                }\r\n            }\r\n            xhr.open(\"post\", url);\r\n            xhr.send(data);\r\n        })\r\n    }\r\n\r\n    if (typeof (window) != \"undefined\") {\r\n        window.Helper = Object.create(helper.prototype);\r\n    }\r\n})();"]}