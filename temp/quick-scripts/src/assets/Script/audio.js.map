{"version":3,"sources":["assets\\Script\\audio.js"],"names":["window","playBGM","para","cc","find","getComponent","playEffect","stopBGM","stopEffect","Class","Component","properties","onLoad","start","setted","game","addPersistRootNode","node","pInfo","require","getInstant","musicControl","play","audioEngine","stopAll","soundEffectControl","loop","audio_source","_components"],"mappings":";;;;;;AAAAA,MAAM,CAACC,OAAP,GAAiB,UAASC,IAAT,EACjB;AACIC,EAAAA,EAAE,CAACC,IAAH,CAAQ,OAAR,EAAiBC,YAAjB,CAA8B,OAA9B,EAAuCJ,OAAvC,CAA+CC,IAA/C;AACH,CAHD,EAIAF,MAAM,CAACM,UAAP,GAAoB,UAASJ,IAAT,EACpB;AACIC,EAAAA,EAAE,CAACC,IAAH,CAAQ,OAAR,EAAiBC,YAAjB,CAA8B,OAA9B,EAAuCC,UAAvC,CAAkDJ,IAAlD;AACH,CAPD,EAQAF,MAAM,CAACO,OAAP,GAAiB,YACjB;AACIJ,EAAAA,EAAE,CAACC,IAAH,CAAQ,OAAR,EAAiBC,YAAjB,CAA8B,OAA9B,EAAuCE,OAAvC;AACH,CAXD,EAYAP,MAAM,CAACQ,UAAP,GAAoB,YACpB;AACIL,EAAAA,EAAE,CAACC,IAAH,CAAQ,OAAR,EAAiBC,YAAjB,CAA8B,OAA9B,EAAuCG,UAAvC;AACH,CAfD,EAiBAL,EAAE,CAACM,KAAH,CAAS;AACL,aAASN,EAAE,CAACO,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEAC,EAAAA,MATK,oBASK,CAET,CAXI;AAaLC,EAAAA,KAbK,mBAaI;AACL,QAAI,KAAKC,MAAL,IAAe,IAAnB,EACA;AACI,WAAKA,MAAL,GAAc,IAAd;AACAX,MAAAA,EAAE,CAACY,IAAH,CAAQC,kBAAR,CAA2B,KAAKC,IAAhC;AACH;AACJ,GAnBI;AAqBL;AAEAhB,EAAAA,OAvBK,mBAuBGC,IAvBH,EAwBL;AACI,SAAKgB,KAAL,GAAaC,OAAO,CAAC,YAAD,CAAP,CAAsBC,UAAnC;;AACA,QAAG,KAAKF,KAAL,CAAWG,YAAX,IAA2B,CAA9B,EACA;AACI;AACH;;AACD,SAAKC,IAAL,CAAUpB,IAAV,EAAe,IAAf;AAEH,GAhCI;AAiCLK,EAAAA,OAjCK,qBAkCL;AACIJ,IAAAA,EAAE,CAACoB,WAAH,CAAeC,OAAf;AACH,GApCI;AAqCLlB,EAAAA,UArCK,sBAqCMJ,IArCN,EAqCW;AACZ,SAAKgB,KAAL,GAAaC,OAAO,CAAC,YAAD,CAAP,CAAsBC,UAAnC;AACA,QAAG,KAAKF,KAAL,CAAWO,kBAAX,IAAiC,CAApC,EACI;AACJ,SAAKH,IAAL,CAAUpB,IAAV,EAAe,KAAf;AACH,GA1CI;AA2CLM,EAAAA,UA3CK,wBA2CO,CAEX,CA7CI;AA+CLc,EAAAA,IA/CK,gBA+CApB,IA/CA,EA+CKwB,IA/CL,EAgDL;AACI,QAAIA,IAAJ,EAAU;AACN1B,MAAAA,MAAM,CAACG,EAAP,CAAUoB,WAAV,CAAsBC,OAAtB;AACH;;AAED,QAAIP,IAAI,GAAGjB,MAAM,CAACG,EAAP,CAAUC,IAAV,CAAe,qBAAf,CAAX;AACA,QAAI,CAACa,IAAL,EAAW;AACX,QAAIU,YAAY,GAAGV,IAAI,CAACW,WAAL,CAAiB,CAAjB,CAAnB;AACA,QAAI,CAACD,YAAL,EAAmB;AACnB,QAAI,CAACA,YAAY,CAACzB,IAAD,CAAjB,EAAyB;AACzBF,IAAAA,MAAM,CAACG,EAAP,CAAUoB,WAAV,CAAsBD,IAAtB,CAA2BK,YAAY,CAACzB,IAAD,CAAvC,EAA8CwB,IAA9C;AACH;AA3DI,CAAT,CAjBA","sourceRoot":"/","sourcesContent":["window.playBGM = function(para)\r\n{\r\n    cc.find(\"audio\").getComponent(\"audio\").playBGM(para);\r\n},\r\nwindow.playEffect = function(para)\r\n{\r\n    cc.find(\"audio\").getComponent(\"audio\").playEffect(para);\r\n},\r\nwindow.stopBGM = function()\r\n{\r\n    cc.find(\"audio\").getComponent(\"audio\").stopBGM();\r\n},\r\nwindow.stopEffect = function()\r\n{\r\n    cc.find(\"audio\").getComponent(\"audio\").stopEffect();\r\n},\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n\r\n    start () {\r\n        if (this.setted != true)\r\n        {\r\n            this.setted = true;\r\n            cc.game.addPersistRootNode(this.node);\r\n        }\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    playBGM(para)\r\n    {\r\n        this.pInfo = require(\"PlayerInfo\").getInstant;\r\n        if(this.pInfo.musicControl == 0)\r\n        {\r\n            return;\r\n        }\r\n        this.play(para,true);\r\n        \r\n    },\r\n    stopBGM()\r\n    {\r\n        cc.audioEngine.stopAll();\r\n    },\r\n    playEffect(para){\r\n        this.pInfo = require(\"PlayerInfo\").getInstant;\r\n        if(this.pInfo.soundEffectControl == 0)\r\n            return;\r\n        this.play(para,false);\r\n    },\r\n    stopEffect(){\r\n\r\n    },\r\n\r\n    play(para,loop)\r\n    {\r\n        if (loop) {\r\n            window.cc.audioEngine.stopAll();\r\n        }\r\n\r\n        var node = window.cc.find('Canvas/audio_source');\r\n        if (!node) return;\r\n        var audio_source = node._components[0];\r\n        if (!audio_source) return;\r\n        if (!audio_source[para]) return;\r\n        window.cc.audioEngine.play(audio_source[para],loop);\r\n    }\r\n});\r\n"]}