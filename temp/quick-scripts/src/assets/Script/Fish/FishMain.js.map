{"version":3,"sources":["assets\\Script\\Fish\\FishMain.js"],"names":["cc","Class","Component","properties","bg_anim","Node","effect_frozen","effect_lockFish","lab_lockFish","Label","bg_picList","seat_node","seat_noPlayer_node","touchLayer","bulletPb","Prefab","bulletBg","netBg","netPb","fishBg","fishPb","jackpotlab","coinPb","diamondPb","label_pb","label_pb2","musicToggle","Toggle","soundToggle","onLoad","window","fish_ins","FishPool","NodePool","left_stat","bulletId","allowBullet","isAutoShot","isLockFish","bulletPower","targetFish","bigFishType","sys","isNative","view","setOrientation","macro","ORIENTATION_LANDSCAPE","collisionMgr","director","getCollisionManager","enabled","fishNet","require","getInstant","setFishObj_Funtion","pInfo","setGameObj_Function","disconnected","roomBet","playerList","string","parseInt","win_pool","exchangeRate","cannonList","pos","v2","on","e","getLocation","schedule","shoot","REPEAT_FOREVER","isSwitchTarget","children","child","fishType","getComponent","x","y","getBoundingBoxToWorld","contains","console","log","unschedule","bulletPool","i","pb","instantiate","put","netPool","set_left_view","power_list","skillMaxTime","skillTime","skillCost","skillCD","skillMaxCD","find","Helper","fixNum","start_","userList","usr","seatId","name","nickname","score","diamond","uid","userId","head","headimgurl","playBGM","checkSeatShow","checkSelf","isChecked","musicControl","soundEffectControl","fishNode","getBigFish","isValid","getPosition","playerUid","playerId","playEffect","fishSocket","emit","JSON","stringify","userid","bet","position","getNextBulletID","shoot_r","bid","getSeatByUser","bang","setPlayerEnter","UserId","error","setPlayerExit","active","pinfo","getChildByName","runAction","sequence","delayTime","hide","getBullet","size","get","getNet","openAlert","node","switch_left","instance","left","stopAllActions","t","moveTo","callFunc","createFish","info","type","paths","pathArr","path_list","fishPath","offsetX","offsetY","listX","listY","fishLineup","fishCount","setTimeout","fish","parent","zIndex","pathIndex","fishInfo","fishId","offset","executeMove","Math","floor","width","height","getFishById","fid","checkFishId","onFishHit","target","fishes","targetSeat","fishidlist","chlid","push","fishIdList","isSelf","propId","addDiamondAnim","propValue","addCoinAnime","hitSocre","destroy","onBoomFishHit","key","fishList","isAddScore","check_pan","coinbg","coinpb","coinnum","ceil","coin","moveBy","removeSelf","s","random","label","opacity","t1","s1","t2","spawn","fadeIn","fadeOut","addscore","dia","diapb","dianum","addDiamond","bullet_change","num","index","indexOf","length","changePower","betLbl","cast_skill","sid","playerCoin","getBigFishId","cast_skill_r","pauseAllActions","update","dt","ProgressBar","progress","resumeAllActions","scale","bigfishNode","setAutoShot","isAuto","setMusic","audioEngine","stopAll","writeUserSettingDate_Function","setSound","data","writeData_Function"],"mappings":";;;;;;;;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,OAAO,EAAEJ,EAAE,CAACK,IADJ;AACU;AAClBC,IAAAA,aAAa,EAAEN,EAAE,CAACK,IAFV;AAEgB;AACxBE,IAAAA,eAAe,EAAEP,EAAE,CAACK,IAHZ;AAGoB;AAC5BG,IAAAA,YAAY,EAAER,EAAE,CAACS,KAJT;AAIe;AACvBC,IAAAA,UAAU,EAAE,CAACV,EAAE,CAACK,IAAJ,CALJ;AAKe;AACvBM,IAAAA,SAAS,EAAE,CAACX,EAAE,CAACK,IAAJ,CANH;AAMc;AACtBO,IAAAA,kBAAkB,EAAE,CAACZ,EAAE,CAACK,IAAJ,CAPZ;AAOuB;AAC/BQ,IAAAA,UAAU,EAAEb,EAAE,CAACK,IARP;AAQa;AACrBS,IAAAA,QAAQ,EAAEd,EAAE,CAACe,MATL;AASa;AACrBC,IAAAA,QAAQ,EAAEhB,EAAE,CAACK,IAVL;AAUW;AACnBY,IAAAA,KAAK,EAAEjB,EAAE,CAACK,IAXF;AAWQ;AAChBa,IAAAA,KAAK,EAAElB,EAAE,CAACe,MAZF;AAYU;AAClBI,IAAAA,MAAM,EAAEnB,EAAE,CAACK,IAbH;AAaS;AACjBe,IAAAA,MAAM,EAAE,CAACpB,EAAE,CAACe,MAAJ,CAdA;AAeR;AACA;AACAM,IAAAA,UAAU,EAAErB,EAAE,CAACS,KAjBP;AAiBa;AACrBa,IAAAA,MAAM,EAAE,CAACtB,EAAE,CAACe,MAAJ,CAlBA;AAmBRQ,IAAAA,SAAS,EAAEvB,EAAE,CAACe,MAnBN;AAoBRS,IAAAA,QAAQ,EAAExB,EAAE,CAACe,MApBL;AAqBRU,IAAAA,SAAS,EAAEzB,EAAE,CAACe,MArBN;AAsBRW,IAAAA,WAAW,EAAE1B,EAAE,CAAC2B,MAtBR;AAuBRC,IAAAA,WAAW,EAAE5B,EAAE,CAAC2B;AAvBR,GAHP;AA6BLE,EAAAA,MA7BK,oBA6BI;AAAA;;AACL;AACA;AACA;AACA;AAEAC,IAAAA,MAAM,CAACC,QAAP,GAAkB,IAAlB;AACA,SAAKC,QAAL,GAAgB,IAAIhC,EAAE,CAACiC,QAAP,CAAgB,MAAhB,CAAhB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AAEA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,WAAL,GAAmB,EAAnB,CAhBK,CAkBL;;AACA,QAAIzC,EAAE,CAAC0C,GAAH,CAAOC,QAAX,EAAqB;AACjB3C,MAAAA,EAAE,CAAC4C,IAAH,CAAQC,cAAR,CAAuB7C,EAAE,CAAC8C,KAAH,CAASC,qBAAhC;AACH,KArBI,CAuBL;;;AACA,SAAKC,YAAL,GAAoBhD,EAAE,CAACiD,QAAH,CAAYC,mBAAZ,EAApB;AACA,SAAKF,YAAL,CAAkBG,OAAlB,GAA4B,IAA5B,CAzBK,CA0BL;AACA;AAEA;;AACA,SAAKC,OAAL,GAAeC,OAAO,CAAC,eAAD,CAAP,CAAyBC,UAAxC;AACA,SAAKF,OAAL,CAAaG,kBAAb,CAAgC,IAAhC;AACA,SAAKC,KAAL,GAAaH,OAAO,CAAC,YAAD,CAAP,CAAsBC,UAAnC;AACA,SAAKE,KAAL,CAAWC,mBAAX,CAA+B,IAA/B;AACA,SAAKL,OAAL,CAAaM,YAAb,GAA4B,KAA5B,CAlCK,CAmCL;;AACA,SAAKC,OAAL,GAAe,KAAKP,OAAL,CAAaO,OAA5B,CApCK,CAqCL;;AACA,SAAKC,UAAL,GAAkB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAlB,CAtCK,CAuCL;;AACA,SAAKvC,UAAL,CAAgBwC,MAAhB,GAAyBC,QAAQ,CAAC,KAAKN,KAAL,CAAWO,QAAX,GAAsB,KAAKP,KAAL,CAAWQ,YAAlC,CAAjC,CAxCK,CA0CL;;AACA,SAAKC,UAAL,GAAkB,EAAlB,CA3CK,CA6CL;;AACA,SAAKC,GAAL,GAAWlE,EAAE,CAACmE,EAAH,CAAM,GAAN,EAAW,GAAX,CAAX;AACA,SAAKtD,UAAL,CAAgBuD,EAAhB,CAAmB,YAAnB,EAAiC,UAAAC,CAAC,EAAI;AAClC,UAAI,KAAI,CAAC/B,UAAT,EAAqB;AACrB,MAAA,KAAI,CAAC4B,GAAL,GAAWG,CAAC,CAACC,WAAF,EAAX;;AACA,MAAA,KAAI,CAACC,QAAL,CAAc,KAAI,CAACC,KAAnB,EAA0B,GAA1B,EAA+BxE,EAAE,CAAC8C,KAAH,CAAS2B,cAAxC,EAAwD,IAAxD;AACH,KAJD;AAMA,SAAK5D,UAAL,CAAgBuD,EAAhB,CAAmB,WAAnB,EAAgC,UAAAC,CAAC,EAAI;AACjC,MAAA,KAAI,CAACH,GAAL,GAAWG,CAAC,CAACC,WAAF,EAAX;AACH,KAFD;AAIA,SAAKzD,UAAL,CAAgBuD,EAAhB,CAAmB,UAAnB,EAA+B,UAAAC,CAAC,EAAI;AAChC,UAAI,KAAI,CAAC/B,UAAT,EAAqB;AACjB,YAAIoC,cAAc,GAAG,KAArB;;AACA,6DAAoB,KAAI,CAACvD,MAAL,CAAYwD,QAAhC,wCAA0C;AAAA,cAA/BC,KAA+B;AACtC,cAAIC,QAAQ,GAAGD,KAAK,CAACE,YAAN,CAAmB,MAAnB,EAA2BD,QAA1C;;AACA,cAAID,KAAK,CAACG,CAAN,GAAU,CAAC,GAAX,IAAkBH,KAAK,CAACG,CAAN,GAAU,GAA5B,IAAmCH,KAAK,CAACI,CAAN,GAAU,CAAC,GAA9C,IAAqDJ,KAAK,CAACI,CAAN,GAAU,GAA/D,IAAsEH,QAAQ,GAAG,KAAI,CAACpC,WAA1F,EAAuG;AACnG;AACH;;AACD,cAAImC,KAAK,CAACK,qBAAN,GAA8BC,QAA9B,CAAuCb,CAAC,CAACC,WAAF,EAAvC,KAA2DM,KAAK,IAAI,KAAI,CAACpC,UAA7E,EAAyF;AACrF,YAAA,KAAI,CAACA,UAAL,GAAkBoC,KAAlB;AACAF,YAAAA,cAAc,GAAG,IAAjB;AACAS,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBR,KAArB;AACH;AACJ;;AACD,YAAI,CAACF,cAAL,EAAqB;AACjB,UAAA,KAAI,CAACF,KAAL;AACH;AACJ,OAhBD,MAgBO;AACH,YAAI,KAAI,CAACnC,UAAT,EAAqB;AACjB,UAAA,KAAI,CAACkC,QAAL,CAAc,KAAI,CAACC,KAAnB,EAA0B,GAA1B,EAA+BxE,EAAE,CAAC8C,KAAH,CAAS2B,cAAxC,EAAwD,IAAxD;AACH,SAFD,MAEO;AACH,UAAA,KAAI,CAACY,UAAL,CAAgB,KAAI,CAACb,KAArB;AACH;AACJ;AACJ,KAxBD;AA0BA,SAAK3D,UAAL,CAAgBuD,EAAhB,CAAmB,aAAnB,EAAkC,UAAAC,CAAC,EAAI;AACnC,UAAI,KAAI,CAAC/B,UAAT,EAAqB;;AACrB,UAAI,KAAI,CAACD,UAAT,EAAqB;AACjB,QAAA,KAAI,CAACkC,QAAL,CAAc,KAAI,CAACC,KAAnB,EAA0B,GAA1B,EAA+BxE,EAAE,CAAC8C,KAAH,CAAS2B,cAAxC,EAAwD,IAAxD;AACH,OAFD,MAEO;AACH,QAAA,KAAI,CAACY,UAAL,CAAgB,KAAI,CAACb,KAArB;AACH;AACJ,KAPD,EAnFK,CA4FL;;AACA,SAAKc,UAAL,GAAkB,IAAItF,EAAE,CAACiC,QAAP,EAAlB;;AACA,SAAK,IAAIsD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,UAAIC,EAAE,GAAGxF,EAAE,CAACyF,WAAH,CAAe,KAAK3E,QAApB,CAAT;AACA,WAAKwE,UAAL,CAAgBI,GAAhB,CAAoBF,EAApB;AACH,KAjGI,CAmGL;;;AACA,SAAKG,OAAL,GAAe,IAAI3F,EAAE,CAACiC,QAAP,EAAf;;AACA,SAAK,IAAIsD,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,EAApB,EAAwBA,EAAC,EAAzB,EAA6B;AACzB,UAAIC,GAAE,GAAGxF,EAAE,CAACyF,WAAH,CAAe,KAAKvE,KAApB,CAAT;;AACA,WAAKyE,OAAL,CAAaD,GAAb,CAAiBF,GAAjB;AACH;;AACD,SAAKI,aAAL,CAAmB,IAAnB;;AAEA,QAAI,KAAKjC,OAAL,IAAgB,CAApB,EAAuB;AACnB,WAAKkC,UAAL,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAlB;AACH,KAFD,MAEO,IAAI,KAAKlC,OAAL,IAAgB,EAApB,EAAwB;AAC3B,WAAKkC,UAAL,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAlB;AACH,KAFM,MAEA,IAAI,KAAKlC,OAAL,IAAgB,GAApB,EAAyB;AAC5B,WAAKkC,UAAL,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAlB;AACH,KAFM,MAEA,IAAI,KAAKlC,OAAL,IAAgB,IAApB,EAA0B;AAC7B,WAAKkC,UAAL,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAlB;AACH;;AACD,SAAKC,YAAL,GAAoB,CAAC,IAAI,EAAL,EAAS,SAAS,EAAlB,CAApB;AACA,SAAKC,SAAL,GAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB;AACA,SAAKC,SAAL,GAAiB,CAAC,KAAK,KAAKrC,OAAX,EAAoB,KAAK,KAAKA,OAA9B,CAAjB;AACA,SAAKsC,OAAL,GAAe,CAAC,CAAD,EAAI,CAAJ,CAAf;AACA,SAAKC,UAAL,GAAkB,CAAC,KAAK,EAAN,EAAU,SAAS,EAAnB,CAAlB;AACAlG,IAAAA,EAAE,CAACmG,IAAH,CAAQ,sBAAR,EAAgCrB,YAAhC,CAA6C9E,EAAE,CAACS,KAAhD,EAAuDoD,MAAvD,GAAgEuC,MAAM,CAACC,MAAP,CAAc,KAAKL,SAAL,CAAe,CAAf,CAAd,CAAhE;AACAhG,IAAAA,EAAE,CAACmG,IAAH,CAAQ,sBAAR,EAAgCrB,YAAhC,CAA6C9E,EAAE,CAACS,KAAhD,EAAuDoD,MAAvD,GAAgEuC,MAAM,CAACC,MAAP,CAAc,KAAKL,SAAL,CAAe,CAAf,CAAd,CAAhE;AACH,GAxJI;AA0JLM,EAAAA,MA1JK,oBA0JI;AACL,SAAK,IAAIf,CAAT,IAAc,KAAKnC,OAAL,CAAamD,QAA3B,EAAqC;AACjC,UAAIC,GAAG,GAAG,KAAKpD,OAAL,CAAamD,QAAb,CAAsBhB,CAAtB,CAAV;AACA,WAAK3B,UAAL,CAAgB4C,GAAG,CAACC,MAApB,IAA8B;AAC1BC,QAAAA,IAAI,EAAEF,GAAG,CAACG,QADgB;AAE1BC,QAAAA,KAAK,EAAEJ,GAAG,CAACI,KAFe;AAG1BC,QAAAA,OAAO,EAAEL,GAAG,CAACK,OAHa;AAI1BC,QAAAA,GAAG,EAAEN,GAAG,CAACO,MAJiB;AAK1BC,QAAAA,IAAI,EAAER,GAAG,CAACS;AALgB,OAA9B;AAOH;;AACDC,IAAAA,OAAO,CAAC,MAAD,CAAP;AACA,SAAKC,aAAL;AACA,SAAKC,SAAL;AACA,SAAK1F,WAAL,CAAiB2F,SAAjB,GAA6B,KAAK7D,KAAL,CAAW8D,YAAxC;AACA,SAAK1F,WAAL,CAAiByF,SAAjB,GAA6B,KAAK7D,KAAL,CAAW+D,kBAAxC;AACH,GA1KI;;AA4KL;AACJ;AACA;AACI/C,EAAAA,KA/KK,mBA+KG;AACJ,SAAKlC,UAAL,CADI,CAEJ;;AACA,QAAI,KAAKA,UAAT,EACA;AACA;AACI,YAAIkF,QAAQ,GAAG,KAAKC,UAAL,EAAf;;AACA,YAAI,CAACzH,EAAE,CAAC0H,OAAH,CAAWF,QAAX,CAAL,EAA2B;AACvB,eAAKtD,GAAL,GAAWlE,EAAE,CAACmE,EAAH,CAAM,GAAN,EAAW,GAAX,CAAX;AACH,SAFD,MAEO;AAEH,eAAKD,GAAL,GAAWsD,QAAQ,CAACG,WAAT,EAAX;AACA,eAAKzD,GAAL,CAASa,CAAT,IAAc,GAAd;AACA,eAAKb,GAAL,CAASc,CAAT,IAAc,GAAd;AACH;AACJ,OAZD,MAYO;AACH,UAAI,KAAK5B,OAAL,CAAaqD,MAAb,GAAsB,CAAtB,IAA2B,KAAKvC,GAAL,CAASc,CAAT,GAAa,GAAxC,IAA+C,KAAK5B,OAAL,CAAaqD,MAAb,IAAuB,CAAvB,IAA4B,KAAKvC,GAAL,CAASc,CAAT,GAAa,EAA5F,EAAgG;AAC5F;AACA;AACH;AACJ;;AAED,QAAI4C,SAAS,GAAG,KAAKhE,UAAL,CAAgB,KAAKR,OAAL,CAAaqD,MAA7B,EAAqCK,GAArD;;AACA,QAAIc,SAAS,IAAI,KAAKpE,KAAL,CAAWqE,QAA5B,EAAsC;AAElCC,MAAAA,UAAU,CAAC,MAAD,CAAV;AACA,WAAK1E,OAAL,CAAa2E,UAAb,IAA2B,KAAK3E,OAAL,CAAa2E,UAAb,CAAwBC,IAAxB,CAA6B,WAA7B,EAA0CC,IAAI,CAACC,SAAL,CAAe;AAChFC,QAAAA,MAAM,EAAEP,SADwE;AAEhFQ,QAAAA,GAAG,EAAE,KAAK7F,WAFsE;AAGhF8F,QAAAA,QAAQ,EAAE,KAAKnE,GAHiE;AAIhF/B,QAAAA,QAAQ,EAAE,KAAKmG,eAAL;AAJsE,OAAf,CAA1C,CAA3B;AAMH;AACJ,GAhNI;AAkNLC,EAAAA,OAlNK,mBAkNGJ,MAlNH,EAkNWjE,GAlNX,EAkNgBkE,GAlNhB,EAkNqBI,GAlNrB,EAkN0B;AAC3B;AACA;AACA;AAEA,QAAI/B,MAAM,GAAG,KAAKgC,aAAL,CAAmBN,MAAnB,CAAb;AACA,QAAI1B,MAAM,GAAG,CAAb,EAAgB;;AAChB,QAAI,KAAKrE,WAAT,EAAsB;AAClB,WAAK6B,UAAL,CAAgBwC,MAAhB,EAAwBiC,IAAxB,CAA6BxE,GAA7B,EAAkCkE,GAAlC,EAAuCI,GAAvC;AACH;AACJ,GA5NI;AA8NLC,EAAAA,aA9NK,yBA8NSN,MA9NT,EA8NiB;AAClB,SAAK,IAAI5C,CAAT,IAAc,KAAK3B,UAAnB,EAA+B;AAC3B,UAAI,KAAKA,UAAL,CAAgB2B,CAAhB,KAAsB,IAA1B,EAAgC;;AAChC,UAAI,KAAK3B,UAAL,CAAgB2B,CAAhB,EAAmBuB,GAAnB,IAA0BqB,MAA9B,EAAsC;AAClC,eAAO5C,CAAP;AACH;AACJ;;AACD,WAAO,CAAC,CAAR;AACH,GAtOI;;AAwOL;AACJ;AACA;AACA;AACA;AACA;AACA;AACIoD,EAAAA,cA/OK,0BA+OUC,MA/OV,EA+OkBnC,MA/OlB,EA+O0BE,QA/O1B,EA+OoCC,KA/OpC,EA+O2CI,IA/O3C,EA+OiDH,OA/OjD,EA+O0D;AAC3D,QAAI,CAAC,KAAKjD,UAAL,CAAgB6C,MAAhB,CAAL,EAA8B;AAC1B,WAAK7C,UAAL,CAAgB6C,MAAhB,IAA0B;AACtBC,QAAAA,IAAI,EAAEC,QADgB;AAEtBC,QAAAA,KAAK,EAAEA,KAFe;AAGtBC,QAAAA,OAAO,EAAEA,OAHa;AAItBC,QAAAA,GAAG,EAAE8B,MAJiB;AAKtB5B,QAAAA,IAAI,EAAEA;AALgB,OAA1B;AAOAc,MAAAA,UAAU,CAAC,UAAD,CAAV;AACA,WAAKX,aAAL;AACH,KAVD,MAUO;AACHhC,MAAAA,OAAO,CAAC0D,KAAR,CAAc,iBAAd;AACH;AACJ,GA7PI;;AA+PL;AACJ;AACA;AACA;AACIC,EAAAA,aAnQK,yBAmQSrC,MAnQT,EAmQiB;AAClB,SAAK7C,UAAL,CAAgB6C,MAAhB,IAA0B,IAA1B;AACA,SAAKU,aAAL;AACH,GAtQI;;AAwQL;AACJ;AACA;AACIA,EAAAA,aA3QK,2BA2QW;AACZ,SAAK,IAAI5B,CAAT,IAAc,KAAK3B,UAAnB,EAA+B;AAC3B,WAAKhD,kBAAL,CAAwB2E,CAAxB,EAA2BwD,MAA3B,GAAoC,CAAC,KAAKnF,UAAL,CAAgB2B,CAAhB,CAArC;AACA,WAAK5E,SAAL,CAAe4E,CAAf,EAAkBwD,MAAlB,GAA2B,CAAC,KAAKnI,kBAAL,CAAwB2E,CAAxB,EAA2BwD,MAAvD;AACH;AACJ,GAhRI;AAkRL3B,EAAAA,SAlRK,uBAkRO;AACR,QAAI4B,KAAK,GAAG3F,OAAO,CAAC,YAAD,CAAP,CAAsBC,UAAlC;;AACA,SAAK,IAAIiC,CAAT,IAAc,KAAK3B,UAAnB,EAA+B;AAC3B,UAAI,KAAKA,UAAL,CAAgB2B,CAAhB,KAAsB,KAAK3B,UAAL,CAAgB2B,CAAhB,EAAmBuB,GAAnB,IAA0BkC,KAAK,CAACnB,QAA1D,EAAoE;AAChE,aAAKlH,SAAL,CAAe4E,CAAf,EAAkB0D,cAAlB,CAAiC,IAAjC,EAAuCF,MAAvC,GAAgD,IAAhD;AACA,aAAKpI,SAAL,CAAe4E,CAAf,EAAkB0D,cAAlB,CAAiC,MAAjC,EAAyCF,MAAzC,GAAkD,IAAlD;AACA,aAAKpI,SAAL,CAAe4E,CAAf,EAAkB0D,cAAlB,CAAiC,eAAjC,EAAkDF,MAAlD,GAA2D,IAA3D;AACA,aAAKpI,SAAL,CAAe4E,CAAf,EAAkB0D,cAAlB,CAAiC,eAAjC,EAAkDC,SAAlD,CAA4DlJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACoJ,SAAH,CAAa,CAAb,CAAZ,EAA6BpJ,EAAE,CAACqJ,IAAH,EAA7B,CAA5D;AACA;AACH;AACJ;AACJ,GA7RI;;AA+RL;AACJ;AACA;AACIC,EAAAA,SAlSK,uBAkSO;AACR,QAAI,KAAKhE,UAAL,CAAgBiE,IAAhB,MAA0B,CAA9B,EAAiC;AAC7B,UAAI/D,EAAE,GAAGxF,EAAE,CAACyF,WAAH,CAAe,KAAK3E,QAApB,CAAT;AACA,WAAKwE,UAAL,CAAgBI,GAAhB,CAAoBF,EAApB;AACH;;AACD,WAAO,KAAKF,UAAL,CAAgBkE,GAAhB,EAAP;AACH,GAxSI;;AA0SL;AACJ;AACA;AACIC,EAAAA,MA7SK,oBA6SI;AACL,QAAI,KAAK9D,OAAL,CAAa4D,IAAb,MAAuB,CAA3B,EAA8B;AAC1B,UAAI/D,EAAE,GAAGxF,EAAE,CAACyF,WAAH,CAAe,KAAKvE,KAApB,CAAT;AACA,WAAKyE,OAAL,CAAaD,GAAb,CAAiBF,EAAjB;AACH;;AACD,WAAO,KAAKG,OAAL,CAAa6D,GAAb,EAAP;AACH,GAnTI;AAoTLlB,EAAAA,eApTK,6BAoTa;AACd,QAAI,KAAKnG,QAAL,IAAiB,GAArB,EACI,KAAKA,QAAL,GAAgB,CAAhB,CADJ,KAGI,KAAKA,QAAL;AAEJ,WAAO,KAAKA,QAAZ;AACH,GA3TI;AA4TLuH,EAAAA,SA5TK,uBA4TO;AACR,SAAKC,IAAL,CAAUV,cAAV,CAAyB,cAAzB,EAAyCF,MAAzC,GAAkD,IAAlD;AACH,GA9TI;AAgULa,EAAAA,WAhUK,yBAgUS;AACV,QAAI,KAAK1H,SAAL,IAAkB,CAAtB,EAAyB;AACrB,WAAKA,SAAL,GAAiB,CAAjB;AACH,KAFD,MAEO;AACH,WAAKA,SAAL,GAAiB,CAAjB;AACH;;AACD,SAAK0D,aAAL;AACH,GAvUI;AAwULA,EAAAA,aAxUK,yBAwUSiE,QAxUT,EAwUmB;AACpB,QAAIC,IAAI,GAAG,KAAKH,IAAL,CAAUV,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,MAA9C,CAAX;AACAa,IAAAA,IAAI,CAACC,cAAL;AACA,QAAIC,CAAC,GAAG,GAAR;AACA,QAAIH,QAAJ,EAAcG,CAAC,GAAG,CAAJ;;AACd,QAAI,KAAK9H,SAAL,IAAkB,CAAtB,EAAyB;AACrBlC,MAAAA,EAAE,CAACmG,IAAH,CAAQ,sBAAR,EAAgC4C,MAAhC,GAAyC,IAAzC;AACAe,MAAAA,IAAI,CAACZ,SAAL,CAAelJ,EAAE,CAACiK,MAAH,CAAUD,CAAV,EAAahK,EAAE,CAACmE,EAAH,CAAM,CAAC,GAAP,EAAY,CAAZ,CAAb,CAAf;AACH,KAHD,MAGO;AACH2F,MAAAA,IAAI,CAACZ,SAAL,CAAelJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACiK,MAAH,CAAUD,CAAV,EAAahK,EAAE,CAACmE,EAAH,CAAM,CAAC,GAAP,EAAY,CAAZ,CAAb,CAAZ,EAA0CnE,EAAE,CAACkK,QAAH,CAAY,YAAY;AAC7ElK,QAAAA,EAAE,CAACmG,IAAH,CAAQ,sBAAR,EAAgC4C,MAAhC,GAAyC,KAAzC;AACH,OAFwD,EAEtD,IAFsD,CAA1C,CAAf;AAGH;AACJ,GArVI;AAsVLoB,EAAAA,UAtVK,sBAsVMC,IAtVN,EAsVY;AAAA;;AACb;AACA;AACA;AACA,QAAIC,IAAI,GAAGD,IAAI,CAACvF,QAAhB;AACA,QAAIyF,KAAK,GAAG,KAAKX,IAAL,CAAU7E,YAAV,CAAuB,UAAvB,CAAZ;AACA,QAAIyF,OAAO,GAAGD,KAAK,CAACE,SAAN,CAAgBJ,IAAI,CAACK,QAArB,CAAd;AAEA,QAAIC,OAAO,GAAG,CAAd;AACA,QAAIC,OAAO,GAAG,CAAd;AACA,QAAIC,KAAK,GAAG,CAAZ;AACA,QAAIC,KAAK,GAAG,CAAZ,CAXa,CAab;;AAEA,YAAQT,IAAI,CAACU,UAAb;AACI,WAAK,CAAL;AACI;;AACJ,WAAK,CAAL;AACI;AACAF,QAAAA,KAAK,GAAG,CAAR;AACAC,QAAAA,KAAK,GAAGT,IAAI,CAACW,SAAb;AACA;;AACJ,WAAK,CAAL;AACI;AACAH,QAAAA,KAAK,GAAG,CAAR;AACAC,QAAAA,KAAK,GAAG,CAAR;AACA;;AACJ,WAAK,CAAL;AACI;AACAD,QAAAA,KAAK,GAAG,CAAR;AACAC,QAAAA,KAAK,GAAGT,IAAI,CAACW,SAAb;AACA;;AACJ,WAAK,CAAL;AACI;AACAH,QAAAA,KAAK,GAAG,CAAR;AACAC,QAAAA,KAAK,GAAG,CAAR;AACA;AAtBR;;AAyBA,QAAIT,IAAI,CAACU,UAAL,IAAmB,CAAvB,EAA0B;AAAA,iCACbvF,CADa;AAElByF,QAAAA,UAAU,CAAC,YAAM;AACb,cAAI,MAAI,CAAC5J,MAAT,EAAiB;AACb,gBAAI6J,IAAI,GAAGjL,EAAE,CAACyF,WAAH,CAAe,MAAI,CAACrE,MAAL,CAAYiJ,IAAZ,CAAf,CAAX;AAEAY,YAAAA,IAAI,CAACC,MAAL,GAAc,MAAI,CAAC/J,MAAnB;AACA8J,YAAAA,IAAI,CAACE,MAAL,GAAcf,IAAI,CAACvF,QAAnB;AAEAoG,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0ByF,OAA1B,GAAoCA,OAApC;AACAU,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BsG,SAA1B,GAAsC,CAAtC;AACAH,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BuG,QAA1B,GAAqCjB,IAArC;AACAa,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BwG,MAA1B,GAAmClB,IAAI,CAACkB,MAAL,CAAY/F,CAAZ,CAAnC;AACA0F,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BD,QAA1B,GAAqCwF,IAArC;AACAY,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0ByG,MAA1B,GAAmCvL,EAAE,CAACmE,EAAH,CAAMuG,OAAN,EAAeC,OAAf,CAAnC;AACAM,YAAAA,IAAI,CAAC5C,QAAL,GAAgBrI,EAAE,CAACmE,EAAH,CAAMoG,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAN,EAAqBA,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAArB,CAAhB;AAEAU,YAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0B0G,WAA1B;AACH;AACJ,SAjBS,EAiBPjG,CAAC,GAAG,GAjBG,CAAV;AAFkB;;AACtB,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6E,IAAI,CAACW,SAAzB,EAAoCxF,CAAC,EAArC,EAAyC;AAAA,cAAhCA,CAAgC;AAmBxC;AACJ,KArBD,MAsBK;AACD,WAAK,IAAIA,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG6E,IAAI,CAACW,SAAzB,EAAoCxF,GAAC,EAArC,EAAyC;AACrC,YAAI0F,IAAI,GAAGjL,EAAE,CAACyF,WAAH,CAAe,KAAKrE,MAAL,CAAYiJ,IAAZ,CAAf,CAAX;AAEAK,QAAAA,OAAO,GAAG,CAACe,IAAI,CAACC,KAAL,CAAWnG,GAAC,GAAGsF,KAAf,IAAwB,CAACD,KAAK,GAAG,CAAT,IAAc,CAAvC,IAA4CK,IAAI,CAACU,KAA3D;AACAhB,QAAAA,OAAO,GAAG,CAACpF,GAAC,GAAGsF,KAAJ,GAAY,CAACA,KAAK,GAAG,CAAT,IAAc,CAA3B,IAAgCI,IAAI,CAACW,MAA/C;AAEAX,QAAAA,IAAI,CAACC,MAAL,GAAc,KAAK/J,MAAnB;AACA8J,QAAAA,IAAI,CAACE,MAAL,GAAcf,IAAI,CAACvF,QAAnB;AAEAoG,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0ByF,OAA1B,GAAoCA,OAApC;AACAU,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BsG,SAA1B,GAAsC,CAAtC;AACAH,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BuG,QAA1B,GAAqCjB,IAArC;AACAa,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BwG,MAA1B,GAAmClB,IAAI,CAACkB,MAAL,CAAY/F,GAAZ,CAAnC;AACA0F,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0BD,QAA1B,GAAqCwF,IAArC;AACAY,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0ByG,MAA1B,GAAmCvL,EAAE,CAACmE,EAAH,CAAMuG,OAAN,EAAeC,OAAf,CAAnC;AACAM,QAAAA,IAAI,CAAC5C,QAAL,GAAgBrI,EAAE,CAACmE,EAAH,CAAMoG,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,IAAgBG,OAAtB,EAA+BH,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,IAAgBI,OAA/C,CAAhB;AAEAM,QAAAA,IAAI,CAACnG,YAAL,CAAkB,MAAlB,EAA0B0G,WAA1B;AACH;AACJ;AAEJ,GA1aI;AA4aLK,EAAAA,WA5aK,uBA4aOC,GA5aP,EA4aY;AACb,0DAAuB,KAAK3K,MAAL,CAAYwD,QAAnC,2CAA6C;AAAA,UAAlC6C,QAAkC;AACzC,UAAIyD,IAAI,GAAGzD,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,CAAX;;AACA,UAAImG,IAAI,CAACK,MAAL,IAAeQ,GAAnB,EAAwB;AACpB,YAAItE,QAAQ,CAACzC,CAAT,IAAc,CAAC,GAAf,IAAsByC,QAAQ,CAACzC,CAAT,IAAc,GAApC,IAA2CyC,QAAQ,CAACxC,CAAT,IAAc,CAAC,GAA1D,IAAiEwC,QAAQ,CAACxC,CAAT,IAAc,GAAnF,EAAwF;AACpF,iBAAOwC,QAAP;AACH;AACJ;AACJ;;AACD,WAAO,IAAP;AACH,GAtbI;AAwbLuE,EAAAA,WAxbK,uBAwbOD,GAxbP,EAwbY;AACb,WAAO9L,EAAE,CAAC0H,OAAH,CAAW,KAAKmE,WAAL,CAAiBC,GAAjB,CAAX,CAAP;AACH,GA1bI;AA4bLE,EAAAA,SA5bK,qBA4bK5B,IA5bL,EA4bW;AACZ;AACA;AACA;AACA;AACA;AACA,QAAI6B,MAAM,GAAG,IAAb;AACA,QAAIC,MAAM,GAAG,KAAK/K,MAAL,CAAYwD,QAAzB;;AACA,SAAK,IAAIY,CAAT,IAAc2G,MAAd,EAAsB;AAClB,UAAI1E,QAAQ,GAAG0E,MAAM,CAAC3G,CAAD,CAArB;AACA,UAAI0F,IAAI,GAAGzD,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,CAAX;;AACA,UAAImG,IAAI,CAACK,MAAL,IAAelB,IAAI,CAACkB,MAAxB,EAAgC;AAC5BW,QAAAA,MAAM,GAAGzE,QAAT;AACA;AACH;AACJ;;AACD,QAAIyE,MAAM,IAAI,IAAd,EAAoB,OAhBR,CAiBZ;;AACA,QAAIA,MAAM,IAAI,KAAKzJ,UAAnB,EAA+B;AAC3B,WAAKA,UAAL,GAAkB,IAAlB;AACH;;AAED,QAAI2J,UAAU,GAAG,KAAK1D,aAAL,CAAmB2B,IAAI,CAACrD,MAAxB,CAAjB;;AAEA,QAAIkF,MAAM,CAACnH,YAAP,CAAoB,MAApB,EAA4BD,QAA5B,IAAwC,EAAxC,IACAoH,MAAM,CAACnH,YAAP,CAAoB,MAApB,EAA4BD,QAA5B,IAAwC,EAD5C,EACgD;AAC5C;AAEA,UAAIoG,KAAI,GAAG,IAAX;AACA,UAAImB,UAAU,GAAG,EAAjB;;AACA,4DAAoB,KAAKjL,MAAL,CAAYwD,QAAhC,2CAA0C;AAAA,YAA/B0H,KAA+B;AACtCpB,QAAAA,KAAI,GAAGoB,KAAK,CAACvH,YAAN,CAAmB,MAAnB,CAAP;AACAsH,QAAAA,UAAU,CAACE,IAAX,CAAgBrB,KAAI,CAACK,MAArB;AACH;;AACDnG,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgH,UAAtB;AACA,WAAKhJ,OAAL,CAAa2E,UAAb,CAAwBC,IAAxB,CAA6B,aAA7B,EAA4CC,IAAI,CAACC,SAAL,CAAe;AACvDoD,QAAAA,MAAM,EAAElB,IAAI,CAACkB,MAD0C;AAEvDiB,QAAAA,UAAU,EAAEH;AAF2C,OAAf,CAA5C;AAIH;;AAED,QAAII,MAAM,GAAG,KAAb;;AACA,QAAI,KAAKhJ,KAAL,CAAWqE,QAAX,IAAuBuC,IAAI,CAACrD,MAAhC,EAAwC;AACpCyF,MAAAA,MAAM,GAAG,IAAT;AACH;;AACD,QAAIpC,IAAI,CAACqC,MAAL,IAAe,CAAnB,EAAsB;AAClB,WAAKC,cAAL,CAAoBP,UAApB,EAAgC/B,IAAI,CAACuC,SAArC,EAAgDV,MAAM,CAAC5D,QAAvD,EAAiEmE,MAAjE;AACH,KAFD,MAEO;AACH,WAAKI,YAAL,CAAkBT,UAAlB,EAA8B/B,IAAI,CAACyC,QAAL,GAAgB,KAAKlJ,OAAnD,EAA4DsI,MAAM,CAAC5D,QAAnE,EAA6E4D,MAAM,CAACnH,YAAP,CAAoB,MAApB,EAA4BuG,QAAzG,EAAmHmB,MAAnH,EAA2H,IAA3H;AACH;;AACDP,IAAAA,MAAM,CAACf,MAAP,GAAgB,IAAhB;AACAe,IAAAA,MAAM,CAACa,OAAP;AACH,GAhfI;AAkfLC,EAAAA,aAlfK,yBAkfS3C,IAlfT,EAkfe;AAChB;AACAjF,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBgF,IAAvB;AACA,QAAI5C,QAAQ,GAAG,IAAf;AACA,QAAIgF,MAAM,GAAG,KAAb;AACA,QAAIL,UAAU,GAAG,KAAK1D,aAAL,CAAmB2B,IAAI,CAACrD,MAAxB,CAAjB;;AACA,QAAI,KAAKvD,KAAL,CAAWqE,QAAX,IAAuBuC,IAAI,CAACrD,MAAhC,EAAwC;AACpCyF,MAAAA,MAAM,GAAG,IAAT;AACH;;AACD,SAAK,IAAMQ,GAAX,IAAkB5C,IAAI,CAAC6C,QAAvB,EAAiC;AAC7B,UAAI3B,MAAM,GAAGlB,IAAI,CAAC6C,QAAL,CAAcD,GAAd,CAAb;AACAxF,MAAAA,QAAQ,GAAG,KAAKqE,WAAL,CAAiBP,MAAjB,CAAX;;AACA,UAAItL,EAAE,CAAC0H,OAAH,CAAWF,QAAX,CAAJ,EAA0B;AACtB,YAAIwF,GAAG,IAAI,CAAX,EAAc;AACV,eAAKJ,YAAL,CAAkBT,UAAlB,EAA8B/B,IAAI,CAACyC,QAAL,GAAgB,KAAKlJ,OAAnD,EAA4D6D,QAAQ,CAACa,QAArE,EAA+Eb,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,EAA8BD,QAA7G,EAAuH2H,MAAvH,EAA+H,IAA/H;AACH,SAFD,MAEO;AACH,eAAKI,YAAL,CAAkBT,UAAlB,EAA8B/B,IAAI,CAACyC,QAAL,GAAgB,KAAKlJ,OAAnD,EAA4D6D,QAAQ,CAACa,QAArE,EAA+Eb,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,EAA8BD,QAA7G,EAAuH2H,MAAvH,EAA+H,KAA/H;AACH;;AACDhF,QAAAA,QAAQ,CAAC0D,MAAT,GAAkB,IAAlB;AACA1D,QAAAA,QAAQ,CAACsF,OAAT;AACH;AACJ;AACJ,GAxgBI;AA0gBLF,EAAAA,YA1gBK,wBA0gBQT,UA1gBR,EA0gBoBvF,KA1gBpB,EA0gB2ByB,QA1gB3B,EA0gBqCxD,QA1gBrC,EA0gB+C2H,MA1gB/C,EA0gBuDU,UA1gBvD,EA0gBmE;AACpE,SAAKjJ,UAAL,CAAgBkI,UAAhB,EAA4BgB,SAA5B,CAAsCtI,QAAtC,EAAgD+B,KAAhD,EADoE,CAGpE;;AACA,QAAIwG,MAAM,GAAGpN,EAAE,CAACmG,IAAH,CAAQ,wBAAR,CAAb;AAEA,QAAIkH,MAAM,GAAG,IAAb;AACA,QAAIC,OAAO,GAAG,CAAd;;AACA,QAAI1G,KAAK,IAAI,GAAb,EAAkB;AACdyG,MAAAA,MAAM,GAAG,KAAK/L,MAAL,CAAY,CAAZ,CAAT;AACAgM,MAAAA,OAAO,GAAGxJ,QAAQ,CAAC8C,KAAK,GAAG,GAAT,CAAlB;AACH,KAHD,MAGO,IAAIA,KAAK,IAAI,EAAb,EAAiB;AACpByG,MAAAA,MAAM,GAAG,KAAK/L,MAAL,CAAY,CAAZ,CAAT;AACAgM,MAAAA,OAAO,GAAGxJ,QAAQ,CAAC8C,KAAK,GAAG,EAAT,CAAlB;AACH,KAHM,MAGA;AACHyG,MAAAA,MAAM,GAAG,KAAK/L,MAAL,CAAY,CAAZ,CAAT;AACAgM,MAAAA,OAAO,GAAG7B,IAAI,CAAC8B,IAAL,CAAU3G,KAAV,CAAV;AACH;;AACD,QAAI0G,OAAO,GAAG,CAAd,EAAiBA,OAAO,GAAG,CAAV;;AACjB,SAAK,IAAI/H,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+H,OAApB,EAA6B/H,CAAC,EAA9B,EAAkC;AAC9B,UAAIiI,IAAI,GAAGxN,EAAE,CAACyF,WAAH,CAAe4H,MAAf,CAAX;AACAG,MAAAA,IAAI,CAACtC,MAAL,GAAckC,MAAd;AACAI,MAAAA,IAAI,CAACnF,QAAL,GAAgBA,QAAhB;AAEAmF,MAAAA,IAAI,CAACtE,SAAL,CAAelJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACoJ,SAAH,CAAa,OAAO7D,CAAC,GAAG,CAAX,CAAb,CAAZ,EACXvF,EAAE,CAACyN,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,EAAlB,CADW,EAEXzN,EAAE,CAACiK,MAAH,CAAU,GAAV,EAAe,KAAKhG,UAAL,CAAgBkI,UAAhB,EAA4BxC,IAA5B,CAAiCtB,QAAhD,CAFW,EAGXrI,EAAE,CAAC0N,UAAH,EAHW,CAAf;AAKH;;AAED,QAAIlB,MAAJ,EAAY;AACR,UAAImB,CAAC,GAAG7J,QAAQ,CAAC2H,IAAI,CAACmC,MAAL,KAAgB,EAAjB,CAAhB;AACA9F,MAAAA,UAAU,CAAC,SAAS6F,CAAV,CAAV;AACA7F,MAAAA,UAAU,CAAC,WAAD,CAAV;AAEA,UAAI+F,KAAK,GAAG7N,EAAE,CAACyF,WAAH,CAAe,KAAKjE,QAApB,CAAZ;AACAqM,MAAAA,KAAK,CAACC,OAAN,GAAgB,CAAhB;AACAD,MAAAA,KAAK,CAACxF,QAAN,GAAiBA,QAAjB;AACAwF,MAAAA,KAAK,CAAC/I,YAAN,CAAmB9E,EAAE,CAACS,KAAtB,EAA6BoD,MAA7B,GAAsC,MAAMuC,MAAM,CAACC,MAAP,CAAcO,KAAd,CAA5C;AACAiH,MAAAA,KAAK,CAAC3C,MAAN,GAAekC,MAAf;AACAS,MAAAA,KAAK,CAAC1C,MAAN,GAAe,GAAf;AACA,UAAI4C,EAAE,GAAG,GAAT;AACA,UAAIC,EAAE,GAAG,EAAT;AACA,UAAIC,EAAE,GAAG,GAAT;AACAJ,MAAAA,KAAK,CAAC3E,SAAN,CAAgBlJ,EAAE,CAACmJ,QAAH,CACZnJ,EAAE,CAACkO,KAAH,CAASlO,EAAE,CAACmO,MAAH,CAAUJ,EAAV,CAAT,EAAwB/N,EAAE,CAACyN,MAAH,CAAUM,EAAV,EAAc/N,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS4J,EAAE,GAAGC,EAAd,CAAd,CAAxB,CADY,EAEZhO,EAAE,CAACyN,MAAH,CAAUQ,EAAV,EAAcjO,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS8J,EAAE,GAAGD,EAAd,CAAd,CAFY,EAGZhO,EAAE,CAACkO,KAAH,CAASlO,EAAE,CAACoO,OAAH,CAAWL,EAAX,CAAT,EAAyB/N,EAAE,CAACyN,MAAH,CAAUM,EAAV,EAAc/N,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS4J,EAAE,GAAGC,EAAd,CAAd,CAAzB,CAHY,EAIZhO,EAAE,CAAC0N,UAAH,EAJY,CAAhB;AAKH,KAlDmE,CAmDpE;;;AACA,QAAIR,UAAJ,EAAgB;AACZ,WAAKvD,IAAL,CAAUT,SAAV,CAAoBlJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACoJ,SAAH,CAAa,OAAOkE,OAAO,GAAG,CAAjB,CAAb,CAAZ,EAChBtN,EAAE,CAACkK,QAAH,CAAY,YAAY;AACpB,aAAKjG,UAAL,CAAgBkI,UAAhB,EAA4BkC,QAA5B,CAAqCzH,KAArC;AACH,OAFD,EAEG,IAFH,CADgB,CAApB;AAIH;AAEJ,GArkBI;AAskBL;AACA8F,EAAAA,cAvkBK,0BAukBUP,UAvkBV,EAukBsBmC,GAvkBtB,EAukB2BjG,QAvkB3B,EAukBqCmE,MAvkBrC,EAukB6C;AAC9C,QAAIY,MAAM,GAAGpN,EAAE,CAACmG,IAAH,CAAQ,wBAAR,CAAb;AAEA,QAAIoI,KAAK,GAAG,KAAKhN,SAAjB;AACA,QAAIiN,MAAM,GAAGF,GAAb;;AAEA,SAAK,IAAI/I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiJ,MAApB,EAA4BjJ,CAAC,EAA7B,EAAiC;AAC7B,UAAIiI,IAAI,GAAGxN,EAAE,CAACyF,WAAH,CAAe8I,KAAf,CAAX;AACAf,MAAAA,IAAI,CAACtC,MAAL,GAAckC,MAAd;AACAI,MAAAA,IAAI,CAACnF,QAAL,GAAgBA,QAAhB;AAEAmF,MAAAA,IAAI,CAACtE,SAAL,CAAelJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACoJ,SAAH,CAAa,OAAO7D,CAAC,GAAG,CAAX,CAAb,CAAZ,EACXvF,EAAE,CAACyN,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,EAAlB,CADW,EAEXzN,EAAE,CAACiK,MAAH,CAAU,GAAV,EAAe,KAAKhG,UAAL,CAAgBkI,UAAhB,EAA4BxC,IAA5B,CAAiCtB,QAAhD,CAFW,EAGXrI,EAAE,CAAC0N,UAAH,EAHW,CAAf;AAKH;;AAED,QAAIlB,MAAJ,EAAY;AACR,UAAImB,CAAC,GAAG7J,QAAQ,CAAC2H,IAAI,CAACmC,MAAL,KAAgB,EAAjB,CAAhB;AACA9F,MAAAA,UAAU,CAAC,SAAS6F,CAAV,CAAV;AACA7F,MAAAA,UAAU,CAAC,WAAD,CAAV;AAEA,UAAI+F,KAAK,GAAG7N,EAAE,CAACyF,WAAH,CAAe,KAAKhE,SAApB,CAAZ;AACAoM,MAAAA,KAAK,CAACC,OAAN,GAAgB,CAAhB;AACAD,MAAAA,KAAK,CAACxF,QAAN,GAAiBA,QAAjB;AACAwF,MAAAA,KAAK,CAAC/I,YAAN,CAAmB9E,EAAE,CAACS,KAAtB,EAA6BoD,MAA7B,GAAsC,MAAMyK,GAA5C;AACAT,MAAAA,KAAK,CAAC3C,MAAN,GAAekC,MAAf;AACAS,MAAAA,KAAK,CAAC1C,MAAN,GAAe,GAAf;AACA,UAAI4C,EAAE,GAAG,GAAT;AACA,UAAIC,EAAE,GAAG,EAAT;AACA,UAAIC,EAAE,GAAG,GAAT;AACAJ,MAAAA,KAAK,CAAC3E,SAAN,CAAgBlJ,EAAE,CAACmJ,QAAH,CACZnJ,EAAE,CAACkO,KAAH,CAASlO,EAAE,CAACmO,MAAH,CAAUJ,EAAV,CAAT,EAAwB/N,EAAE,CAACyN,MAAH,CAAUM,EAAV,EAAc/N,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS4J,EAAE,GAAGC,EAAd,CAAd,CAAxB,CADY,EAEZhO,EAAE,CAACyN,MAAH,CAAUQ,EAAV,EAAcjO,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS8J,EAAE,GAAGD,EAAd,CAAd,CAFY,EAGZhO,EAAE,CAACkO,KAAH,CAASlO,EAAE,CAACoO,OAAH,CAAWL,EAAX,CAAT,EAAyB/N,EAAE,CAACyN,MAAH,CAAUM,EAAV,EAAc/N,EAAE,CAACmE,EAAH,CAAM,CAAN,EAAS4J,EAAE,GAAGC,EAAd,CAAd,CAAzB,CAHY,EAIZhO,EAAE,CAAC0N,UAAH,EAJY,CAAhB;AAKH,KArC6C,CAsC9C;;;AACA,SAAK/D,IAAL,CAAUT,SAAV,CAAoBlJ,EAAE,CAACmJ,QAAH,CAAYnJ,EAAE,CAACoJ,SAAH,CAAa,OAAOoF,MAAM,GAAG,CAAhB,CAAb,CAAZ,EAChBxO,EAAE,CAACkK,QAAH,CAAY,YAAY;AACpB,WAAKjG,UAAL,CAAgBkI,UAAhB,EAA4BsC,UAA5B,CAAuCH,GAAvC;AACH,KAFD,EAEG,IAFH,CADgB,CAApB;AAKH,GAnnBI;AAqnBLI,EAAAA,aArnBK,yBAqnBSC,GArnBT,EAqnBc;AACf,QAAIC,KAAK,GAAG,KAAK/I,UAAL,CAAgBgJ,OAAhB,CAAwB,KAAKtM,WAA7B,CAAZ;AACAqM,IAAAA,KAAK,IAAID,GAAT;AACA,QAAIC,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAI,KAAK/I,UAAL,CAAgBiJ,MAA1C,EAAkD;AAClD,SAAKvM,WAAL,GAAmB,KAAKsD,UAAL,CAAgB+I,KAAhB,CAAnB;AAEA,SAAKxL,OAAL,CAAa2E,UAAb,CAAwBC,IAAxB,CAA6B,aAA7B,EAA4CC,IAAI,CAACC,SAAL,CAAe;AACvDC,MAAAA,MAAM,EAAE,KAAK3E,KAAL,CAAWqE,QADoC;AAEvDO,MAAAA,GAAG,EAAE,KAAK7F;AAF6C,KAAf,CAA5C;AAIH,GA/nBI;AAkoBLwM,EAAAA,WAloBK,uBAkoBO3E,IAloBP,EAkoBa;AACd,SAAK,IAAI7E,CAAT,IAAc,KAAK3B,UAAnB,EAA+B;AAC3B,UAAI,KAAKA,UAAL,IAAmB,KAAKA,UAAL,CAAgB2B,CAAhB,EAAmBuB,GAAnB,IAA0BsD,IAAI,CAACjC,MAAtD,EAA8D;AAC1D,aAAKlE,UAAL,CAAgBsB,CAAhB,EAAmByJ,MAAnB,CAA0BnL,MAA1B,GAAmCuC,MAAM,CAACC,MAAP,CAAc+D,IAAI,CAAChC,GAAL,GAAW,KAAKzE,OAA9B,CAAnC;AACA;AACH;AACJ;AACJ,GAzoBI;AA2oBLsL,EAAAA,UA3oBK,sBA2oBMC,GA3oBN,EA2oBW;AACZ,QAAIA,GAAG,IAAI,CAAX,EAAc;AACV,UAAI,KAAKjJ,OAAL,CAAa,CAAb,IAAkB,CAAlB,IAAuB,KAAKzC,KAAL,CAAW2L,UAAX,GAAwB,KAAKnJ,SAAL,CAAe,CAAf,CAAnD,EAAsE;AAClE;AACH;;AACD,UAAIoE,IAAI,GAAG;AAAEtD,QAAAA,GAAG,EAAE,KAAKtD,KAAL,CAAWqE,QAAlB;AAA4BqH,QAAAA,GAAG,EAAEA;AAAjC,OAAX,CAJU,CAMV;;AACA,WAAK9L,OAAL,CAAa2E,UAAb,CAAwBC,IAAxB,CAA6B,UAA7B,EAAyCC,IAAI,CAACC,SAAL,CAAekC,IAAf,CAAzC;AACH,KATW,CAUZ;;;AACA,QAAI8E,GAAG,IAAI,CAAX,EAAc;AACV,WAAK5M,UAAL,GAAkB,CAAC,KAAKA,UAAxB;;AACA,UAAI,KAAKA,UAAT,EAAqB;AACjB,aAAK8M,YAAL;AACA,aAAK7O,eAAL,CAAqBwI,MAArB,GAA8B,IAA9B;AACA,aAAKvI,YAAL,CAAkBqD,MAAlB,GAA2B,MAA3B;AACH,OAJD,MAIO;AACH,aAAKtD,eAAL,CAAqBwI,MAArB,GAA8B,KAA9B;AACA,aAAKvI,YAAL,CAAkBqD,MAAlB,GAA2B,IAA3B;AACH;AACJ;AAEJ,GAlqBI;AAoqBLwL,EAAAA,YApqBK,wBAoqBQjF,IApqBR,EAoqBc;AACf,QAAI3D,MAAM,GAAG,KAAKgC,aAAL,CAAmB2B,IAAI,CAACtD,GAAxB,CAAb;AACA,QAAIL,MAAM,GAAG,CAAb,EAAgB;;AAEhB,QAAI2D,IAAI,CAAC8E,GAAL,IAAY,CAAhB,EAAmB;AACf,WAAKnJ,SAAL,CAAe,CAAf,IAAoB,KAAKD,YAAL,CAAkB,CAAlB,CAApB;AACA,WAAKG,OAAL,CAAa,CAAb,IAAkB,KAAKC,UAAL,CAAgB,CAAhB,CAAlB;AACA,WAAK5F,aAAL,CAAmByI,MAAnB,GAA4B,IAA5B;;AACA,WAAK,IAAIxD,CAAT,IAAc,KAAKpE,MAAL,CAAYwD,QAA1B,EAAoC;AAChC,YAAIsG,IAAI,GAAG,KAAK9J,MAAL,CAAYwD,QAAZ,CAAqBY,CAArB,CAAX;AACA0F,QAAAA,IAAI,CAACqE,eAAL;AACH;AACJ,KAZc,CAcf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACH,GA/rBI;AAisBL;AACA;AACA;AAEAC,EAAAA,MArsBK,kBAqsBEC,EArsBF,EAqsBM;AACP,SAAK,IAAIjK,CAAT,IAAc,KAAKQ,SAAnB,EAA8B;AAC1B,UAAI,KAAKA,SAAL,CAAeR,CAAf,IAAoB,CAAxB,EAA2B;AACvB,aAAKQ,SAAL,CAAeR,CAAf;AACH;;AACD,UAAI,KAAKU,OAAL,CAAaV,CAAb,IAAkB,CAAtB,EAAyB;AACrB,aAAKU,OAAL,CAAaV,CAAb;AACH;;AAED,UAAIoE,IAAJ;;AACA,UAAIpE,CAAC,IAAI,CAAT,EAAY;AACRoE,QAAAA,IAAI,GAAG3J,EAAE,CAACmG,IAAH,CAAQ,mBAAR,CAAP;AACH,OAFD,MAEO,IAAIZ,CAAC,IAAI,CAAT,EAAY;AACfoE,QAAAA,IAAI,GAAG3J,EAAE,CAACmG,IAAH,CAAQ,mBAAR,CAAP;AACH;;AAEDwD,MAAAA,IAAI,CAAC7E,YAAL,CAAkB9E,EAAE,CAACyP,WAArB,EAAkCC,QAAlC,GAA6C,KAAKzJ,OAAL,CAAaV,CAAb,IAAkB,KAAKW,UAAL,CAAgBX,CAAhB,CAA/D;AACH;;AAED,QAAI,KAAKQ,SAAL,CAAe,CAAf,KAAqB,CAAzB,EAA4B;AACxB,WAAK,IAAIR,CAAT,IAAc,KAAKpE,MAAL,CAAYwD,QAA1B,EAAoC;AAChC,YAAIsG,IAAI,GAAG,KAAK9J,MAAL,CAAYwD,QAAZ,CAAqBY,CAArB,CAAX;AACA0F,QAAAA,IAAI,CAAC0E,gBAAL;AACH;;AACD,WAAKrP,aAAL,CAAmByI,MAAnB,GAA4B,KAA5B;AACH,KAzBM,CA0BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAIY,IAAI,GAAG3J,EAAE,CAACmG,IAAH,CAAQ,6BAAR,CAAX;;AACA,QAAI,KAAK7D,UAAT,EAAqB;AACjB,UAAI2I,IAAI,GAAG,KAAKxD,UAAL,EAAX;;AACA,UAAIzH,EAAE,CAAC0H,OAAH,CAAWuD,IAAX,CAAJ,EAAsB;AAClBtB,QAAAA,IAAI,CAACZ,MAAL,GAAc,IAAd;AACAY,QAAAA,IAAI,CAACtB,QAAL,GAAgB4C,IAAI,CAAC5C,QAArB;AACAsB,QAAAA,IAAI,CAACiG,KAAL,GAAa3E,IAAI,CAACW,MAAL,GAAc,IAAd,GAAqB,GAAlC;AACH,OAJD,MAIO;AACHjC,QAAAA,IAAI,CAACZ,MAAL,GAAc,KAAd;AACH;AACJ,KATD,MASO;AACHY,MAAAA,IAAI,CAACZ,MAAL,GAAc,KAAd;AACH;AAEJ,GA9vBI;AAgwBLqG,EAAAA,YAhwBK,0BAgwBU;AACX,QAAI5H,QAAQ,GAAG,KAAKC,UAAL,EAAf;AACA,QAAI,CAACzH,EAAE,CAAC0H,OAAH,CAAWF,QAAX,CAAL,EAA2B,OAAO,CAAC,CAAR;AAC3B,WAAOA,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,EAA8BwG,MAArC;AACH,GApwBI;AAqwBL7D,EAAAA,UArwBK,wBAqwBQ;AACT,QAAIzH,EAAE,CAAC0H,OAAH,CAAW,KAAKlF,UAAhB,CAAJ,EAAiC;AAC7B,aAAO,KAAKA,UAAZ;AACH;;AACD,QAAIqN,WAAW,GAAG,IAAlB;;AACA,SAAK,IAAItK,CAAT,IAAc,KAAKpE,MAAL,CAAYwD,QAA1B,EAAoC;AAChC,UAAI6C,QAAQ,GAAG,KAAKrG,MAAL,CAAYwD,QAAZ,CAAqBY,CAArB,CAAf;AACA,UAAI0F,IAAI,GAAGzD,QAAQ,CAAC1C,YAAT,CAAsB,MAAtB,CAAX;;AACA,UAAI0C,QAAQ,CAACzC,CAAT,GAAa,CAAC,GAAd,IAAqByC,QAAQ,CAACzC,CAAT,GAAa,GAAlC,IAAyCyC,QAAQ,CAACxC,CAAT,GAAa,CAAC,GAAvD,IAA8DwC,QAAQ,CAACxC,CAAT,GAAa,GAA3E,IAAkFiG,IAAI,CAACpG,QAAL,GAAgB,KAAKpC,WAA3G,EAAwH;AACpH;AACH;;AACD,UAAIoN,WAAW,IAAI,IAAf,IAAuB5E,IAAI,CAACpG,QAAL,GAAgBgL,WAAW,CAAC/K,YAAZ,CAAyB,MAAzB,EAAiCD,QAA5E,EAAsF;AAClFgL,QAAAA,WAAW,GAAGrI,QAAd;AACH;AACJ;;AACD,WAAOqI,WAAP;AACH,GArxBI;AAuxBLC,EAAAA,WAvxBK,uBAuxBOC,MAvxBP,EAuxBe;AAChB,SAAK1N,UAAL,GAAkB0N,MAAlB,CADgB,CAEhB;;AACA,QAAIA,MAAJ,EAAY;AACR,WAAKxL,QAAL,CAAc,KAAKC,KAAnB,EAA0B,GAA1B,EAA+BxE,EAAE,CAAC8C,KAAH,CAAS2B,cAAxC,EAAwD,IAAxD;AACH,KAFD,MAEO;AACH,WAAKY,UAAL,CAAgB,KAAKb,KAArB;AACH;AACJ,GA/xBI;AAiyBLwL,EAAAA,QAjyBK,sBAiyBM;AACP,QAAI,KAAKxM,KAAL,CAAW8D,YAAf,EAA6B;AACzB,WAAK9D,KAAL,CAAW8D,YAAX,GAA0B,CAA1B;AACA,WAAK5F,WAAL,CAAiB2F,SAAjB,GAA6B,KAA7B;AACArH,MAAAA,EAAE,CAACiQ,WAAH,CAAeC,OAAf;AACH,KAJD,MAIO;AACH,WAAK1M,KAAL,CAAW8D,YAAX,GAA0B,CAA1B;AACA,WAAK5F,WAAL,CAAiB2F,SAAjB,GAA6B,IAA7B;AACAH,MAAAA,OAAO,CAAC,MAAD,CAAP;AACH;;AACD,SAAKiJ,6BAAL;AACH,GA5yBI;AA8yBLC,EAAAA,QA9yBK,sBA8yBM;AACP,QAAI,KAAK5M,KAAL,CAAW+D,kBAAf,EAAmC;AAC/B,WAAK/D,KAAL,CAAW+D,kBAAX,GAAgC,CAAhC;AACA,WAAK3F,WAAL,CAAiByF,SAAjB,GAA6B,KAA7B;AACH,KAHD,MAGO;AACH,WAAK7D,KAAL,CAAW+D,kBAAX,GAAgC,CAAhC;AACA,WAAK3F,WAAL,CAAiByF,SAAjB,GAA6B,IAA7B;AACH;;AACD,SAAK8I,6BAAL;AACH,GAvzBI;;AAwzBL;AACJ;AACA;AACIA,EAAAA,6BAA6B,EAAE,yCAAY;AACvC,QAAIE,IAAI,GAAG;AACP/I,MAAAA,YAAY,EAAE,KAAK9D,KAAL,CAAW8D,YADlB;AAEPC,MAAAA,kBAAkB,EAAE,KAAK/D,KAAL,CAAW+D;AAFxB,KAAX;AAIA,SAAK/D,KAAL,CAAW8M,kBAAX,CAA8B,aAA9B,EAA6CD,IAA7C;AACH;AAj0BI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg_anim: cc.Node, //海水特效\r\n        effect_frozen: cc.Node, //海水特效\r\n        effect_lockFish: cc.Node,   //锁定效果\r\n        lab_lockFish: cc.Label,//锁定文字\r\n        bg_picList: [cc.Node], //背景列表\r\n        seat_node: [cc.Node], //座位列表\r\n        seat_noPlayer_node: [cc.Node], //没座位列表\r\n        touchLayer: cc.Node, //点击层\r\n        bulletPb: cc.Prefab, //子弹pb\r\n        bulletBg: cc.Node, //子弹层\r\n        netBg: cc.Node, // 网层\r\n        netPb: cc.Prefab, // 网pb\r\n        fishBg: cc.Node, //鱼层\r\n        fishPb: [cc.Prefab],\r\n        //\r\n        //heartBeat: 0,\r\n        jackpotlab: cc.Label,//奖池信息\r\n        coinPb: [cc.Prefab],\r\n        diamondPb: cc.Prefab,\r\n        label_pb: cc.Prefab,\r\n        label_pb2: cc.Prefab,\r\n        musicToggle: cc.Toggle,\r\n        soundToggle: cc.Toggle,\r\n    },\r\n\r\n    onLoad() {\r\n        //是否允许开炮\r\n        // var t;\r\n        // for (this.fishW = [62.4, 80, 73.2, 74, 62.4, 72, 117.6, 112.8, 100, 120, 225, 180, 180, 235.2, 237.6, 160, 160, 160, 160, 160, 160, 350, 350, 350, 350, 350, 350], this.labelPosition = new Array(this.maxPlayer), t = 0; t < this.labelPosition.length; ++t) this.labelPosition[t] = cc.p(0, 0);\r\n        //         cc.p(0, 0);\r\n\r\n        window.fish_ins = this;\r\n        this.FishPool = new cc.NodePool(\"Fish\");\r\n        this.left_stat = 0;\r\n        this.bulletId = 0;\r\n        this.allowBullet = true;\r\n        this.isAutoShot = false;\r\n        this.isLockFish = false;\r\n\r\n        this.bulletPower = 1;\r\n        this.targetFish = null;\r\n        this.bigFishType = 15;\r\n\r\n        //屏幕适配\r\n        if (cc.sys.isNative) {\r\n            cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);\r\n        }\r\n\r\n        //碰撞管理器\r\n        this.collisionMgr = cc.director.getCollisionManager();\r\n        this.collisionMgr.enabled = true;\r\n        // this.collisionMgr.enabledDebugDraw = true;\r\n        // this.collisionMgr.enabledDrawBoundingBox = true;\r\n\r\n        //获取组件\r\n        this.fishNet = require(\"./FishNetWork\").getInstant;\r\n        this.fishNet.setFishObj_Funtion(this);\r\n        this.pInfo = require(\"PlayerInfo\").getInstant;\r\n        this.pInfo.setGameObj_Function(this);\r\n        this.fishNet.disconnected = false;\r\n        //获取房间倍率\r\n        this.roomBet = this.fishNet.roomBet;\r\n        //房间玩家信息\r\n        this.playerList = [null, null, null, null];\r\n        //获取奖池信息\r\n        this.jackpotlab.string = parseInt(this.pInfo.win_pool / this.pInfo.exchangeRate);\r\n\r\n        //炮对象 在BUlletCtrl中赋值\r\n        this.cannonList = [];\r\n\r\n        //注册点击事件\r\n        this.pos = cc.v2(667, 375);\r\n        this.touchLayer.on(\"touchstart\", e => {\r\n            if (this.isLockFish) return;\r\n            this.pos = e.getLocation();\r\n            this.schedule(this.shoot, 0.2, cc.macro.REPEAT_FOREVER, 0.01);\r\n        })\r\n\r\n        this.touchLayer.on(\"touchmove\", e => {\r\n            this.pos = e.getLocation();\r\n        })\r\n\r\n        this.touchLayer.on(\"touchend\", e => {\r\n            if (this.isLockFish) {\r\n                let isSwitchTarget = false;\r\n                for (const child of this.fishBg.children) {\r\n                    let fishType = child.getComponent(\"Fish\").fishType;\r\n                    if (child.x < -667 || child.x > 667 || child.y < -375 || child.y > 375 || fishType < this.bigFishType) {\r\n                        continue;\r\n                    }\r\n                    if (child.getBoundingBoxToWorld().contains(e.getLocation()) && child != this.targetFish) {\r\n                        this.targetFish = child;\r\n                        isSwitchTarget = true;\r\n                        console.log(\"点击锁定鱼\", child);\r\n                    }\r\n                }\r\n                if (!isSwitchTarget) {\r\n                    this.shoot();\r\n                }\r\n            } else {\r\n                if (this.isAutoShot) {\r\n                    this.schedule(this.shoot, 0.3, cc.macro.REPEAT_FOREVER, 0.01);\r\n                } else {\r\n                    this.unschedule(this.shoot);\r\n                }\r\n            }\r\n        })\r\n\r\n        this.touchLayer.on(\"touchcancel\", e => {\r\n            if (this.isLockFish) return;\r\n            if (this.isAutoShot) {\r\n                this.schedule(this.shoot, 0.3, cc.macro.REPEAT_FOREVER, 0.01);\r\n            } else {\r\n                this.unschedule(this.shoot);\r\n            }\r\n        })\r\n\r\n        //生成子弹池\r\n        this.bulletPool = new cc.NodePool();\r\n        for (let i = 0; i < 50; i++) {\r\n            let pb = cc.instantiate(this.bulletPb);\r\n            this.bulletPool.put(pb);\r\n        }\r\n\r\n        //生成网池\r\n        this.netPool = new cc.NodePool();\r\n        for (let i = 0; i < 20; i++) {\r\n            let pb = cc.instantiate(this.netPb);\r\n            this.netPool.put(pb);\r\n        }\r\n        this.set_left_view(true);\r\n\r\n        if (this.roomBet == 1) {\r\n            this.power_list = [1, 2, 3, 4, 5];\r\n        } else if (this.roomBet == 10) {\r\n            this.power_list = [1, 2, 3, 4, 5];\r\n        } else if (this.roomBet == 100) {\r\n            this.power_list = [1, 2, 3, 4, 5];\r\n        } else if (this.roomBet == 1000) {\r\n            this.power_list = [1, 2, 3, 4, 5];\r\n        }\r\n        this.skillMaxTime = [5 * 60, 100000 * 60];\r\n        this.skillTime = [0, 0];\r\n        this.skillCost = [10 * this.roomBet, 20 * this.roomBet];\r\n        this.skillCD = [0, 0];\r\n        this.skillMaxCD = [10 * 60, 100000 * 60];\r\n        cc.find('Canvas/UI/b/s1/shuzi').getComponent(cc.Label).string = Helper.fixNum(this.skillCost[0]);\r\n        cc.find('Canvas/UI/b/s2/shuzi').getComponent(cc.Label).string = Helper.fixNum(this.skillCost[1]);\r\n    },\r\n\r\n    start_() {\r\n        for (let i in this.fishNet.userList) {\r\n            let usr = this.fishNet.userList[i];\r\n            this.playerList[usr.seatId] = {\r\n                name: usr.nickname,\r\n                score: usr.score,\r\n                diamond: usr.diamond,\r\n                uid: usr.userId,\r\n                head: usr.headimgurl,\r\n            }\r\n        }\r\n        playBGM('bg_0');\r\n        this.checkSeatShow();\r\n        this.checkSelf();\r\n        this.musicToggle.isChecked = this.pInfo.musicControl;\r\n        this.soundToggle.isChecked = this.pInfo.soundEffectControl;\r\n    },\r\n\r\n    /**\r\n     * 射击\r\n     */\r\n    shoot() {\r\n        this.isLockFish\r\n        // if (this.isAiming())\r\n        if (this.isLockFish)\r\n        // if(this.isLockFish)\r\n        {\r\n            var fishNode = this.getBigFish();\r\n            if (!cc.isValid(fishNode)) {\r\n                this.pos = cc.v2(667, 375);\r\n            } else {\r\n\r\n                this.pos = fishNode.getPosition();\r\n                this.pos.x += 667;\r\n                this.pos.y += 375;\r\n            }\r\n        } else {\r\n            if (this.fishNet.seatId > 1 && this.pos.y > 700 || this.fishNet.seatId <= 1 && this.pos.y < 50) {\r\n                // console.log('touch outsider!');\r\n                return;\r\n            }\r\n        }\r\n\r\n        let playerUid = this.playerList[this.fishNet.seatId].uid;\r\n        if (playerUid == this.pInfo.playerId) {\r\n\r\n            playEffect('shot');\r\n            this.fishNet.fishSocket && this.fishNet.fishSocket.emit('fishShoot', JSON.stringify({\r\n                userid: playerUid,\r\n                bet: this.bulletPower,\r\n                position: this.pos,\r\n                bulletId: this.getNextBulletID(),\r\n            }));\r\n        }\r\n    },\r\n\r\n    shoot_r(userid, pos, bet, bid) {\r\n        // console.log(\"SHOOT :\"+pos.x+\"-\"+pos.y);\r\n        // var node = cc.find(\"Canvas/GameNode/aurabg/aura\");\r\n        // console.log(\"aura :\"+node.position.x+\"-\"+node.position.y);\r\n\r\n        var seatId = this.getSeatByUser(userid);\r\n        if (seatId < 0) return;\r\n        if (this.allowBullet) {\r\n            this.cannonList[seatId].bang(pos, bet, bid);\r\n        }\r\n    },\r\n\r\n    getSeatByUser(userid) {\r\n        for (var i in this.playerList) {\r\n            if (this.playerList[i] == null) continue;\r\n            if (this.playerList[i].uid == userid) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    },\r\n\r\n    /**\r\n     * 其它玩家进入房间\r\n     * @param {用户id} UserId \r\n     * @param {座位id} seatId \r\n     * @param {用户名} nickname \r\n     * @param {用户分数} score \r\n     */\r\n    setPlayerEnter(UserId, seatId, nickname, score, head, diamond) {\r\n        if (!this.playerList[seatId]) {\r\n            this.playerList[seatId] = {\r\n                name: nickname,\r\n                score: score,\r\n                diamond: diamond,\r\n                uid: UserId,\r\n                head: head,\r\n            }\r\n            playEffect('sit_down');\r\n            this.checkSeatShow();\r\n        } else {\r\n            console.error('位置已占-不能进入座位-请检查');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 其它玩家离开房间操作\r\n     * @param {座位id} seatId \r\n     */\r\n    setPlayerExit(seatId) {\r\n        this.playerList[seatId] = null;\r\n        this.checkSeatShow();\r\n    },\r\n\r\n    /**\r\n     * 控制座位的显隐\r\n     */\r\n    checkSeatShow() {\r\n        for (let i in this.playerList) {\r\n            this.seat_noPlayer_node[i].active = !this.playerList[i];\r\n            this.seat_node[i].active = !this.seat_noPlayer_node[i].active;\r\n        }\r\n    },\r\n\r\n    checkSelf() {\r\n        var pinfo = require('PlayerInfo').getInstant;\r\n        for (var i in this.playerList) {\r\n            if (this.playerList[i] && this.playerList[i].uid == pinfo.playerId) {\r\n                this.seat_node[i].getChildByName('up').active = true;\r\n                this.seat_node[i].getChildByName('down').active = true;\r\n                this.seat_node[i].getChildByName('your_position').active = true;\r\n                this.seat_node[i].getChildByName('your_position').runAction(cc.sequence(cc.delayTime(5), cc.hide()));\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 获取子弹池中的子弹\r\n     */\r\n    getBullet() {\r\n        if (this.bulletPool.size() <= 0) {\r\n            let pb = cc.instantiate(this.bulletPb);\r\n            this.bulletPool.put(pb);\r\n        }\r\n        return this.bulletPool.get();\r\n    },\r\n\r\n    /**\r\n     * 获取渔网池中的渔网\r\n     */\r\n    getNet() {\r\n        if (this.netPool.size() <= 0) {\r\n            let pb = cc.instantiate(this.netPb);\r\n            this.netPool.put(pb);\r\n        }\r\n        return this.netPool.get();\r\n    },\r\n    getNextBulletID() {\r\n        if (this.bulletId >= 1e4)\r\n            this.bulletId = 0;\r\n        else\r\n            this.bulletId++;\r\n\r\n        return this.bulletId;\r\n    },\r\n    openAlert() {\r\n        this.node.getChildByName('messageboxbg').active = true;\r\n    },\r\n\r\n    switch_left() {\r\n        if (this.left_stat == 0) {\r\n            this.left_stat = 1;\r\n        } else {\r\n            this.left_stat = 0;\r\n        }\r\n        this.set_left_view();\r\n    },\r\n    set_left_view(instance) {\r\n        var left = this.node.getChildByName('UI').getChildByName('left');\r\n        left.stopAllActions();\r\n        var t = 0.2;\r\n        if (instance) t = 0;\r\n        if (this.left_stat == 1) {\r\n            cc.find('Canvas/UI/left/左侧导航栏').active = true;\r\n            left.runAction(cc.moveTo(t, cc.v2(-667, 0)));\r\n        } else {\r\n            left.runAction(cc.sequence(cc.moveTo(t, cc.v2(-790, 0)), cc.callFunc(function () {\r\n                cc.find('Canvas/UI/left/左侧导航栏').active = false;\r\n            }, this)))\r\n        }\r\n    },\r\n    createFish(info) {\r\n        //{\"fishId\":[2324,2325,2326],\r\n        //\"fishType\":11,\"fishPath\":7,\"fishCount\":3,\r\n        //\"fishLineup\":1,\"lineup\":false,\"propCount\":0}\r\n        let type = info.fishType;\r\n        let paths = this.node.getComponent(\"FishPath\");\r\n        let pathArr = paths.path_list[info.fishPath];\r\n\r\n        let offsetX = 0;\r\n        let offsetY = 0;\r\n        let listX = 1;\r\n        let listY = 1;\r\n\r\n        //console.log(\"出鱼: 鱼类型-\", type, \" 鱼的排列-\", info.fishLineup, \" 鱼的数量-\", info.fishCount);\r\n\r\n        switch (info.fishLineup) {\r\n            case 0:\r\n                break;\r\n            case 1:\r\n                //并排\r\n                listX = 1;\r\n                listY = info.fishCount;\r\n                break;\r\n            case 2:\r\n                //正方形 4只\r\n                listX = 2;\r\n                listY = 2;\r\n                break;\r\n            case 3:\r\n                //5星 5只\r\n                listX = 1;\r\n                listY = info.fishCount;\r\n                break;\r\n            case 4:\r\n                //长方形 6只\r\n                listX = 2;\r\n                listY = 3;\r\n                break;\r\n        }\r\n\r\n        if (info.fishLineup == 0) {\r\n            for (let i = 0; i < info.fishCount; i++) {\r\n                setTimeout(() => {\r\n                    if (this.fishPb) {\r\n                        let fish = cc.instantiate(this.fishPb[type]);\r\n\r\n                        fish.parent = this.fishBg;\r\n                        fish.zIndex = info.fishType;\r\n\r\n                        fish.getComponent(\"Fish\").pathArr = pathArr;\r\n                        fish.getComponent(\"Fish\").pathIndex = 0;\r\n                        fish.getComponent(\"Fish\").fishInfo = info;\r\n                        fish.getComponent(\"Fish\").fishId = info.fishId[i];\r\n                        fish.getComponent(\"Fish\").fishType = type;\r\n                        fish.getComponent(\"Fish\").offset = cc.v2(offsetX, offsetY);\r\n                        fish.position = cc.v2(pathArr[0][0], pathArr[0][1]);\r\n\r\n                        fish.getComponent('Fish').executeMove();\r\n                    }\r\n                }, i * 800);\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < info.fishCount; i++) {\r\n                let fish = cc.instantiate(this.fishPb[type]);\r\n\r\n                offsetX = (Math.floor(i / listY) - (listX - 1) / 2) * fish.width;\r\n                offsetY = (i % listY - (listY - 1) / 2) * fish.height;\r\n\r\n                fish.parent = this.fishBg;\r\n                fish.zIndex = info.fishType;\r\n\r\n                fish.getComponent(\"Fish\").pathArr = pathArr;\r\n                fish.getComponent(\"Fish\").pathIndex = 0;\r\n                fish.getComponent(\"Fish\").fishInfo = info;\r\n                fish.getComponent(\"Fish\").fishId = info.fishId[i];\r\n                fish.getComponent(\"Fish\").fishType = type;\r\n                fish.getComponent(\"Fish\").offset = cc.v2(offsetX, offsetY);\r\n                fish.position = cc.v2(pathArr[0][0] + offsetX, pathArr[0][1] + offsetY);\r\n\r\n                fish.getComponent('Fish').executeMove();\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    getFishById(fid) {\r\n        for (const fishNode of this.fishBg.children) {\r\n            let fish = fishNode.getComponent(\"Fish\");\r\n            if (fish.fishId == fid) {\r\n                if (fishNode.x >= -667 && fishNode.x <= 667 && fishNode.y >= -375 && fishNode.y <= 375) {\r\n                    return fishNode;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    checkFishId(fid) {\r\n        return cc.isValid(this.getFishById(fid));\r\n    },\r\n\r\n    onFishHit(info) {\r\n        // fishId\r\n        // hitScore\r\n        // propCount\r\n        // propId\r\n        // userId\r\n        let target = null;\r\n        let fishes = this.fishBg.children;\r\n        for (let i in fishes) {\r\n            let fishNode = fishes[i];\r\n            let fish = fishNode.getComponent(\"Fish\");\r\n            if (fish.fishId == info.fishId) {\r\n                target = fishNode;\r\n                break;\r\n            }\r\n        }\r\n        if (target == null) return;\r\n        //如果选中的鱼被打死，就清空选中容器\r\n        if (target == this.targetFish) {\r\n            this.targetFish = null;\r\n        }\r\n\r\n        let targetSeat = this.getSeatByUser(info.userId);\r\n\r\n        if (target.getComponent(\"Fish\").fishType == 24 ||\r\n            target.getComponent(\"Fish\").fishType == 25) {\r\n            // fishId,fishIdList,sendId\r\n\r\n            let fish = null;\r\n            let fishidlist = [];\r\n            for (const chlid of this.fishBg.children) {\r\n                fish = chlid.getComponent(\"Fish\");\r\n                fishidlist.push(fish.fishId);\r\n            }\r\n            console.log(\"击中鱼列表：\", fishidlist);\r\n            this.fishNet.fishSocket.emit('boomFishHit', JSON.stringify({\r\n                fishId: info.fishId,\r\n                fishIdList: fishidlist,\r\n            }));\r\n        }\r\n\r\n        let isSelf = false;\r\n        if (this.pInfo.playerId == info.userId) {\r\n            isSelf = true;\r\n        }\r\n        if (info.propId == 2) {\r\n            this.addDiamondAnim(targetSeat, info.propValue, target.position, isSelf);\r\n        } else {\r\n            this.addCoinAnime(targetSeat, info.hitSocre * this.roomBet, target.position, target.getComponent(\"Fish\").fishInfo, isSelf, true);\r\n        }\r\n        target.parent = null;\r\n        target.destroy();\r\n    },\r\n\r\n    onBoomFishHit(info) {\r\n        // info:{userId:_userId,hitSocre:score,fishList:outfishList}}\r\n        console.log(\"击中炸弹事件：\", info);\r\n        let fishNode = null;\r\n        let isSelf = false;\r\n        let targetSeat = this.getSeatByUser(info.userId);\r\n        if (this.pInfo.playerId == info.userId) {\r\n            isSelf = true;\r\n        }\r\n        for (const key in info.fishList) {\r\n            let fishId = info.fishList[key];\r\n            fishNode = this.getFishById(fishId);\r\n            if (cc.isValid(fishNode)) {\r\n                if (key == 0) {\r\n                    this.addCoinAnime(targetSeat, info.hitSocre * this.roomBet, fishNode.position, fishNode.getComponent(\"Fish\").fishType, isSelf, true);\r\n                } else {\r\n                    this.addCoinAnime(targetSeat, info.hitSocre * this.roomBet, fishNode.position, fishNode.getComponent(\"Fish\").fishType, isSelf, false);\r\n                }\r\n                fishNode.parent = null;\r\n                fishNode.destroy();\r\n            }\r\n        }\r\n    },\r\n\r\n    addCoinAnime(targetSeat, score, position, fishType, isSelf, isAddScore) {\r\n        this.cannonList[targetSeat].check_pan(fishType, score);\r\n\r\n        //console.log(\"score++ \"+score);\r\n        var coinbg = cc.find('Canvas/GameNode/coinbg');\r\n\r\n        var coinpb = null;\r\n        var coinnum = 0;\r\n        if (score >= 100) {\r\n            coinpb = this.coinPb[0];\r\n            coinnum = parseInt(score / 100);\r\n        } else if (score >= 10) {\r\n            coinpb = this.coinPb[1];\r\n            coinnum = parseInt(score / 10);\r\n        } else {\r\n            coinpb = this.coinPb[2];\r\n            coinnum = Math.ceil(score);\r\n        }\r\n        if (coinnum > 6) coinnum = 6;\r\n        for (var i = 0; i < coinnum; i++) {\r\n            var coin = cc.instantiate(coinpb);\r\n            coin.parent = coinbg;\r\n            coin.position = position;\r\n\r\n            coin.runAction(cc.sequence(cc.delayTime(0.3 * (i + 1)),\r\n                cc.moveBy(0.4, 0, 65),\r\n                cc.moveTo(0.5, this.cannonList[targetSeat].node.position),\r\n                cc.removeSelf()));\r\n\r\n        }\r\n\r\n        if (isSelf) {\r\n            var s = parseInt(Math.random() * 19);\r\n            playEffect('die_' + s);\r\n            playEffect('collect_2');\r\n\r\n            var label = cc.instantiate(this.label_pb);\r\n            label.opacity = 0;\r\n            label.position = position;\r\n            label.getComponent(cc.Label).string = \"+\" + Helper.fixNum(score);\r\n            label.parent = coinbg;\r\n            label.zIndex = 200;\r\n            var t1 = 0.4;\r\n            var s1 = 80;\r\n            var t2 = 0.6\r\n            label.runAction(cc.sequence(\r\n                cc.spawn(cc.fadeIn(t1), cc.moveBy(t1, cc.v2(0, t1 * s1))),\r\n                cc.moveBy(t2, cc.v2(0, t2 * s1)),\r\n                cc.spawn(cc.fadeOut(t1), cc.moveBy(t1, cc.v2(0, t1 * s1))),\r\n                cc.removeSelf()));\r\n        }\r\n        //分数增加\r\n        if (isAddScore) {\r\n            this.node.runAction(cc.sequence(cc.delayTime(0.3 * (coinnum + 1)),\r\n                cc.callFunc(function () {\r\n                    this.cannonList[targetSeat].addscore(score);\r\n                }, this)));\r\n        }\r\n\r\n    },\r\n    //增加钻石\r\n    addDiamondAnim(targetSeat, dia, position, isSelf) {\r\n        var coinbg = cc.find('Canvas/GameNode/coinbg');\r\n\r\n        var diapb = this.diamondPb;\r\n        var dianum = dia;\r\n\r\n        for (var i = 0; i < dianum; i++) {\r\n            var coin = cc.instantiate(diapb);\r\n            coin.parent = coinbg;\r\n            coin.position = position;\r\n\r\n            coin.runAction(cc.sequence(cc.delayTime(0.1 * (i + 1)),\r\n                cc.moveBy(0.4, 0, 65),\r\n                cc.moveTo(0.5, this.cannonList[targetSeat].node.position),\r\n                cc.removeSelf()));\r\n\r\n        }\r\n\r\n        if (isSelf) {\r\n            var s = parseInt(Math.random() * 19);\r\n            playEffect('die_' + s);\r\n            playEffect('collect_2');\r\n\r\n            var label = cc.instantiate(this.label_pb2);\r\n            label.opacity = 0;\r\n            label.position = position;\r\n            label.getComponent(cc.Label).string = \"+\" + dia;\r\n            label.parent = coinbg;\r\n            label.zIndex = 200;\r\n            var t1 = 0.4;\r\n            var s1 = 80;\r\n            var t2 = 0.6\r\n            label.runAction(cc.sequence(\r\n                cc.spawn(cc.fadeIn(t1), cc.moveBy(t1, cc.v2(0, t1 * s1))),\r\n                cc.moveBy(t2, cc.v2(0, t2 * s1)),\r\n                cc.spawn(cc.fadeOut(t1), cc.moveBy(t1, cc.v2(0, t1 * s1))),\r\n                cc.removeSelf()));\r\n        }\r\n        //钻石增加\r\n        this.node.runAction(cc.sequence(cc.delayTime(0.1 * (dianum + 1)),\r\n            cc.callFunc(function () {\r\n                this.cannonList[targetSeat].addDiamond(dia);\r\n            }, this)));\r\n\r\n    },\r\n\r\n    bullet_change(num) {\r\n        var index = this.power_list.indexOf(this.bulletPower);\r\n        index += num;\r\n        if (index < 0 || index >= this.power_list.length) return;\r\n        this.bulletPower = this.power_list[index];\r\n\r\n        this.fishNet.fishSocket.emit('changePower', JSON.stringify({\r\n            userid: this.pInfo.playerId,\r\n            bet: this.bulletPower,\r\n        }));\r\n    },\r\n\r\n\r\n    changePower(info) {\r\n        for (var i in this.playerList) {\r\n            if (this.playerList && this.playerList[i].uid == info.userid) {\r\n                this.cannonList[i].betLbl.string = Helper.fixNum(info.bet * this.roomBet);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    cast_skill(sid) {\r\n        if (sid == 1) {\r\n            if (this.skillCD[0] > 0 || this.pInfo.playerCoin < this.skillCost[0]) {\r\n                return;\r\n            }\r\n            let info = { uid: this.pInfo.playerId, sid: sid };\r\n\r\n            //this.cast_skill_r(info);            \r\n            this.fishNet.fishSocket.emit('useSKill', JSON.stringify(info));\r\n        }\r\n        // 锁定开关\r\n        if (sid == 2) {\r\n            this.isLockFish = !this.isLockFish;\r\n            if (this.isLockFish) {\r\n                this.getBigFishId();\r\n                this.effect_lockFish.active = true;\r\n                this.lab_lockFish.string = \"解除锁定\";\r\n            } else {\r\n                this.effect_lockFish.active = false;\r\n                this.lab_lockFish.string = \"锁定\";\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    cast_skill_r(info) {\r\n        var seatId = this.getSeatByUser(info.uid);\r\n        if (seatId < 0) return;\r\n\r\n        if (info.sid == 1) {\r\n            this.skillTime[0] = this.skillMaxTime[0];\r\n            this.skillCD[0] = this.skillMaxCD[0];\r\n            this.effect_frozen.active = true;\r\n            for (var i in this.fishBg.children) {\r\n                var fish = this.fishBg.children[i];\r\n                fish.pauseAllActions();\r\n            }\r\n        }\r\n\r\n        // if (info.uid == this.pInfo.playerId)\r\n        // {\r\n        //     else if (info.sid == 2)\r\n        //     {\r\n        //         this.skillCD[1]  = this.skillMaxCD[1];\r\n        //         this.skillTime[1] = this.skillMaxTime[1];\r\n        //         this.schedule(this.shoot, 0.2, cc.macro.REPEAT_FOREVER, 0.01);\r\n        //     }\r\n        // }\r\n\r\n        // if (info.sid == 2){\r\n        //     this.cannonList[seatId].autoTime = this.skillMaxTime[1];\r\n        // }\r\n    },\r\n\r\n    // isAiming(){\r\n    //     return this.skillTime[1]>0;\r\n    // },\r\n\r\n    update(dt) {\r\n        for (var i in this.skillTime) {\r\n            if (this.skillTime[i] > 0) {\r\n                this.skillTime[i]--;\r\n            }\r\n            if (this.skillCD[i] > 0) {\r\n                this.skillCD[i]--;\r\n            }\r\n\r\n            var node;\r\n            if (i == 0) {\r\n                node = cc.find('Canvas/UI/b/s1/cd');\r\n            } else if (i == 1) {\r\n                node = cc.find('Canvas/UI/b/s2/cd');\r\n            }\r\n\r\n            node.getComponent(cc.ProgressBar).progress = this.skillCD[i] / this.skillMaxCD[i];\r\n        }\r\n\r\n        if (this.skillTime[0] == 1) {\r\n            for (var i in this.fishBg.children) {\r\n                var fish = this.fishBg.children[i];\r\n                fish.resumeAllActions();\r\n            }\r\n            this.effect_frozen.active = false;\r\n        }\r\n        // if (this.skillTime[1] == 1)\r\n        // {\r\n        //     if (this.isAutoShot) {\r\n        //         this.schedule(this.shoot, 0.3, cc.macro.REPEAT_FOREVER, 0.01);\r\n        //     }else{\r\n        //         this.unschedule(this.shoot);\r\n        //     }\r\n        // }\r\n\r\n        // var aura = false;\r\n        // for (var i in this.cannonList)\r\n        // {\r\n        //     if (this.cannonList[i].autoTime && this.cannonList[i].autoTime>0){\r\n        //         aura = true;\r\n        //     }\r\n        // }\r\n\r\n        var node = cc.find(\"Canvas/GameNode/aurabg/aura\");\r\n        if (this.isLockFish) {\r\n            var fish = this.getBigFish();\r\n            if (cc.isValid(fish)) {\r\n                node.active = true;\r\n                node.position = fish.position;\r\n                node.scale = fish.height * 0.75 / 249;\r\n            } else {\r\n                node.active = false;\r\n            }\r\n        } else {\r\n            node.active = false;\r\n        }\r\n\r\n    },\r\n\r\n    getBigFishId() {\r\n        let fishNode = this.getBigFish();\r\n        if (!cc.isValid(fishNode)) return -1;\r\n        return fishNode.getComponent(\"Fish\").fishId;\r\n    },\r\n    getBigFish() {\r\n        if (cc.isValid(this.targetFish)) {\r\n            return this.targetFish;\r\n        }\r\n        var bigfishNode = null;\r\n        for (var i in this.fishBg.children) {\r\n            var fishNode = this.fishBg.children[i];\r\n            var fish = fishNode.getComponent(\"Fish\");\r\n            if (fishNode.x < -667 || fishNode.x > 667 || fishNode.y < -375 || fishNode.y > 375 || fish.fishType < this.bigFishType) {\r\n                continue;\r\n            }\r\n            if (bigfishNode == null || fish.fishType > bigfishNode.getComponent(\"Fish\").fishType) {\r\n                bigfishNode = fishNode;\r\n            }\r\n        }\r\n        return bigfishNode;\r\n    },\r\n\r\n    setAutoShot(isAuto) {\r\n        this.isAutoShot = isAuto;\r\n        //if (this.skillTime[1]>0) return;\r\n        if (isAuto) {\r\n            this.schedule(this.shoot, 0.3, cc.macro.REPEAT_FOREVER, 0.01);\r\n        } else {\r\n            this.unschedule(this.shoot);\r\n        }\r\n    },\r\n\r\n    setMusic() {\r\n        if (this.pInfo.musicControl) {\r\n            this.pInfo.musicControl = 0;\r\n            this.musicToggle.isChecked = false;\r\n            cc.audioEngine.stopAll();\r\n        } else {\r\n            this.pInfo.musicControl = 1;\r\n            this.musicToggle.isChecked = true;\r\n            playBGM('bg_0');\r\n        }\r\n        this.writeUserSettingDate_Function();\r\n    },\r\n\r\n    setSound() {\r\n        if (this.pInfo.soundEffectControl) {\r\n            this.pInfo.soundEffectControl = 0;\r\n            this.soundToggle.isChecked = false;\r\n        } else {\r\n            this.pInfo.soundEffectControl = 1;\r\n            this.soundToggle.isChecked = true;\r\n        }\r\n        this.writeUserSettingDate_Function();\r\n    },\r\n    /**\r\n     * 将设置数据写入缓存数据\r\n     */\r\n    writeUserSettingDate_Function: function () {\r\n        var data = {\r\n            musicControl: this.pInfo.musicControl,\r\n            soundEffectControl: this.pInfo.soundEffectControl\r\n        };\r\n        this.pInfo.writeData_Function(\"userSetting\", data);\r\n    },\r\n});"]}