{"version":3,"sources":["assets\\Script\\libs\\socket-io.js"],"names":["CC_JSB","cc","sys","isNative","f","exports","module","define","amd","g","window","global","self","io","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","_dereq_","parser","transports","Emitter","debug","index","parseuri","parsejson","parseqs","Socket","noop","uri","opts","hostname","host","secure","protocol","port","query","location","agent","decode","upgrade","path","replace","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","readyState","writeBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","undefined","freeGlobal","extraHeaders","Object","keys","open","priorWebsocketSuccess","prototype","Transport","createTransport","name","clone","EIO","transport","id","sid","socket","obj","hasOwnProperty","indexOf","setTimeout","emit","shift","setTransport","removeAllListeners","on","onDrain","packet","onPacket","onError","onClose","probe","failed","onTransportOpen","upgradeLosesBinary","supportsBinary","send","type","data","once","msg","upgrading","pause","cleanup","flush","err","freezeTransport","close","onerror","error","onTransportClose","onclose","onupgrade","to","removeListener","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","timeout","clearTimeout","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","splice","prevBufferLen","writable","write","options","fn","compress","push","waitForUpgrade","cleanupAndClose","reason","desc","filteredUpgrades","j","description","doOpen","doClose","packets","onData","decodePacket","XMLHttpRequest","XHR","JSONP","websocket","polling","xhr","xd","xs","isSSL","xdomain","xscheme","Polling","inherit","JSONPPolling","rNewline","rEscapedNewline","callbacks","empty","___eio","document","addEventListener","script","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","navigator","test","userAgent","doWrite","area","iframeId","className","style","position","top","left","target","method","setAttribute","action","complete","initIframe","html","value","submit","attachEvent","onreadystatechange","onload","Request","request","isBinary","req","sendXhr","pollXhr","create","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","onLoad","responseText","status","requestsCount","requests","onSuccess","fromError","abort","contentType","getResponseHeader","split","response","String","fromCharCode","apply","Uint8Array","ui8Arr","dataArray","idx","XDomainRequest","unloadHandler","yeast","hasXHR2","poll","onPause","pending","total","callback","decodePayload","callbackfn","encodePayload","schema","b64","encode","ipv6","BrowserWebSocket","WebSocket","MozWebSocket","WS","check","protocols","headers","ws","supports","binary","addEventListeners","onopen","onmessage","ev","encodePacket","len","Buffer","byteLength","done","hasCORS","ActiveXObject","after","count","err_cb","bail","proxy","result","arraybuffer","start","end","bytes","slice","ArrayBuffer","abv","ii","buffer","chars","base64","substring","bufferLength","p","encoded1","encoded2","encoded3","encoded4","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","Blob","size","blobSupportsArrayBufferView","b","blobBuilderSupported","append","getBlob","mapArrayBufferViews","ary","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobConstructor","mixin","event","_callbacks","off","arguments","removeEventListener","cb","args","listeners","hasListeners","constructor","log","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","documentElement","console","firebug","exception","table","toLowerCase","match","parseInt","RegExp","$1","formatters","v","JSON","stringify","namespace","humanize","diff","c","color","concat","Array","lastC","Function","namespaces","removeItem","enable","localStorage","coerce","disable","enabled","names","skips","prevColor","prevTime","selectColor","disabled","curr","Date","ms","prev","format","formatter","val","logFn","bind","substr","stack","message","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","dontSendBlobs","pong","packetslist","utf8encode","encodeArrayBuffer","encodeBlob","encodeBase64Object","encoded","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","blob","readAsDataURL","b64data","typed","basic","btoa","utf8decode","charAt","decodeBase64Packet","Number","asArray","rest","encodePayloadAsBlob","encodePayloadAsArrayBuffer","setLengthHeader","encodeOne","doneCallback","map","results","join","each","next","eachWithIndex","el","decodePayloadAsBinary","chr","ret","encodedPackets","totalLength","reduce","acc","toString","resultArray","bufferIndex","forEach","isString","ab","view","charCodeAt","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","arr","has","isArray","_hasBinary","isBuffer","File","toJSON","m","h","d","y","parse","long","short","str","exec","parseFloat","Math","round","plural","floor","ceil","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","re","parts","source","authority","ipv6uri","root","freeExports","freeModule","stringFromCharCode","ucs2decode","string","output","counter","extra","ucs2encode","array","checkScalarValue","codePoint","toUpperCase","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp","nodeType","object","alphabet","seed","num","decoded","now","url","Manager","lookup","cache","managers","parsed","sameNamespace","nsps","newConnection","forceNew","multiplex","connect","eio","Backoff","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","min","max","jitter","connecting","lastPing","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","emitAll","nsp","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","errorSub","timer","destroy","onping","onpong","ondata","add","ondecoded","onConnecting","processPacketQueue","pack","sub","disconnect","reset","delay","duration","onreconnect","attempt","toArray","hasBin","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","subEvents","unshift","parserType","EVENT","BINARY_EVENT","flags","pop","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","loc","href","factor","pow","rand","random","deviation","isBuf","deconstructPacket","packetData","_deconstructPacket","placeholder","_placeholder","newData","attachments","reconstructPacket","curPlaceHolder","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","types","encodeAsBinary","encodeAsString","writeEncoding","deconstruction","reconstructor","decodeString","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","isLoader","objectTypes","runInContext","context","SyntaxError","TypeError","nativeJSON","objectProto","getClass","isProperty","undef","isExtended","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","isSupported","serialized","stringifySupported","parseSupported","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","property","members","__proto__","original","parent","Properties","valueOf","isFunction","hasProperty","isConstructor","Escapes","leadingZeroes","toPaddedString","width","unicodePrefix","quote","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","date","time","hours","minutes","seconds","milliseconds","element","prefix","filter","Unescapes","Index","Source","lex","begin","isSigned","get","hasMembers","update","walk","previousJSON","isRestored","JSON3","list"],"mappings":"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","sourceRoot":"/","sourcesContent":["if (!CC_JSB && !cc.sys.isNative) {\r\n\t(function (f) {\r\n\t\tif (typeof exports === \"object\" && typeof module !== \"undefined\") {\r\n\t\t\tmodule.exports = f()\r\n\t\t} else if (typeof define === \"function\" && define.amd) {\r\n\t\t\tdefine([], f)\r\n\t\t} else {\r\n\t\t\tvar g;\r\n\t\t\tif (typeof window !== \"undefined\") {\r\n\t\t\t\tg = window\r\n\t\t\t} else if (typeof global !== \"undefined\") {\r\n\t\t\t\tg = global\r\n\t\t\t} else if (typeof self !== \"undefined\") {\r\n\t\t\t\tg = self\r\n\t\t\t} else {\r\n\t\t\t\tg = this\r\n\t\t\t}\r\n\t\t\tg.io = f()\r\n\t\t}\r\n\t})(function () {\r\n\t\tvar define, module, exports;\r\n\t\treturn (function e(t, n, r) {\r\n\t\t\tfunction s(o, u) {\r\n\t\t\t\tif (!n[o]) {\r\n\t\t\t\t\tif (!t[o]) {\r\n\t\t\t\t\t\tvar a = typeof require == \"function\" && require;\r\n\t\t\t\t\t\tif (!u && a) return a(o, !0);\r\n\t\t\t\t\t\tif (i) return i(o, !0);\r\n\t\t\t\t\t\tvar f = new Error(\"Cannot find module '\" + o + \"'\");\r\n\t\t\t\t\t\tthrow f.code = \"MODULE_NOT_FOUND\", f\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar l = n[o] = {\r\n\t\t\t\t\t\texports: {}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tt[o][0].call(l.exports, function (e) {\r\n\t\t\t\t\t\tvar n = t[o][1][e];\r\n\t\t\t\t\t\treturn s(n ? n : e)\r\n\t\t\t\t\t}, l, l.exports, e, t, n, r)\r\n\t\t\t\t}\r\n\t\t\t\treturn n[o].exports\r\n\t\t\t}\r\n\t\t\tvar i = typeof require == \"function\" && require;\r\n\t\t\tfor (var o = 0; o < r.length; o++) s(r[o]);\r\n\t\t\treturn s\r\n\t\t})({\r\n\t\t\t1: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\tmodule.exports = _dereq_('./lib/');\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./lib/\": 2\r\n\t\t\t}],\r\n\t\t\t2: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\tmodule.exports = _dereq_('./socket');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Exports parser\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t *\r\n\t\t\t\t */\r\n\t\t\t\tmodule.exports.parser = _dereq_('engine.io-parser');\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./socket\": 3,\r\n\t\t\t\t\"engine.io-parser\": 19\r\n\t\t\t}],\r\n\t\t\t3: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module dependencies.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar transports = _dereq_('./transports');\r\n\t\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:socket');\r\n\t\t\t\t\tvar index = _dereq_('indexof');\r\n\t\t\t\t\tvar parser = _dereq_('engine.io-parser');\r\n\t\t\t\t\tvar parseuri = _dereq_('parseuri');\r\n\t\t\t\t\tvar parsejson = _dereq_('parsejson');\r\n\t\t\t\t\tvar parseqs = _dereq_('parseqs');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = Socket;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Noop function.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction noop() {}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Socket constructor.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String|Object} uri or options\r\n\t\t\t\t\t * @param {Object} options\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction Socket(uri, opts) {\r\n\t\t\t\t\t\tif (!(this instanceof Socket)) return new Socket(uri, opts);\r\n\r\n\t\t\t\t\t\topts = opts || {};\r\n\r\n\t\t\t\t\t\tif (uri && 'object' == typeof uri) {\r\n\t\t\t\t\t\t\topts = uri;\r\n\t\t\t\t\t\t\turi = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (uri) {\r\n\t\t\t\t\t\t\turi = parseuri(uri);\r\n\t\t\t\t\t\t\topts.hostname = uri.host;\r\n\t\t\t\t\t\t\topts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\r\n\t\t\t\t\t\t\topts.port = uri.port;\r\n\t\t\t\t\t\t\tif (uri.query) opts.query = uri.query;\r\n\t\t\t\t\t\t} else if (opts.host) {\r\n\t\t\t\t\t\t\topts.hostname = parseuri(opts.host).host;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.secure = null != opts.secure ? opts.secure :\r\n\t\t\t\t\t\t\t(global.location && 'https:' == location.protocol);\r\n\r\n\t\t\t\t\t\tif (opts.hostname && !opts.port) {\r\n\t\t\t\t\t\t\t// if no port is specified manually, use the protocol default\r\n\t\t\t\t\t\t\topts.port = this.secure ? '443' : '80';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.agent = opts.agent || false;\r\n\t\t\t\t\t\tthis.hostname = opts.hostname ||\r\n\t\t\t\t\t\t\t(global.location ? location.hostname : 'localhost');\r\n\t\t\t\t\t\tthis.port = opts.port || (global.location && location.port ?\r\n\t\t\t\t\t\t\tlocation.port :\r\n\t\t\t\t\t\t\t(this.secure ? 443 : 80));\r\n\t\t\t\t\t\tthis.query = opts.query || {};\r\n\t\t\t\t\t\tif ('string' == typeof this.query) this.query = parseqs.decode(this.query);\r\n\t\t\t\t\t\tthis.upgrade = false !== opts.upgrade;\r\n\t\t\t\t\t\tthis.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\r\n\t\t\t\t\t\tthis.forceJSONP = !!opts.forceJSONP;\r\n\t\t\t\t\t\tthis.jsonp = false !== opts.jsonp;\r\n\t\t\t\t\t\tthis.forceBase64 = !!opts.forceBase64;\r\n\t\t\t\t\t\tthis.enablesXDR = !!opts.enablesXDR;\r\n\t\t\t\t\t\tthis.timestampParam = opts.timestampParam || 't';\r\n\t\t\t\t\t\tthis.timestampRequests = opts.timestampRequests;\r\n\t\t\t\t\t\tthis.transports = opts.transports || ['polling', 'websocket'];\r\n\t\t\t\t\t\tthis.readyState = '';\r\n\t\t\t\t\t\tthis.writeBuffer = [];\r\n\t\t\t\t\t\tthis.policyPort = opts.policyPort || 843;\r\n\t\t\t\t\t\tthis.rememberUpgrade = opts.rememberUpgrade || false;\r\n\t\t\t\t\t\tthis.binaryType = null;\r\n\t\t\t\t\t\tthis.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\r\n\t\t\t\t\t\tthis.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\r\n\r\n\t\t\t\t\t\tif (true === this.perMessageDeflate) this.perMessageDeflate = {};\r\n\t\t\t\t\t\tif (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\r\n\t\t\t\t\t\t\tthis.perMessageDeflate.threshold = 1024;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\t\tthis.pfx = opts.pfx || null;\r\n\t\t\t\t\t\tthis.key = opts.key || null;\r\n\t\t\t\t\t\tthis.passphrase = opts.passphrase || null;\r\n\t\t\t\t\t\tthis.cert = opts.cert || null;\r\n\t\t\t\t\t\tthis.ca = opts.ca || null;\r\n\t\t\t\t\t\tthis.ciphers = opts.ciphers || null;\r\n\t\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\r\n\r\n\t\t\t\t\t\t// other options for Node.js client\r\n\t\t\t\t\t\tvar freeGlobal = typeof global == 'object' && global;\r\n\t\t\t\t\t\tif (freeGlobal.global === freeGlobal) {\r\n\t\t\t\t\t\t\tif (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\r\n\t\t\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSocket.priorWebsocketSuccess = false;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Mix in `Emitter`.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tEmitter(Socket.prototype);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Protocol version.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.protocol = parser.protocol; // this is an int\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Expose deps for legacy compatibility\r\n\t\t\t\t\t * and standalone browser access.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.Socket = Socket;\r\n\t\t\t\t\tSocket.Transport = _dereq_('./transport');\r\n\t\t\t\t\tSocket.transports = _dereq_('./transports');\r\n\t\t\t\t\tSocket.parser = _dereq_('engine.io-parser');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Creates transport of the given type.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} transport name\r\n\t\t\t\t\t * @return {Transport}\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.createTransport = function (name) {\r\n\t\t\t\t\t\tdebug('creating transport \"%s\"', name);\r\n\t\t\t\t\t\tvar query = clone(this.query);\r\n\r\n\t\t\t\t\t\t// append engine.io protocol identifier\r\n\t\t\t\t\t\tquery.EIO = parser.protocol;\r\n\r\n\t\t\t\t\t\t// transport name\r\n\t\t\t\t\t\tquery.transport = name;\r\n\r\n\t\t\t\t\t\t// session id if we already have one\r\n\t\t\t\t\t\tif (this.id) query.sid = this.id;\r\n\r\n\t\t\t\t\t\tvar transport = new transports[name]({\r\n\t\t\t\t\t\t\tagent: this.agent,\r\n\t\t\t\t\t\t\thostname: this.hostname,\r\n\t\t\t\t\t\t\tport: this.port,\r\n\t\t\t\t\t\t\tsecure: this.secure,\r\n\t\t\t\t\t\t\tpath: this.path,\r\n\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\tforceJSONP: this.forceJSONP,\r\n\t\t\t\t\t\t\tjsonp: this.jsonp,\r\n\t\t\t\t\t\t\tforceBase64: this.forceBase64,\r\n\t\t\t\t\t\t\tenablesXDR: this.enablesXDR,\r\n\t\t\t\t\t\t\ttimestampRequests: this.timestampRequests,\r\n\t\t\t\t\t\t\ttimestampParam: this.timestampParam,\r\n\t\t\t\t\t\t\tpolicyPort: this.policyPort,\r\n\t\t\t\t\t\t\tsocket: this,\r\n\t\t\t\t\t\t\tpfx: this.pfx,\r\n\t\t\t\t\t\t\tkey: this.key,\r\n\t\t\t\t\t\t\tpassphrase: this.passphrase,\r\n\t\t\t\t\t\t\tcert: this.cert,\r\n\t\t\t\t\t\t\tca: this.ca,\r\n\t\t\t\t\t\t\tciphers: this.ciphers,\r\n\t\t\t\t\t\t\trejectUnauthorized: this.rejectUnauthorized,\r\n\t\t\t\t\t\t\tperMessageDeflate: this.perMessageDeflate,\r\n\t\t\t\t\t\t\textraHeaders: this.extraHeaders\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn transport;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tfunction clone(obj) {\r\n\t\t\t\t\t\tvar o = {};\r\n\t\t\t\t\t\tfor (var i in obj) {\r\n\t\t\t\t\t\t\tif (obj.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\to[i] = obj[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn o;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Initializes transport to use and starts probe.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\t\t\t\t\tSocket.prototype.open = function () {\r\n\t\t\t\t\t\tvar transport;\r\n\t\t\t\t\t\tif (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\r\n\t\t\t\t\t\t\ttransport = 'websocket';\r\n\t\t\t\t\t\t} else if (0 === this.transports.length) {\r\n\t\t\t\t\t\t\t// Emit error on next tick so it can be listened to\r\n\t\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tself.emit('error', 'No transports available');\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttransport = this.transports[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.readyState = 'opening';\r\n\r\n\t\t\t\t\t\t// Retry with the next transport if the transport is disabled (jsonp: false)\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\ttransport = this.createTransport(transport);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tthis.transports.shift();\r\n\t\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttransport.open();\r\n\t\t\t\t\t\tthis.setTransport(transport);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sets the current transport. Disables the existing one (if any).\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.setTransport = function (transport) {\r\n\t\t\t\t\t\tdebug('setting transport %s', transport.name);\r\n\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\tif (this.transport) {\r\n\t\t\t\t\t\t\tdebug('clearing existing transport %s', this.transport.name);\r\n\t\t\t\t\t\t\tthis.transport.removeAllListeners();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// set up transport\r\n\t\t\t\t\t\tthis.transport = transport;\r\n\r\n\t\t\t\t\t\t// set up transport listeners\r\n\t\t\t\t\t\ttransport\r\n\t\t\t\t\t\t\t.on('drain', function () {\r\n\t\t\t\t\t\t\t\tself.onDrain();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.on('packet', function (packet) {\r\n\t\t\t\t\t\t\t\tself.onPacket(packet);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.on('error', function (e) {\r\n\t\t\t\t\t\t\t\tself.onError(e);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.on('close', function () {\r\n\t\t\t\t\t\t\t\tself.onClose('transport close');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Probes a transport.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} transport name\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.probe = function (name) {\r\n\t\t\t\t\t\tdebug('probing transport \"%s\"', name);\r\n\t\t\t\t\t\tvar transport = this.createTransport(name, {\r\n\t\t\t\t\t\t\t\tprobe: 1\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tfailed = false,\r\n\t\t\t\t\t\t\tself = this;\r\n\r\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = false;\r\n\r\n\t\t\t\t\t\tfunction onTransportOpen() {\r\n\t\t\t\t\t\t\tif (self.onlyBinaryUpgrades) {\r\n\t\t\t\t\t\t\t\tvar upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\r\n\t\t\t\t\t\t\t\tfailed = failed || upgradeLosesBinary;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (failed) return;\r\n\r\n\t\t\t\t\t\t\tdebug('probe transport \"%s\" opened', name);\r\n\t\t\t\t\t\t\ttransport.send([{\r\n\t\t\t\t\t\t\t\ttype: 'ping',\r\n\t\t\t\t\t\t\t\tdata: 'probe'\r\n\t\t\t\t\t\t\t}]);\r\n\t\t\t\t\t\t\ttransport.once('packet', function (msg) {\r\n\t\t\t\t\t\t\t\tif (failed) return;\r\n\t\t\t\t\t\t\t\tif ('pong' == msg.type && 'probe' == msg.data) {\r\n\t\t\t\t\t\t\t\t\tdebug('probe transport \"%s\" pong', name);\r\n\t\t\t\t\t\t\t\t\tself.upgrading = true;\r\n\t\t\t\t\t\t\t\t\tself.emit('upgrading', transport);\r\n\t\t\t\t\t\t\t\t\tif (!transport) return;\r\n\t\t\t\t\t\t\t\t\tSocket.priorWebsocketSuccess = 'websocket' == transport.name;\r\n\r\n\t\t\t\t\t\t\t\t\tdebug('pausing current transport \"%s\"', self.transport.name);\r\n\t\t\t\t\t\t\t\t\tself.transport.pause(function () {\r\n\t\t\t\t\t\t\t\t\t\tif (failed) return;\r\n\t\t\t\t\t\t\t\t\t\tif ('closed' == self.readyState) return;\r\n\t\t\t\t\t\t\t\t\t\tdebug('changing transport and sending upgrade packet');\r\n\r\n\t\t\t\t\t\t\t\t\t\tcleanup();\r\n\r\n\t\t\t\t\t\t\t\t\t\tself.setTransport(transport);\r\n\t\t\t\t\t\t\t\t\t\ttransport.send([{\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'upgrade'\r\n\t\t\t\t\t\t\t\t\t\t}]);\r\n\t\t\t\t\t\t\t\t\t\tself.emit('upgrade', transport);\r\n\t\t\t\t\t\t\t\t\t\ttransport = null;\r\n\t\t\t\t\t\t\t\t\t\tself.upgrading = false;\r\n\t\t\t\t\t\t\t\t\t\tself.flush();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdebug('probe transport \"%s\" failed', name);\r\n\t\t\t\t\t\t\t\t\tvar err = new Error('probe error');\r\n\t\t\t\t\t\t\t\t\terr.transport = transport.name;\r\n\t\t\t\t\t\t\t\t\tself.emit('upgradeError', err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction freezeTransport() {\r\n\t\t\t\t\t\t\tif (failed) return;\r\n\r\n\t\t\t\t\t\t\t// Any callback called by transport should be ignored since now\r\n\t\t\t\t\t\t\tfailed = true;\r\n\r\n\t\t\t\t\t\t\tcleanup();\r\n\r\n\t\t\t\t\t\t\ttransport.close();\r\n\t\t\t\t\t\t\ttransport = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//Handle any error that happens while probing\r\n\t\t\t\t\t\tfunction onerror(err) {\r\n\t\t\t\t\t\t\tvar error = new Error('probe error: ' + err);\r\n\t\t\t\t\t\t\terror.transport = transport.name;\r\n\r\n\t\t\t\t\t\t\tfreezeTransport();\r\n\r\n\t\t\t\t\t\t\tdebug('probe transport \"%s\" failed because of error: %s', name, err);\r\n\r\n\t\t\t\t\t\t\tself.emit('upgradeError', error);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction onTransportClose() {\r\n\t\t\t\t\t\t\tonerror(\"transport closed\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//When the socket is closed while we're probing\r\n\t\t\t\t\t\tfunction onclose() {\r\n\t\t\t\t\t\t\tonerror(\"socket closed\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//When the socket is upgraded while we're probing\r\n\t\t\t\t\t\tfunction onupgrade(to) {\r\n\t\t\t\t\t\t\tif (transport && to.name != transport.name) {\r\n\t\t\t\t\t\t\t\tdebug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\r\n\t\t\t\t\t\t\t\tfreezeTransport();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//Remove all listeners on the transport and on self\r\n\t\t\t\t\t\tfunction cleanup() {\r\n\t\t\t\t\t\t\ttransport.removeListener('open', onTransportOpen);\r\n\t\t\t\t\t\t\ttransport.removeListener('error', onerror);\r\n\t\t\t\t\t\t\ttransport.removeListener('close', onTransportClose);\r\n\t\t\t\t\t\t\tself.removeListener('close', onclose);\r\n\t\t\t\t\t\t\tself.removeListener('upgrading', onupgrade);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttransport.once('open', onTransportOpen);\r\n\t\t\t\t\t\ttransport.once('error', onerror);\r\n\t\t\t\t\t\ttransport.once('close', onTransportClose);\r\n\r\n\t\t\t\t\t\tthis.once('close', onclose);\r\n\t\t\t\t\t\tthis.once('upgrading', onupgrade);\r\n\r\n\t\t\t\t\t\ttransport.open();\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called when connection is deemed open.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onOpen = function () {\r\n\t\t\t\t\t\tdebug('socket open');\r\n\t\t\t\t\t\tthis.readyState = 'open';\r\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = 'websocket' == this.transport.name;\r\n\t\t\t\t\t\tthis.emit('open');\r\n\t\t\t\t\t\tthis.flush();\r\n\r\n\t\t\t\t\t\t// we check for `readyState` in case an `open`\r\n\t\t\t\t\t\t// listener already closed the socket\r\n\t\t\t\t\t\tif ('open' == this.readyState && this.upgrade && this.transport.pause) {\r\n\t\t\t\t\t\t\tdebug('starting upgrade probes');\r\n\t\t\t\t\t\t\tfor (var i = 0, l = this.upgrades.length; i < l; i++) {\r\n\t\t\t\t\t\t\t\tthis.probe(this.upgrades[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Handles a packet.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onPacket = function (packet) {\r\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\r\n\t\t\t\t\t\t\tdebug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\r\n\r\n\t\t\t\t\t\t\tthis.emit('packet', packet);\r\n\r\n\t\t\t\t\t\t\t// Socket is live - any packet counts\r\n\t\t\t\t\t\t\tthis.emit('heartbeat');\r\n\r\n\t\t\t\t\t\t\tswitch (packet.type) {\r\n\t\t\t\t\t\t\t\tcase 'open':\r\n\t\t\t\t\t\t\t\t\tthis.onHandshake(parsejson(packet.data));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'pong':\r\n\t\t\t\t\t\t\t\t\tthis.setPing();\r\n\t\t\t\t\t\t\t\t\tthis.emit('pong');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'error':\r\n\t\t\t\t\t\t\t\t\tvar err = new Error('server error');\r\n\t\t\t\t\t\t\t\t\terr.code = packet.data;\r\n\t\t\t\t\t\t\t\t\tthis.onError(err);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\t\t\t\tthis.emit('data', packet.data);\r\n\t\t\t\t\t\t\t\t\tthis.emit('message', packet.data);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdebug('packet received with socket readyState \"%s\"', this.readyState);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon handshake completion.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} handshake obj\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onHandshake = function (data) {\r\n\t\t\t\t\t\tthis.emit('handshake', data);\r\n\t\t\t\t\t\tthis.id = data.sid;\r\n\t\t\t\t\t\tthis.transport.query.sid = data.sid;\r\n\t\t\t\t\t\tthis.upgrades = this.filterUpgrades(data.upgrades);\r\n\t\t\t\t\t\tthis.pingInterval = data.pingInterval;\r\n\t\t\t\t\t\tthis.pingTimeout = data.pingTimeout;\r\n\t\t\t\t\t\tthis.onOpen();\r\n\t\t\t\t\t\t// In case open handler closes socket\r\n\t\t\t\t\t\tif ('closed' == this.readyState) return;\r\n\t\t\t\t\t\tthis.setPing();\r\n\r\n\t\t\t\t\t\t// Prolong liveness of socket on heartbeat\r\n\t\t\t\t\t\tthis.removeListener('heartbeat', this.onHeartbeat);\r\n\t\t\t\t\t\tthis.on('heartbeat', this.onHeartbeat);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Resets ping timeout.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onHeartbeat = function (timeout) {\r\n\t\t\t\t\t\tclearTimeout(this.pingTimeoutTimer);\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tself.pingTimeoutTimer = setTimeout(function () {\r\n\t\t\t\t\t\t\tif ('closed' == self.readyState) return;\r\n\t\t\t\t\t\t\tself.onClose('ping timeout');\r\n\t\t\t\t\t\t}, timeout || (self.pingInterval + self.pingTimeout));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Pings server every `this.pingInterval` and expects response\r\n\t\t\t\t\t * within `this.pingTimeout` or closes connection.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.setPing = function () {\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tclearTimeout(self.pingIntervalTimer);\r\n\t\t\t\t\t\tself.pingIntervalTimer = setTimeout(function () {\r\n\t\t\t\t\t\t\tdebug('writing ping packet - expecting pong within %sms', self.pingTimeout);\r\n\t\t\t\t\t\t\tself.ping();\r\n\t\t\t\t\t\t\tself.onHeartbeat(self.pingTimeout);\r\n\t\t\t\t\t\t}, self.pingInterval);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sends a ping packet.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.ping = function () {\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tthis.sendPacket('ping', function () {\r\n\t\t\t\t\t\t\tself.emit('ping');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called on `drain` event\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onDrain = function () {\r\n\t\t\t\t\t\tthis.writeBuffer.splice(0, this.prevBufferLen);\r\n\r\n\t\t\t\t\t\t// setting prevBufferLen = 0 is very important\r\n\t\t\t\t\t\t// for example, when upgrading, upgrade packet is sent over,\r\n\t\t\t\t\t\t// and a nonzero prevBufferLen could cause problems on `drain`\r\n\t\t\t\t\t\tthis.prevBufferLen = 0;\r\n\r\n\t\t\t\t\t\tif (0 === this.writeBuffer.length) {\r\n\t\t\t\t\t\t\tthis.emit('drain');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.flush();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Flush write buffers.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.flush = function () {\r\n\t\t\t\t\t\tif ('closed' != this.readyState && this.transport.writable &&\r\n\t\t\t\t\t\t\t!this.upgrading && this.writeBuffer.length) {\r\n\t\t\t\t\t\t\tdebug('flushing %d packets in socket', this.writeBuffer.length);\r\n\t\t\t\t\t\t\tthis.transport.send(this.writeBuffer);\r\n\t\t\t\t\t\t\t// keep track of current length of writeBuffer\r\n\t\t\t\t\t\t\t// splice writeBuffer and callbackBuffer on `drain`\r\n\t\t\t\t\t\t\tthis.prevBufferLen = this.writeBuffer.length;\r\n\t\t\t\t\t\t\tthis.emit('flush');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sends a message.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} message.\r\n\t\t\t\t\t * @param {Function} callback function.\r\n\t\t\t\t\t * @param {Object} options.\r\n\t\t\t\t\t * @return {Socket} for chaining.\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.write =\r\n\t\t\t\t\t\tSocket.prototype.send = function (msg, options, fn) {\r\n\t\t\t\t\t\t\tthis.sendPacket('message', msg, options, fn);\r\n\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sends a packet.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} packet type.\r\n\t\t\t\t\t * @param {String} data.\r\n\t\t\t\t\t * @param {Object} options.\r\n\t\t\t\t\t * @param {Function} callback function.\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.sendPacket = function (type, data, options, fn) {\r\n\t\t\t\t\t\tif ('function' == typeof data) {\r\n\t\t\t\t\t\t\tfn = data;\r\n\t\t\t\t\t\t\tdata = undefined;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ('function' == typeof options) {\r\n\t\t\t\t\t\t\tfn = options;\r\n\t\t\t\t\t\t\toptions = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ('closing' == this.readyState || 'closed' == this.readyState) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toptions = options || {};\r\n\t\t\t\t\t\toptions.compress = false !== options.compress;\r\n\r\n\t\t\t\t\t\tvar packet = {\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\toptions: options\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.emit('packetCreate', packet);\r\n\t\t\t\t\t\tthis.writeBuffer.push(packet);\r\n\t\t\t\t\t\tif (fn) this.once('flush', fn);\r\n\t\t\t\t\t\tthis.flush();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Closes the connection.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.close = function () {\r\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\r\n\t\t\t\t\t\t\tthis.readyState = 'closing';\r\n\r\n\t\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\t\tif (this.writeBuffer.length) {\r\n\t\t\t\t\t\t\t\tthis.once('drain', function () {\r\n\t\t\t\t\t\t\t\t\tif (this.upgrading) {\r\n\t\t\t\t\t\t\t\t\t\twaitForUpgrade();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tclose();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else if (this.upgrading) {\r\n\t\t\t\t\t\t\t\twaitForUpgrade();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tclose();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction close() {\r\n\t\t\t\t\t\t\tself.onClose('forced close');\r\n\t\t\t\t\t\t\tdebug('socket closing - telling transport to close');\r\n\t\t\t\t\t\t\tself.transport.close();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction cleanupAndClose() {\r\n\t\t\t\t\t\t\tself.removeListener('upgrade', cleanupAndClose);\r\n\t\t\t\t\t\t\tself.removeListener('upgradeError', cleanupAndClose);\r\n\t\t\t\t\t\t\tclose();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction waitForUpgrade() {\r\n\t\t\t\t\t\t\t// wait for upgrade to finish since we can't send packets while pausing a transport\r\n\t\t\t\t\t\t\tself.once('upgrade', cleanupAndClose);\r\n\t\t\t\t\t\t\tself.once('upgradeError', cleanupAndClose);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon transport error\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onError = function (err) {\r\n\t\t\t\t\t\tdebug('socket error %j', err);\r\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = false;\r\n\t\t\t\t\t\tthis.emit('error', err);\r\n\t\t\t\t\t\tthis.onClose('transport error', err);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon transport close.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.onClose = function (reason, desc) {\r\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\r\n\t\t\t\t\t\t\tdebug('socket close with reason: \"%s\"', reason);\r\n\t\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\t\t// clear timers\r\n\t\t\t\t\t\t\tclearTimeout(this.pingIntervalTimer);\r\n\t\t\t\t\t\t\tclearTimeout(this.pingTimeoutTimer);\r\n\r\n\t\t\t\t\t\t\t// stop event from firing again for transport\r\n\t\t\t\t\t\t\tthis.transport.removeAllListeners('close');\r\n\r\n\t\t\t\t\t\t\t// ensure transport won't stay open\r\n\t\t\t\t\t\t\tthis.transport.close();\r\n\r\n\t\t\t\t\t\t\t// ignore further transport communication\r\n\t\t\t\t\t\t\tthis.transport.removeAllListeners();\r\n\r\n\t\t\t\t\t\t\t// set ready state\r\n\t\t\t\t\t\t\tthis.readyState = 'closed';\r\n\r\n\t\t\t\t\t\t\t// clear session id\r\n\t\t\t\t\t\t\tthis.id = null;\r\n\r\n\t\t\t\t\t\t\t// emit close event\r\n\t\t\t\t\t\t\tthis.emit('close', reason, desc);\r\n\r\n\t\t\t\t\t\t\t// clean buffers after, so users can still\r\n\t\t\t\t\t\t\t// grab the buffers on `close` event\r\n\t\t\t\t\t\t\tself.writeBuffer = [];\r\n\t\t\t\t\t\t\tself.prevBufferLen = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Filters upgrades, returning only those matching client transports.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Array} server upgrades\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t *\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tSocket.prototype.filterUpgrades = function (upgrades) {\r\n\t\t\t\t\t\tvar filteredUpgrades = [];\r\n\t\t\t\t\t\tfor (var i = 0, j = upgrades.length; i < j; i++) {\r\n\t\t\t\t\t\t\tif (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn filteredUpgrades;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./transport\": 4,\r\n\t\t\t\t\"./transports\": 5,\r\n\t\t\t\t\"component-emitter\": 15,\r\n\t\t\t\t\"debug\": 17,\r\n\t\t\t\t\"engine.io-parser\": 19,\r\n\t\t\t\t\"indexof\": 23,\r\n\t\t\t\t\"parsejson\": 26,\r\n\t\t\t\t\"parseqs\": 27,\r\n\t\t\t\t\"parseuri\": 28\r\n\t\t\t}],\r\n\t\t\t4: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar parser = _dereq_('engine.io-parser');\r\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Transport;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Transport abstract constructor.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} options.\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Transport(opts) {\r\n\t\t\t\t\tthis.path = opts.path;\r\n\t\t\t\t\tthis.hostname = opts.hostname;\r\n\t\t\t\t\tthis.port = opts.port;\r\n\t\t\t\t\tthis.secure = opts.secure;\r\n\t\t\t\t\tthis.query = opts.query;\r\n\t\t\t\t\tthis.timestampParam = opts.timestampParam;\r\n\t\t\t\t\tthis.timestampRequests = opts.timestampRequests;\r\n\t\t\t\t\tthis.readyState = '';\r\n\t\t\t\t\tthis.agent = opts.agent || false;\r\n\t\t\t\t\tthis.socket = opts.socket;\r\n\t\t\t\t\tthis.enablesXDR = opts.enablesXDR;\r\n\r\n\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\tthis.pfx = opts.pfx;\r\n\t\t\t\t\tthis.key = opts.key;\r\n\t\t\t\t\tthis.passphrase = opts.passphrase;\r\n\t\t\t\t\tthis.cert = opts.cert;\r\n\t\t\t\t\tthis.ca = opts.ca;\r\n\t\t\t\t\tthis.ciphers = opts.ciphers;\r\n\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized;\r\n\r\n\t\t\t\t\t// other options for Node.js client\r\n\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mix in `Emitter`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter(Transport.prototype);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Emits an error.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} str\r\n\t\t\t\t * @return {Transport} for chaining\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.onError = function (msg, desc) {\r\n\t\t\t\t\tvar err = new Error(msg);\r\n\t\t\t\t\terr.type = 'TransportError';\r\n\t\t\t\t\terr.description = desc;\r\n\t\t\t\t\tthis.emit('error', err);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Opens the transport.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.open = function () {\r\n\t\t\t\t\tif ('closed' == this.readyState || '' == this.readyState) {\r\n\t\t\t\t\t\tthis.readyState = 'opening';\r\n\t\t\t\t\t\tthis.doOpen();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Closes the transport.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.close = function () {\r\n\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\r\n\t\t\t\t\t\tthis.doClose();\r\n\t\t\t\t\t\tthis.onClose();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sends multiple packets.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Array} packets\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.send = function (packets) {\r\n\t\t\t\t\tif ('open' == this.readyState) {\r\n\t\t\t\t\t\tthis.write(packets);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error('Transport not open');\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon open\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.onOpen = function () {\r\n\t\t\t\t\tthis.readyState = 'open';\r\n\t\t\t\t\tthis.writable = true;\r\n\t\t\t\t\tthis.emit('open');\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called with data.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} data\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.onData = function (data) {\r\n\t\t\t\t\tvar packet = parser.decodePacket(data, this.socket.binaryType);\r\n\t\t\t\t\tthis.onPacket(packet);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called with a decoded packet.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.onPacket = function (packet) {\r\n\t\t\t\t\tthis.emit('packet', packet);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon close.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tTransport.prototype.onClose = function () {\r\n\t\t\t\t\tthis.readyState = 'closed';\r\n\t\t\t\t\tthis.emit('close');\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"component-emitter\": 15,\r\n\t\t\t\t\"engine.io-parser\": 19\r\n\t\t\t}],\r\n\t\t\t5: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module dependencies\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\r\n\t\t\t\t\tvar XHR = _dereq_('./polling-xhr');\r\n\t\t\t\t\tvar JSONP = _dereq_('./polling-jsonp');\r\n\t\t\t\t\tvar websocket = _dereq_('./websocket');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Export transports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.polling = polling;\r\n\t\t\t\t\texports.websocket = websocket;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Polling transport polymorphic constructor.\r\n\t\t\t\t\t * Decides on xhr vs jsonp based on feature detection.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction polling(opts) {\r\n\t\t\t\t\t\tvar xhr;\r\n\t\t\t\t\t\tvar xd = false;\r\n\t\t\t\t\t\tvar xs = false;\r\n\t\t\t\t\t\tvar jsonp = false !== opts.jsonp;\r\n\r\n\t\t\t\t\t\tif (global.location) {\r\n\t\t\t\t\t\t\tvar isSSL = 'https:' == location.protocol;\r\n\t\t\t\t\t\t\tvar port = location.port;\r\n\r\n\t\t\t\t\t\t\t// some user agents have empty `location.port`\r\n\t\t\t\t\t\t\tif (!port) {\r\n\t\t\t\t\t\t\t\tport = isSSL ? 443 : 80;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\txd = opts.hostname != location.hostname || port != opts.port;\r\n\t\t\t\t\t\t\txs = opts.secure != isSSL;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\topts.xdomain = xd;\r\n\t\t\t\t\t\topts.xscheme = xs;\r\n\t\t\t\t\t\txhr = new XMLHttpRequest(opts);\r\n\r\n\t\t\t\t\t\tif ('open' in xhr && !opts.forceJSONP) {\r\n\t\t\t\t\t\t\treturn new XHR(opts);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!jsonp) throw new Error('JSONP disabled');\r\n\t\t\t\t\t\t\treturn new JSONP(opts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./polling-jsonp\": 6,\r\n\t\t\t\t\"./polling-xhr\": 7,\r\n\t\t\t\t\"./websocket\": 9,\r\n\t\t\t\t\"xmlhttprequest-ssl\": 10\r\n\t\t\t}],\r\n\t\t\t6: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module requirements.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar Polling = _dereq_('./polling');\r\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = JSONPPolling;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Cached regular expressions.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar rNewline = /\\n/g;\r\n\t\t\t\t\tvar rEscapedNewline = /\\\\n/g;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Global JSONP callbacks.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar callbacks;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Callbacks count.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar index = 0;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Noop.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction empty() {}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * JSONP Polling constructor.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} opts.\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction JSONPPolling(opts) {\r\n\t\t\t\t\t\tPolling.call(this, opts);\r\n\r\n\t\t\t\t\t\tthis.query = this.query || {};\r\n\r\n\t\t\t\t\t\t// define global callbacks array if not present\r\n\t\t\t\t\t\t// we do this here (lazily) to avoid unneeded global pollution\r\n\t\t\t\t\t\tif (!callbacks) {\r\n\t\t\t\t\t\t\t// we need to consider multiple engines in the same page\r\n\t\t\t\t\t\t\tif (!global.___eio) global.___eio = [];\r\n\t\t\t\t\t\t\tcallbacks = global.___eio;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// callback identifier\r\n\t\t\t\t\t\tthis.index = callbacks.length;\r\n\r\n\t\t\t\t\t\t// add callback to jsonp global\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tcallbacks.push(function (msg) {\r\n\t\t\t\t\t\t\tself.onData(msg);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// append to query string\r\n\t\t\t\t\t\tthis.query.j = this.index;\r\n\r\n\t\t\t\t\t\t// prevent spurious errors from being emitted when the window is unloaded\r\n\t\t\t\t\t\tif (global.document && global.addEventListener) {\r\n\t\t\t\t\t\t\tglobal.addEventListener('beforeunload', function () {\r\n\t\t\t\t\t\t\t\tif (self.script) self.script.onerror = empty;\r\n\t\t\t\t\t\t\t}, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Inherits from Polling.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tinherit(JSONPPolling, Polling);\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * JSONP only supports binary as base64 encoded strings\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tJSONPPolling.prototype.supportsBinary = false;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Closes the socket.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tJSONPPolling.prototype.doClose = function () {\r\n\t\t\t\t\t\tif (this.script) {\r\n\t\t\t\t\t\t\tthis.script.parentNode.removeChild(this.script);\r\n\t\t\t\t\t\t\tthis.script = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.form) {\r\n\t\t\t\t\t\t\tthis.form.parentNode.removeChild(this.form);\r\n\t\t\t\t\t\t\tthis.form = null;\r\n\t\t\t\t\t\t\tthis.iframe = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPolling.prototype.doClose.call(this);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Starts a poll cycle.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tJSONPPolling.prototype.doPoll = function () {\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tvar script = document.createElement('script');\r\n\r\n\t\t\t\t\t\tif (this.script) {\r\n\t\t\t\t\t\t\tthis.script.parentNode.removeChild(this.script);\r\n\t\t\t\t\t\t\tthis.script = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tscript.async = true;\r\n\t\t\t\t\t\tscript.src = this.uri();\r\n\t\t\t\t\t\tscript.onerror = function (e) {\r\n\t\t\t\t\t\t\tself.onError('jsonp poll error', e);\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tvar insertAt = document.getElementsByTagName('script')[0];\r\n\t\t\t\t\t\tif (insertAt) {\r\n\t\t\t\t\t\t\tinsertAt.parentNode.insertBefore(script, insertAt);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t(document.head || document.body).appendChild(script);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.script = script;\r\n\r\n\t\t\t\t\t\tvar isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\r\n\r\n\t\t\t\t\t\tif (isUAgecko) {\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tvar iframe = document.createElement('iframe');\r\n\t\t\t\t\t\t\t\tdocument.body.appendChild(iframe);\r\n\t\t\t\t\t\t\t\tdocument.body.removeChild(iframe);\r\n\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Writes with a hidden iframe.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} data to send\r\n\t\t\t\t\t * @param {Function} called upon flush.\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tJSONPPolling.prototype.doWrite = function (data, fn) {\r\n\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\tif (!this.form) {\r\n\t\t\t\t\t\t\tvar form = document.createElement('form');\r\n\t\t\t\t\t\t\tvar area = document.createElement('textarea');\r\n\t\t\t\t\t\t\tvar id = this.iframeId = 'eio_iframe_' + this.index;\r\n\t\t\t\t\t\t\tvar iframe;\r\n\r\n\t\t\t\t\t\t\tform.className = 'socketio';\r\n\t\t\t\t\t\t\tform.style.position = 'absolute';\r\n\t\t\t\t\t\t\tform.style.top = '-1000px';\r\n\t\t\t\t\t\t\tform.style.left = '-1000px';\r\n\t\t\t\t\t\t\tform.target = id;\r\n\t\t\t\t\t\t\tform.method = 'POST';\r\n\t\t\t\t\t\t\tform.setAttribute('accept-charset', 'utf-8');\r\n\t\t\t\t\t\t\tarea.name = 'd';\r\n\t\t\t\t\t\t\tform.appendChild(area);\r\n\t\t\t\t\t\t\tdocument.body.appendChild(form);\r\n\r\n\t\t\t\t\t\t\tthis.form = form;\r\n\t\t\t\t\t\t\tthis.area = area;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.form.action = this.uri();\r\n\r\n\t\t\t\t\t\tfunction complete() {\r\n\t\t\t\t\t\t\tinitIframe();\r\n\t\t\t\t\t\t\tfn();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction initIframe() {\r\n\t\t\t\t\t\t\tif (self.iframe) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tself.form.removeChild(self.iframe);\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\tself.onError('jsonp polling iframe removal error', e);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\r\n\t\t\t\t\t\t\t\tvar html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\r\n\t\t\t\t\t\t\t\tiframe = document.createElement(html);\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tiframe = document.createElement('iframe');\r\n\t\t\t\t\t\t\t\tiframe.name = self.iframeId;\r\n\t\t\t\t\t\t\t\tiframe.src = 'javascript:0';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tiframe.id = self.iframeId;\r\n\r\n\t\t\t\t\t\t\tself.form.appendChild(iframe);\r\n\t\t\t\t\t\t\tself.iframe = iframe;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinitIframe();\r\n\r\n\t\t\t\t\t\t// escape \\n to prevent it from being converted into \\r\\n by some UAs\r\n\t\t\t\t\t\t// double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\r\n\t\t\t\t\t\tdata = data.replace(rEscapedNewline, '\\\\\\n');\r\n\t\t\t\t\t\tthis.area.value = data.replace(rNewline, '\\\\n');\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tthis.form.submit();\r\n\t\t\t\t\t\t} catch (e) {}\r\n\r\n\t\t\t\t\t\tif (this.iframe.attachEvent) {\r\n\t\t\t\t\t\t\tthis.iframe.onreadystatechange = function () {\r\n\t\t\t\t\t\t\t\tif (self.iframe.readyState == 'complete') {\r\n\t\t\t\t\t\t\t\t\tcomplete();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.iframe.onload = complete;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./polling\": 8,\r\n\t\t\t\t\"component-inherit\": 16\r\n\t\t\t}],\r\n\t\t\t7: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module requirements.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\r\n\t\t\t\t\tvar Polling = _dereq_('./polling');\r\n\t\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\r\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = XHR;\r\n\t\t\t\t\tmodule.exports.Request = Request;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Empty function\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction empty() {}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * XHR Polling constructor.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} opts\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction XHR(opts) {\r\n\t\t\t\t\t\tPolling.call(this, opts);\r\n\r\n\t\t\t\t\t\tif (global.location) {\r\n\t\t\t\t\t\t\tvar isSSL = 'https:' == location.protocol;\r\n\t\t\t\t\t\t\tvar port = location.port;\r\n\r\n\t\t\t\t\t\t\t// some user agents have empty `location.port`\r\n\t\t\t\t\t\t\tif (!port) {\r\n\t\t\t\t\t\t\t\tport = isSSL ? 443 : 80;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.xd = opts.hostname != global.location.hostname ||\r\n\t\t\t\t\t\t\t\tport != opts.port;\r\n\t\t\t\t\t\t\tthis.xs = opts.secure != isSSL;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Inherits from Polling.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tinherit(XHR, Polling);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * XHR supports binary\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tXHR.prototype.supportsBinary = true;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Creates a request.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} method\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tXHR.prototype.request = function (opts) {\r\n\t\t\t\t\t\topts = opts || {};\r\n\t\t\t\t\t\topts.uri = this.uri();\r\n\t\t\t\t\t\topts.xd = this.xd;\r\n\t\t\t\t\t\topts.xs = this.xs;\r\n\t\t\t\t\t\topts.agent = this.agent || false;\r\n\t\t\t\t\t\topts.supportsBinary = this.supportsBinary;\r\n\t\t\t\t\t\topts.enablesXDR = this.enablesXDR;\r\n\r\n\t\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\t\topts.pfx = this.pfx;\r\n\t\t\t\t\t\topts.key = this.key;\r\n\t\t\t\t\t\topts.passphrase = this.passphrase;\r\n\t\t\t\t\t\topts.cert = this.cert;\r\n\t\t\t\t\t\topts.ca = this.ca;\r\n\t\t\t\t\t\topts.ciphers = this.ciphers;\r\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\r\n\r\n\t\t\t\t\t\t// other options for Node.js client\r\n\t\t\t\t\t\topts.extraHeaders = this.extraHeaders;\r\n\r\n\t\t\t\t\t\treturn new Request(opts);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sends data.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} data to send.\r\n\t\t\t\t\t * @param {Function} called upon flush.\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tXHR.prototype.doWrite = function (data, fn) {\r\n\t\t\t\t\t\tvar isBinary = typeof data !== 'string' && data !== undefined;\r\n\t\t\t\t\t\tvar req = this.request({\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tisBinary: isBinary\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\treq.on('success', fn);\r\n\t\t\t\t\t\treq.on('error', function (err) {\r\n\t\t\t\t\t\t\tself.onError('xhr post error', err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.sendXhr = req;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Starts a poll cycle.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tXHR.prototype.doPoll = function () {\r\n\t\t\t\t\t\tdebug('xhr poll');\r\n\t\t\t\t\t\tvar req = this.request();\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\treq.on('data', function (data) {\r\n\t\t\t\t\t\t\tself.onData(data);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treq.on('error', function (err) {\r\n\t\t\t\t\t\t\tself.onError('xhr poll error', err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.pollXhr = req;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Request constructor\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} options\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction Request(opts) {\r\n\t\t\t\t\t\tthis.method = opts.method || 'GET';\r\n\t\t\t\t\t\tthis.uri = opts.uri;\r\n\t\t\t\t\t\tthis.xd = !!opts.xd;\r\n\t\t\t\t\t\tthis.xs = !!opts.xs;\r\n\t\t\t\t\t\tthis.async = false !== opts.async;\r\n\t\t\t\t\t\tthis.data = undefined != opts.data ? opts.data : null;\r\n\t\t\t\t\t\tthis.agent = opts.agent;\r\n\t\t\t\t\t\tthis.isBinary = opts.isBinary;\r\n\t\t\t\t\t\tthis.supportsBinary = opts.supportsBinary;\r\n\t\t\t\t\t\tthis.enablesXDR = opts.enablesXDR;\r\n\r\n\t\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\t\tthis.pfx = opts.pfx;\r\n\t\t\t\t\t\tthis.key = opts.key;\r\n\t\t\t\t\t\tthis.passphrase = opts.passphrase;\r\n\t\t\t\t\t\tthis.cert = opts.cert;\r\n\t\t\t\t\t\tthis.ca = opts.ca;\r\n\t\t\t\t\t\tthis.ciphers = opts.ciphers;\r\n\t\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized;\r\n\r\n\t\t\t\t\t\t// other options for Node.js client\r\n\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\r\n\r\n\t\t\t\t\t\tthis.create();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Mix in `Emitter`.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tEmitter(Request.prototype);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Creates the XHR object and sends the request.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.create = function () {\r\n\t\t\t\t\t\tvar opts = {\r\n\t\t\t\t\t\t\tagent: this.agent,\r\n\t\t\t\t\t\t\txdomain: this.xd,\r\n\t\t\t\t\t\t\txscheme: this.xs,\r\n\t\t\t\t\t\t\tenablesXDR: this.enablesXDR\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\t\topts.pfx = this.pfx;\r\n\t\t\t\t\t\topts.key = this.key;\r\n\t\t\t\t\t\topts.passphrase = this.passphrase;\r\n\t\t\t\t\t\topts.cert = this.cert;\r\n\t\t\t\t\t\topts.ca = this.ca;\r\n\t\t\t\t\t\topts.ciphers = this.ciphers;\r\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\r\n\r\n\t\t\t\t\t\tvar xhr = this.xhr = new XMLHttpRequest(opts);\r\n\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdebug('xhr open %s: %s', this.method, this.uri);\r\n\t\t\t\t\t\t\txhr.open(this.method, this.uri, this.async);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif (this.extraHeaders) {\r\n\t\t\t\t\t\t\t\t\txhr.setDisableHeaderCheck(true);\r\n\t\t\t\t\t\t\t\t\tfor (var i in this.extraHeaders) {\r\n\t\t\t\t\t\t\t\t\t\tif (this.extraHeaders.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader(i, this.extraHeaders[i]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\tif (this.supportsBinary) {\r\n\t\t\t\t\t\t\t\t// This has to be done after open because Firefox is stupid\r\n\t\t\t\t\t\t\t\t// http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\r\n\t\t\t\t\t\t\t\txhr.responseType = 'arraybuffer';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ('POST' == this.method) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tif (this.isBinary) {\r\n\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader('Content-type', 'application/octet-stream');\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// ie6 check\r\n\t\t\t\t\t\t\tif ('withCredentials' in xhr) {\r\n\t\t\t\t\t\t\t\txhr.withCredentials = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (this.hasXDR()) {\r\n\t\t\t\t\t\t\t\txhr.onload = function () {\r\n\t\t\t\t\t\t\t\t\tself.onLoad();\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\txhr.onerror = function () {\r\n\t\t\t\t\t\t\t\t\tself.onError(xhr.responseText);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\txhr.onreadystatechange = function () {\r\n\t\t\t\t\t\t\t\t\tif (4 != xhr.readyState) return;\r\n\t\t\t\t\t\t\t\t\tif (200 == xhr.status || 1223 == xhr.status) {\r\n\t\t\t\t\t\t\t\t\t\tself.onLoad();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// make sure the `error` event handler that's user-set\r\n\t\t\t\t\t\t\t\t\t\t// does not throw in the same tick and gets caught here\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\t\tself.onError(xhr.status);\r\n\t\t\t\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdebug('xhr data %s', this.data);\r\n\t\t\t\t\t\t\txhr.send(this.data);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t// Need to defer since .create() is called directly fhrom the constructor\r\n\t\t\t\t\t\t\t// and thus the 'error' event can only be only bound *after* this exception\r\n\t\t\t\t\t\t\t// occurs.  Therefore, also, we cannot throw here at all.\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tself.onError(e);\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (global.document) {\r\n\t\t\t\t\t\t\tthis.index = Request.requestsCount++;\r\n\t\t\t\t\t\t\tRequest.requests[this.index] = this;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon successful response.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.onSuccess = function () {\r\n\t\t\t\t\t\tthis.emit('success');\r\n\t\t\t\t\t\tthis.cleanup();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called if we have data.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.onData = function (data) {\r\n\t\t\t\t\t\tthis.emit('data', data);\r\n\t\t\t\t\t\tthis.onSuccess();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon error.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.onError = function (err) {\r\n\t\t\t\t\t\tthis.emit('error', err);\r\n\t\t\t\t\t\tthis.cleanup(true);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Cleans up house.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.cleanup = function (fromError) {\r\n\t\t\t\t\t\tif ('undefined' == typeof this.xhr || null === this.xhr) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// xmlhttprequest\r\n\t\t\t\t\t\tif (this.hasXDR()) {\r\n\t\t\t\t\t\t\tthis.xhr.onload = this.xhr.onerror = empty;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.xhr.onreadystatechange = empty;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (fromError) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tthis.xhr.abort();\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (global.document) {\r\n\t\t\t\t\t\t\tdelete Request.requests[this.index];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.xhr = null;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon load.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.onLoad = function () {\r\n\t\t\t\t\t\tvar data;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar contentType;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tcontentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\tif (contentType === 'application/octet-stream') {\r\n\t\t\t\t\t\t\t\tdata = this.xhr.response;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (!this.supportsBinary) {\r\n\t\t\t\t\t\t\t\t\tdata = this.xhr.responseText;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tdata = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\r\n\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\tvar ui8Arr = new Uint8Array(this.xhr.response);\r\n\t\t\t\t\t\t\t\t\t\tvar dataArray = [];\r\n\t\t\t\t\t\t\t\t\t\tfor (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\r\n\t\t\t\t\t\t\t\t\t\t\tdataArray.push(ui8Arr[idx]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdata = String.fromCharCode.apply(null, dataArray);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tthis.onError(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (null != data) {\r\n\t\t\t\t\t\t\tthis.onData(data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if it has XDomainRequest.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.hasXDR = function () {\r\n\t\t\t\t\t\treturn 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Aborts the request.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tRequest.prototype.abort = function () {\r\n\t\t\t\t\t\tthis.cleanup();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Aborts pending requests when unloading the window. This is needed to prevent\r\n\t\t\t\t\t * memory leaks (e.g. when using IE) and to ensure that no spurious error is\r\n\t\t\t\t\t * emitted.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tif (global.document) {\r\n\t\t\t\t\t\tRequest.requestsCount = 0;\r\n\t\t\t\t\t\tRequest.requests = {};\r\n\t\t\t\t\t\tif (global.attachEvent) {\r\n\t\t\t\t\t\t\tglobal.attachEvent('onunload', unloadHandler);\r\n\t\t\t\t\t\t} else if (global.addEventListener) {\r\n\t\t\t\t\t\t\tglobal.addEventListener('beforeunload', unloadHandler, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction unloadHandler() {\r\n\t\t\t\t\t\tfor (var i in Request.requests) {\r\n\t\t\t\t\t\t\tif (Request.requests.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\tRequest.requests[i].abort();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./polling\": 8,\r\n\t\t\t\t\"component-emitter\": 15,\r\n\t\t\t\t\"component-inherit\": 16,\r\n\t\t\t\t\"debug\": 17,\r\n\t\t\t\t\"xmlhttprequest-ssl\": 10\r\n\t\t\t}],\r\n\t\t\t8: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar Transport = _dereq_('../transport');\r\n\t\t\t\tvar parseqs = _dereq_('parseqs');\r\n\t\t\t\tvar parser = _dereq_('engine.io-parser');\r\n\t\t\t\tvar inherit = _dereq_('component-inherit');\r\n\t\t\t\tvar yeast = _dereq_('yeast');\r\n\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:polling');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Polling;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Is XHR2 supported?\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar hasXHR2 = (function () {\r\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\r\n\t\t\t\t\tvar xhr = new XMLHttpRequest({\r\n\t\t\t\t\t\txdomain: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null != xhr.responseType;\r\n\t\t\t\t})();\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Polling interface.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} opts\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Polling(opts) {\r\n\t\t\t\t\tvar forceBase64 = (opts && opts.forceBase64);\r\n\t\t\t\t\tif (!hasXHR2 || forceBase64) {\r\n\t\t\t\t\t\tthis.supportsBinary = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTransport.call(this, opts);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Inherits from Transport.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tinherit(Polling, Transport);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Transport name.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.name = 'polling';\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Opens the socket (triggers polling). We write a PING message to determine\r\n\t\t\t\t * when the transport is open.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.doOpen = function () {\r\n\t\t\t\t\tthis.poll();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Pauses polling.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Function} callback upon buffers are flushed and transport is paused\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.pause = function (onPause) {\r\n\t\t\t\t\tvar pending = 0;\r\n\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\tthis.readyState = 'pausing';\r\n\r\n\t\t\t\t\tfunction pause() {\r\n\t\t\t\t\t\tdebug('paused');\r\n\t\t\t\t\t\tself.readyState = 'paused';\r\n\t\t\t\t\t\tonPause();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.polling || !this.writable) {\r\n\t\t\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\t\t\tif (this.polling) {\r\n\t\t\t\t\t\t\tdebug('we are currently polling - waiting to pause');\r\n\t\t\t\t\t\t\ttotal++;\r\n\t\t\t\t\t\t\tthis.once('pollComplete', function () {\r\n\t\t\t\t\t\t\t\tdebug('pre-pause polling complete');\r\n\t\t\t\t\t\t\t\t--total || pause();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!this.writable) {\r\n\t\t\t\t\t\t\tdebug('we are currently writing - waiting to pause');\r\n\t\t\t\t\t\t\ttotal++;\r\n\t\t\t\t\t\t\tthis.once('drain', function () {\r\n\t\t\t\t\t\t\t\tdebug('pre-pause writing complete');\r\n\t\t\t\t\t\t\t\t--total || pause();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpause();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Starts polling cycle.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.poll = function () {\r\n\t\t\t\t\tdebug('polling');\r\n\t\t\t\t\tthis.polling = true;\r\n\t\t\t\t\tthis.doPoll();\r\n\t\t\t\t\tthis.emit('poll');\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Overloads onData to detect payloads.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.onData = function (data) {\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tdebug('polling got data %s', data);\r\n\t\t\t\t\tvar callback = function (packet, index, total) {\r\n\t\t\t\t\t\t// if its the first message we consider the transport open\r\n\t\t\t\t\t\tif ('opening' == self.readyState) {\r\n\t\t\t\t\t\t\tself.onOpen();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// if its a close packet, we close the ongoing requests\r\n\t\t\t\t\t\tif ('close' == packet.type) {\r\n\t\t\t\t\t\t\tself.onClose();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// otherwise bypass onData and handle the message\r\n\t\t\t\t\t\tself.onPacket(packet);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// decode payload\r\n\t\t\t\t\tparser.decodePayload(data, this.socket.binaryType, callback);\r\n\r\n\t\t\t\t\t// if an event did not trigger closing\r\n\t\t\t\t\tif ('closed' != this.readyState) {\r\n\t\t\t\t\t\t// if we got data we're not polling\r\n\t\t\t\t\t\tthis.polling = false;\r\n\t\t\t\t\t\tthis.emit('pollComplete');\r\n\r\n\t\t\t\t\t\tif ('open' == this.readyState) {\r\n\t\t\t\t\t\t\tthis.poll();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdebug('ignoring poll - transport state \"%s\"', this.readyState);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * For polling, send a close packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.doClose = function () {\r\n\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\tfunction close() {\r\n\t\t\t\t\t\tdebug('writing close packet');\r\n\t\t\t\t\t\tself.write([{\r\n\t\t\t\t\t\t\ttype: 'close'\r\n\t\t\t\t\t\t}]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ('open' == this.readyState) {\r\n\t\t\t\t\t\tdebug('transport open - closing');\r\n\t\t\t\t\t\tclose();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// in case we're trying to close while\r\n\t\t\t\t\t\t// handshaking is in progress (GH-164)\r\n\t\t\t\t\t\tdebug('transport not open - deferring close');\r\n\t\t\t\t\t\tthis.once('open', close);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Writes a packets payload.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Array} data packets\r\n\t\t\t\t * @param {Function} drain callback\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.write = function (packets) {\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tthis.writable = false;\r\n\t\t\t\t\tvar callbackfn = function () {\r\n\t\t\t\t\t\tself.writable = true;\r\n\t\t\t\t\t\tself.emit('drain');\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tparser.encodePayload(packets, this.supportsBinary, function (data) {\r\n\t\t\t\t\t\tself.doWrite(data, callbackfn);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Generates uri for connection.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tPolling.prototype.uri = function () {\r\n\t\t\t\t\tvar query = this.query || {};\r\n\t\t\t\t\tvar schema = this.secure ? 'https' : 'http';\r\n\t\t\t\t\tvar port = '';\r\n\r\n\t\t\t\t\t// cache busting is forced\r\n\t\t\t\t\tif (false !== this.timestampRequests) {\r\n\t\t\t\t\t\tquery[this.timestampParam] = yeast();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!this.supportsBinary && !query.sid) {\r\n\t\t\t\t\t\tquery.b64 = 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tquery = parseqs.encode(query);\r\n\r\n\t\t\t\t\t// avoid port if default for schema\r\n\t\t\t\t\tif (this.port && (('https' == schema && this.port != 443) ||\r\n\t\t\t\t\t\t\t('http' == schema && this.port != 80))) {\r\n\t\t\t\t\t\tport = ':' + this.port;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// prepend ? to query\r\n\t\t\t\t\tif (query.length) {\r\n\t\t\t\t\t\tquery = '?' + query;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar ipv6 = this.hostname.indexOf(':') !== -1;\r\n\t\t\t\t\treturn schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"../transport\": 4,\r\n\t\t\t\t\"component-inherit\": 16,\r\n\t\t\t\t\"debug\": 17,\r\n\t\t\t\t\"engine.io-parser\": 19,\r\n\t\t\t\t\"parseqs\": 27,\r\n\t\t\t\t\"xmlhttprequest-ssl\": 10,\r\n\t\t\t\t\"yeast\": 30\r\n\t\t\t}],\r\n\t\t\t9: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module dependencies.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar Transport = _dereq_('../transport');\r\n\t\t\t\t\tvar parser = _dereq_('engine.io-parser');\r\n\t\t\t\t\tvar parseqs = _dereq_('parseqs');\r\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\r\n\t\t\t\t\tvar yeast = _dereq_('yeast');\r\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:websocket');\r\n\t\t\t\t\tvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Get either the `WebSocket` or `MozWebSocket` globals\r\n\t\t\t\t\t * in the browser or try to resolve WebSocket-compatible\r\n\t\t\t\t\t * interface exposed by `ws` for Node-like environment.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar WebSocket = BrowserWebSocket;\r\n\t\t\t\t\tif (!WebSocket && typeof window === 'undefined') {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tWebSocket = _dereq_('ws');\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = WS;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * WebSocket transport constructor.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api {Object} connection options\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction WS(opts) {\r\n\t\t\t\t\t\tvar forceBase64 = (opts && opts.forceBase64);\r\n\t\t\t\t\t\tif (forceBase64) {\r\n\t\t\t\t\t\t\tthis.supportsBinary = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.perMessageDeflate = opts.perMessageDeflate;\r\n\t\t\t\t\t\tTransport.call(this, opts);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Inherits from Transport.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tinherit(WS, Transport);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Transport name.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.name = 'websocket';\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * WebSockets support binary\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.supportsBinary = true;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Opens socket.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.doOpen = function () {\r\n\t\t\t\t\t\tif (!this.check()) {\r\n\t\t\t\t\t\t\t// let probe timeout\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tvar uri = this.uri();\r\n\t\t\t\t\t\tvar protocols = void(0);\r\n\t\t\t\t\t\tvar opts = {\r\n\t\t\t\t\t\t\tagent: this.agent,\r\n\t\t\t\t\t\t\tperMessageDeflate: this.perMessageDeflate\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// SSL options for Node.js client\r\n\t\t\t\t\t\topts.pfx = this.pfx;\r\n\t\t\t\t\t\topts.key = this.key;\r\n\t\t\t\t\t\topts.passphrase = this.passphrase;\r\n\t\t\t\t\t\topts.cert = this.cert;\r\n\t\t\t\t\t\topts.ca = this.ca;\r\n\t\t\t\t\t\topts.ciphers = this.ciphers;\r\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\r\n\t\t\t\t\t\tif (this.extraHeaders) {\r\n\t\t\t\t\t\t\topts.headers = this.extraHeaders;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\r\n\r\n\t\t\t\t\t\tif (this.ws.binaryType === undefined) {\r\n\t\t\t\t\t\t\tthis.supportsBinary = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.ws.supports && this.ws.supports.binary) {\r\n\t\t\t\t\t\t\tthis.supportsBinary = true;\r\n\t\t\t\t\t\t\tthis.ws.binaryType = 'buffer';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.ws.binaryType = 'arraybuffer';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.addEventListeners();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Adds event listeners to the socket\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.addEventListeners = function () {\r\n\t\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\t\tthis.ws.onopen = function () {\r\n\t\t\t\t\t\t\tself.onOpen();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.ws.onclose = function () {\r\n\t\t\t\t\t\t\tself.onClose();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.ws.onmessage = function (ev) {\r\n\t\t\t\t\t\t\tself.onData(ev.data);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.ws.onerror = function (e) {\r\n\t\t\t\t\t\t\tself.onError('websocket error', e);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Override `onData` to use a timer on iOS.\r\n\t\t\t\t\t * See: https://gist.github.com/mloughran/2052006\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tif ('undefined' != typeof navigator &&\r\n\t\t\t\t\t\t/iPad|iPhone|iPod/i.test(navigator.userAgent)) {\r\n\t\t\t\t\t\tWS.prototype.onData = function (data) {\r\n\t\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tTransport.prototype.onData.call(self, data);\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Writes data to socket.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Array} array of packets.\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.write = function (packets) {\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tthis.writable = false;\r\n\r\n\t\t\t\t\t\t// encodePacket efficient as it uses WS framing\r\n\t\t\t\t\t\t// no need for encodePayload\r\n\t\t\t\t\t\tvar total = packets.length;\r\n\t\t\t\t\t\tfor (var i = 0, l = total; i < l; i++) {\r\n\t\t\t\t\t\t\t(function (packet) {\r\n\t\t\t\t\t\t\t\tparser.encodePacket(packet, self.supportsBinary, function (data) {\r\n\t\t\t\t\t\t\t\t\tif (!BrowserWebSocket) {\r\n\t\t\t\t\t\t\t\t\t\t// always create a new object (GH-437)\r\n\t\t\t\t\t\t\t\t\t\tvar opts = {};\r\n\t\t\t\t\t\t\t\t\t\tif (packet.options) {\r\n\t\t\t\t\t\t\t\t\t\t\topts.compress = packet.options.compress;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (self.perMessageDeflate) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\r\n\t\t\t\t\t\t\t\t\t\t\tif (len < self.perMessageDeflate.threshold) {\r\n\t\t\t\t\t\t\t\t\t\t\t\topts.compress = false;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t//Sometimes the websocket has already been closed but the browser didn't\r\n\t\t\t\t\t\t\t\t\t//have a chance of informing us about it yet, in that case send will\r\n\t\t\t\t\t\t\t\t\t//throw an error\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tif (BrowserWebSocket) {\r\n\t\t\t\t\t\t\t\t\t\t\t// TypeError is thrown when passing the second argument on Safari\r\n\t\t\t\t\t\t\t\t\t\t\tself.ws.send(data);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tself.ws.send(data, opts);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\tdebug('websocket closed before onclose event');\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t--total || done();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})(packets[i]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction done() {\r\n\t\t\t\t\t\t\tself.emit('flush');\r\n\r\n\t\t\t\t\t\t\t// fake drain\r\n\t\t\t\t\t\t\t// defer to next tick to allow Socket to clear writeBuffer\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tself.writable = true;\r\n\t\t\t\t\t\t\t\tself.emit('drain');\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Called upon close\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.onClose = function () {\r\n\t\t\t\t\t\tTransport.prototype.onClose.call(this);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Closes socket.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.doClose = function () {\r\n\t\t\t\t\t\tif (typeof this.ws !== 'undefined') {\r\n\t\t\t\t\t\t\tthis.ws.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Generates uri for connection.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.uri = function () {\r\n\t\t\t\t\t\tvar query = this.query || {};\r\n\t\t\t\t\t\tvar schema = this.secure ? 'wss' : 'ws';\r\n\t\t\t\t\t\tvar port = '';\r\n\r\n\t\t\t\t\t\t// avoid port if default for schema\r\n\t\t\t\t\t\tif (this.port && (('wss' == schema && this.port != 443) ||\r\n\t\t\t\t\t\t\t\t('ws' == schema && this.port != 80))) {\r\n\t\t\t\t\t\t\tport = ':' + this.port;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// append timestamp to URI\r\n\t\t\t\t\t\tif (this.timestampRequests) {\r\n\t\t\t\t\t\t\tquery[this.timestampParam] = yeast();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// communicate binary support capabilities\r\n\t\t\t\t\t\tif (!this.supportsBinary) {\r\n\t\t\t\t\t\t\tquery.b64 = 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tquery = parseqs.encode(query);\r\n\r\n\t\t\t\t\t\t// prepend ? to query\r\n\t\t\t\t\t\tif (query.length) {\r\n\t\t\t\t\t\t\tquery = '?' + query;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar ipv6 = this.hostname.indexOf(':') !== -1;\r\n\t\t\t\t\t\treturn schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Feature detection for WebSocket.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @return {Boolean} whether this transport is available.\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tWS.prototype.check = function () {\r\n\t\t\t\t\t\treturn !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"../transport\": 4,\r\n\t\t\t\t\"component-inherit\": 16,\r\n\t\t\t\t\"debug\": 17,\r\n\t\t\t\t\"engine.io-parser\": 19,\r\n\t\t\t\t\"parseqs\": 27,\r\n\t\t\t\t\"ws\": undefined,\r\n\t\t\t\t\"yeast\": 30\r\n\t\t\t}],\r\n\t\t\t10: [function (_dereq_, module, exports) {\r\n\t\t\t\t// browser shim for xmlhttprequest module\r\n\t\t\t\tvar hasCORS = _dereq_('has-cors');\r\n\r\n\t\t\t\tmodule.exports = function (opts) {\r\n\t\t\t\t\tvar xdomain = opts.xdomain;\r\n\r\n\t\t\t\t\t// scheme must be same when usign XDomainRequest\r\n\t\t\t\t\t// http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\r\n\t\t\t\t\tvar xscheme = opts.xscheme;\r\n\r\n\t\t\t\t\t// XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\r\n\t\t\t\t\t// https://github.com/Automattic/engine.io-client/pull/217\r\n\t\t\t\t\tvar enablesXDR = opts.enablesXDR;\r\n\r\n\t\t\t\t\t// XMLHttpRequest can be disabled on IE\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\r\n\t\t\t\t\t\t\treturn new XMLHttpRequest();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {}\r\n\r\n\t\t\t\t\t// Use XDomainRequest for IE8 if enablesXDR is true\r\n\t\t\t\t\t// because loading bar keeps flashing when using jsonp-polling\r\n\t\t\t\t\t// https://github.com/yujiosaka/socke.io-ie8-loading-example\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\r\n\t\t\t\t\t\t\treturn new XDomainRequest();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {}\r\n\r\n\t\t\t\t\tif (!xdomain) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"has-cors\": 22\r\n\t\t\t}],\r\n\t\t\t11: [function (_dereq_, module, exports) {\r\n\t\t\t\tmodule.exports = after\r\n\r\n\t\t\t\tfunction after(count, callback, err_cb) {\r\n\t\t\t\t\tvar bail = false\r\n\t\t\t\t\terr_cb = err_cb || noop\r\n\t\t\t\t\tproxy.count = count\r\n\r\n\t\t\t\t\treturn (count === 0) ? callback() : proxy\r\n\r\n\t\t\t\t\tfunction proxy(err, result) {\r\n\t\t\t\t\t\tif (proxy.count <= 0) {\r\n\t\t\t\t\t\t\tthrow new Error('after called too many times')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t--proxy.count\r\n\r\n\t\t\t\t\t\t// after first error, rest are passed to err_cb\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\tbail = true\r\n\t\t\t\t\t\t\tcallback(err)\r\n\t\t\t\t\t\t\t// future error callbacks will go to error handler\r\n\t\t\t\t\t\t\tcallback = err_cb\r\n\t\t\t\t\t\t} else if (proxy.count === 0 && !bail) {\r\n\t\t\t\t\t\t\tcallback(null, result)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction noop() {}\r\n\r\n\t\t\t}, {}],\r\n\t\t\t12: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * An abstraction for slicing an arraybuffer even when\r\n\t\t\t\t * ArrayBuffer.prototype.slice is not supported\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = function (arraybuffer, start, end) {\r\n\t\t\t\t\tvar bytes = arraybuffer.byteLength;\r\n\t\t\t\t\tstart = start || 0;\r\n\t\t\t\t\tend = end || bytes;\r\n\r\n\t\t\t\t\tif (arraybuffer.slice) {\r\n\t\t\t\t\t\treturn arraybuffer.slice(start, end);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (start < 0) {\r\n\t\t\t\t\t\tstart += bytes;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (end < 0) {\r\n\t\t\t\t\t\tend += bytes;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (end > bytes) {\r\n\t\t\t\t\t\tend = bytes;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (start >= bytes || start >= end || bytes === 0) {\r\n\t\t\t\t\t\treturn new ArrayBuffer(0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar abv = new Uint8Array(arraybuffer);\r\n\t\t\t\t\tvar result = new Uint8Array(end - start);\r\n\t\t\t\t\tfor (var i = start, ii = 0; i < end; i++, ii++) {\r\n\t\t\t\t\t\tresult[ii] = abv[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result.buffer;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t13: [function (_dereq_, module, exports) {\r\n\t\t\t\t/*\r\n\t\t\t\t * base64-arraybuffer\r\n\t\t\t\t * https://github.com/niklasvh/base64-arraybuffer\r\n\t\t\t\t *\r\n\t\t\t\t * Copyright (c) 2012 Niklas von Hertzen\r\n\t\t\t\t * Licensed under the MIT license.\r\n\t\t\t\t */\r\n\t\t\t\t(function (chars) {\r\n\t\t\t\t\t\"use strict\";\r\n\r\n\t\t\t\t\texports.encode = function (arraybuffer) {\r\n\t\t\t\t\t\tvar bytes = new Uint8Array(arraybuffer),\r\n\t\t\t\t\t\t\ti, len = bytes.length,\r\n\t\t\t\t\t\t\tbase64 = \"\";\r\n\r\n\t\t\t\t\t\tfor (i = 0; i < len; i += 3) {\r\n\t\t\t\t\t\t\tbase64 += chars[bytes[i] >> 2];\r\n\t\t\t\t\t\t\tbase64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\r\n\t\t\t\t\t\t\tbase64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\r\n\t\t\t\t\t\t\tbase64 += chars[bytes[i + 2] & 63];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ((len % 3) === 2) {\r\n\t\t\t\t\t\t\tbase64 = base64.substring(0, base64.length - 1) + \"=\";\r\n\t\t\t\t\t\t} else if (len % 3 === 1) {\r\n\t\t\t\t\t\t\tbase64 = base64.substring(0, base64.length - 2) + \"==\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn base64;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\texports.decode = function (base64) {\r\n\t\t\t\t\t\tvar bufferLength = base64.length * 0.75,\r\n\t\t\t\t\t\t\tlen = base64.length,\r\n\t\t\t\t\t\t\ti, p = 0,\r\n\t\t\t\t\t\t\tencoded1, encoded2, encoded3, encoded4;\r\n\r\n\t\t\t\t\t\tif (base64[base64.length - 1] === \"=\") {\r\n\t\t\t\t\t\t\tbufferLength--;\r\n\t\t\t\t\t\t\tif (base64[base64.length - 2] === \"=\") {\r\n\t\t\t\t\t\t\t\tbufferLength--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar arraybuffer = new ArrayBuffer(bufferLength),\r\n\t\t\t\t\t\t\tbytes = new Uint8Array(arraybuffer);\r\n\r\n\t\t\t\t\t\tfor (i = 0; i < len; i += 4) {\r\n\t\t\t\t\t\t\tencoded1 = chars.indexOf(base64[i]);\r\n\t\t\t\t\t\t\tencoded2 = chars.indexOf(base64[i + 1]);\r\n\t\t\t\t\t\t\tencoded3 = chars.indexOf(base64[i + 2]);\r\n\t\t\t\t\t\t\tencoded4 = chars.indexOf(base64[i + 3]);\r\n\r\n\t\t\t\t\t\t\tbytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n\t\t\t\t\t\t\tbytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n\t\t\t\t\t\t\tbytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn arraybuffer;\r\n\t\t\t\t\t};\r\n\t\t\t\t})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\r\n\r\n\t\t\t}, {}],\r\n\t\t\t14: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Create a blob builder even when vendor prefixes exist\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar BlobBuilder = global.BlobBuilder ||\r\n\t\t\t\t\t\tglobal.WebKitBlobBuilder ||\r\n\t\t\t\t\t\tglobal.MSBlobBuilder ||\r\n\t\t\t\t\t\tglobal.MozBlobBuilder;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if Blob constructor is supported\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar blobSupported = (function () {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar a = new Blob(['hi']);\r\n\t\t\t\t\t\t\treturn a.size === 2;\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if Blob constructor supports ArrayBufferViews\r\n\t\t\t\t\t * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar blobSupportsArrayBufferView = blobSupported && (function () {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar b = new Blob([new Uint8Array([1, 2])]);\r\n\t\t\t\t\t\t\treturn b.size === 2;\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if BlobBuilder is supported\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar blobBuilderSupported = BlobBuilder &&\r\n\t\t\t\t\t\tBlobBuilder.prototype.append &&\r\n\t\t\t\t\t\tBlobBuilder.prototype.getBlob;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n\t\t\t\t\t * Used by BlobBuilder constructor and old browsers that didn't\r\n\t\t\t\t\t * support it in the Blob constructor.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction mapArrayBufferViews(ary) {\r\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\r\n\t\t\t\t\t\t\tvar chunk = ary[i];\r\n\t\t\t\t\t\t\tif (chunk.buffer instanceof ArrayBuffer) {\r\n\t\t\t\t\t\t\t\tvar buf = chunk.buffer;\r\n\r\n\t\t\t\t\t\t\t\t// if this is a subarray, make a copy so we only\r\n\t\t\t\t\t\t\t\t// include the subarray region from the underlying buffer\r\n\t\t\t\t\t\t\t\tif (chunk.byteLength !== buf.byteLength) {\r\n\t\t\t\t\t\t\t\t\tvar copy = new Uint8Array(chunk.byteLength);\r\n\t\t\t\t\t\t\t\t\tcopy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n\t\t\t\t\t\t\t\t\tbuf = copy.buffer;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tary[i] = buf;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction BlobBuilderConstructor(ary, options) {\r\n\t\t\t\t\t\toptions = options || {};\r\n\r\n\t\t\t\t\t\tvar bb = new BlobBuilder();\r\n\t\t\t\t\t\tmapArrayBufferViews(ary);\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\r\n\t\t\t\t\t\t\tbb.append(ary[i]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tfunction BlobConstructor(ary, options) {\r\n\t\t\t\t\t\tmapArrayBufferViews(ary);\r\n\t\t\t\t\t\treturn new Blob(ary, options || {});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tmodule.exports = (function () {\r\n\t\t\t\t\t\tif (blobSupported) {\r\n\t\t\t\t\t\t\treturn blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\r\n\t\t\t\t\t\t} else if (blobBuilderSupported) {\r\n\t\t\t\t\t\t\treturn BlobBuilderConstructor;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn undefined;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})();\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {}],\r\n\t\t\t15: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Expose `Emitter`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Emitter;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Initialize a new `Emitter`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Emitter(obj) {\r\n\t\t\t\t\tif (obj) return mixin(obj);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mixin the emitter properties.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} obj\r\n\t\t\t\t * @return {Object}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction mixin(obj) {\r\n\t\t\t\t\tfor (var key in Emitter.prototype) {\r\n\t\t\t\t\t\tobj[key] = Emitter.prototype[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Listen on the given `event` with `fn`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.on =\r\n\t\t\t\t\tEmitter.prototype.addEventListener = function (event, fn) {\r\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\t\t(this._callbacks[event] = this._callbacks[event] || [])\r\n\t\t\t\t\t\t.push(fn);\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Adds an `event` listener that will be invoked a single\r\n\t\t\t\t * time then automatically removed.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.once = function (event, fn) {\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\r\n\t\t\t\t\tfunction on() {\r\n\t\t\t\t\t\tself.off(event, on);\r\n\t\t\t\t\t\tfn.apply(this, arguments);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ton.fn = fn;\r\n\t\t\t\t\tthis.on(event, on);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Remove the given callback for `event` or all\r\n\t\t\t\t * registered callbacks.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.off =\r\n\t\t\t\t\tEmitter.prototype.removeListener =\r\n\t\t\t\t\tEmitter.prototype.removeAllListeners =\r\n\t\t\t\t\tEmitter.prototype.removeEventListener = function (event, fn) {\r\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\r\n\t\t\t\t\t\t// all\r\n\t\t\t\t\t\tif (0 == arguments.length) {\r\n\t\t\t\t\t\t\tthis._callbacks = {};\r\n\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// specific event\r\n\t\t\t\t\t\tvar callbacks = this._callbacks[event];\r\n\t\t\t\t\t\tif (!callbacks) return this;\r\n\r\n\t\t\t\t\t\t// remove all handlers\r\n\t\t\t\t\t\tif (1 == arguments.length) {\r\n\t\t\t\t\t\t\tdelete this._callbacks[event];\r\n\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// remove specific handler\r\n\t\t\t\t\t\tvar cb;\r\n\t\t\t\t\t\tfor (var i = 0; i < callbacks.length; i++) {\r\n\t\t\t\t\t\t\tcb = callbacks[i];\r\n\t\t\t\t\t\t\tif (cb === fn || cb.fn === fn) {\r\n\t\t\t\t\t\t\t\tcallbacks.splice(i, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Emit `event` with the given args.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Mixed} ...\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.emit = function (event) {\r\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\tvar args = [].slice.call(arguments, 1),\r\n\t\t\t\t\t\tcallbacks = this._callbacks[event];\r\n\r\n\t\t\t\t\tif (callbacks) {\r\n\t\t\t\t\t\tcallbacks = callbacks.slice(0);\r\n\t\t\t\t\t\tfor (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t\t\t\t\t\t\tcallbacks[i].apply(this, args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Return array of callbacks for `event`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @return {Array}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.listeners = function (event) {\r\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\treturn this._callbacks[event] || [];\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Check if this emitter has `event` handlers.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @return {Boolean}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.hasListeners = function (event) {\r\n\t\t\t\t\treturn !!this.listeners(event).length;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t16: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\tmodule.exports = function (a, b) {\r\n\t\t\t\t\tvar fn = function () {};\r\n\t\t\t\t\tfn.prototype = b.prototype;\r\n\t\t\t\t\ta.prototype = new fn;\r\n\t\t\t\t\ta.prototype.constructor = a;\r\n\t\t\t\t};\r\n\t\t\t}, {}],\r\n\t\t\t17: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * This is the web browser implementation of `debug()`.\r\n\t\t\t\t *\r\n\t\t\t\t * Expose `debug()` as the module.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports = module.exports = _dereq_('./debug');\r\n\t\t\t\texports.log = log;\r\n\t\t\t\texports.formatArgs = formatArgs;\r\n\t\t\t\texports.save = save;\r\n\t\t\t\texports.load = load;\r\n\t\t\t\texports.useColors = useColors;\r\n\t\t\t\texports.storage = 'undefined' != typeof chrome &&\r\n\t\t\t\t\t'undefined' != typeof chrome.storage ?\r\n\t\t\t\t\tchrome.storage.local :\r\n\t\t\t\t\tlocalstorage();\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Colors.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.colors = [\r\n\t\t\t\t\t'lightseagreen',\r\n\t\t\t\t\t'forestgreen',\r\n\t\t\t\t\t'goldenrod',\r\n\t\t\t\t\t'dodgerblue',\r\n\t\t\t\t\t'darkorchid',\r\n\t\t\t\t\t'crimson'\r\n\t\t\t\t];\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t\t\t\t * and the Firebug extension (any Firefox version) are known\r\n\t\t\t\t * to support \"%c\" CSS customizations.\r\n\t\t\t\t *\r\n\t\t\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction useColors() {\r\n\t\t\t\t\t// is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t\t\t\t\treturn ('WebkitAppearance' in document.documentElement.style) ||\r\n\t\t\t\t\t\t// is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t\t\t\t\t(window.console && (console.firebug || (console.exception && console.table))) ||\r\n\t\t\t\t\t\t// is firefox >= v31?\r\n\t\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t\t\t\t\t(navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.formatters.j = function (v) {\r\n\t\t\t\t\treturn JSON.stringify(v);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Colorize log arguments if enabled.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction formatArgs() {\r\n\t\t\t\t\tvar args = arguments;\r\n\t\t\t\t\tvar useColors = this.useColors;\r\n\r\n\t\t\t\t\targs[0] = (useColors ? '%c' : '') +\r\n\t\t\t\t\t\tthis.namespace +\r\n\t\t\t\t\t\t(useColors ? ' %c' : ' ') +\r\n\t\t\t\t\t\targs[0] +\r\n\t\t\t\t\t\t(useColors ? '%c ' : ' ') +\r\n\t\t\t\t\t\t'+' + exports.humanize(this.diff);\r\n\r\n\t\t\t\t\tif (!useColors) return args;\r\n\r\n\t\t\t\t\tvar c = 'color: ' + this.color;\r\n\t\t\t\t\targs = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\r\n\r\n\t\t\t\t\t// the final \"%c\" is somewhat tricky, because there could be other\r\n\t\t\t\t\t// arguments passed either before or after the %c, so we need to\r\n\t\t\t\t\t// figure out the correct index to insert the CSS into\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tvar lastC = 0;\r\n\t\t\t\t\targs[0].replace(/%[a-z%]/g, function (match) {\r\n\t\t\t\t\t\tif ('%%' === match) return;\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tif ('%c' === match) {\r\n\t\t\t\t\t\t\t// we only are interested in the *last* %c\r\n\t\t\t\t\t\t\t// (the user may have provided their own)\r\n\t\t\t\t\t\t\tlastC = index;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\targs.splice(lastC, 0, c);\r\n\t\t\t\t\treturn args;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Invokes `console.log()` when available.\r\n\t\t\t\t * No-op when `console.log` is not a \"function\".\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction log() {\r\n\t\t\t\t\t// this hackery is required for IE8/9, where\r\n\t\t\t\t\t// the `console.log` function doesn't have 'apply'\r\n\t\t\t\t\treturn 'object' === typeof console &&\r\n\t\t\t\t\t\tconsole.log &&\r\n\t\t\t\t\t\tFunction.prototype.apply.call(console.log, console, arguments);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Save `namespaces`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} namespaces\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction save(namespaces) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (null == namespaces) {\r\n\t\t\t\t\t\t\texports.storage.removeItem('debug');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texports.storage.debug = namespaces;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Load `namespaces`.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction load() {\r\n\t\t\t\t\tvar r;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tr = exports.storage.debug;\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Enable namespaces listed in `localStorage.debug` initially.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.enable(load());\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Localstorage attempts to return the localstorage.\r\n\t\t\t\t *\r\n\t\t\t\t * This is necessary because safari throws\r\n\t\t\t\t * when a user disables cookies/localstorage\r\n\t\t\t\t * and you attempt to access it.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {LocalStorage}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction localstorage() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\treturn window.localStorage;\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./debug\": 18\r\n\t\t\t}],\r\n\t\t\t18: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * This is the common logic for both the Node.js and web browser\r\n\t\t\t\t * implementations of `debug()`.\r\n\t\t\t\t *\r\n\t\t\t\t * Expose `debug()` as the module.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports = module.exports = debug;\r\n\t\t\t\texports.coerce = coerce;\r\n\t\t\t\texports.disable = disable;\r\n\t\t\t\texports.enable = enable;\r\n\t\t\t\texports.enabled = enabled;\r\n\t\t\t\texports.humanize = _dereq_('ms');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * The currently active debug mode names, and names to skip.\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.names = [];\r\n\t\t\t\texports.skips = [];\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t\t\t\t *\r\n\t\t\t\t * Valid key names are a single, lowercased letter, i.e. \"n\".\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.formatters = {};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Previously assigned color.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar prevColor = 0;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Previous log timestamp.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar prevTime;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Select a color.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Number}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction selectColor() {\r\n\t\t\t\t\treturn exports.colors[prevColor++ % exports.colors.length];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Create a debugger with the given `namespace`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} namespace\r\n\t\t\t\t * @return {Function}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction debug(namespace) {\r\n\r\n\t\t\t\t\t// define the `disabled` version\r\n\t\t\t\t\tfunction disabled() {}\r\n\t\t\t\t\tdisabled.enabled = false;\r\n\r\n\t\t\t\t\t// define the `enabled` version\r\n\t\t\t\t\tfunction enabled() {\r\n\r\n\t\t\t\t\t\tvar self = enabled;\r\n\r\n\t\t\t\t\t\t// set `diff` timestamp\r\n\t\t\t\t\t\tvar curr = +new Date();\r\n\t\t\t\t\t\tvar ms = curr - (prevTime || curr);\r\n\t\t\t\t\t\tself.diff = ms;\r\n\t\t\t\t\t\tself.prev = prevTime;\r\n\t\t\t\t\t\tself.curr = curr;\r\n\t\t\t\t\t\tprevTime = curr;\r\n\r\n\t\t\t\t\t\t// add the `color` if not set\r\n\t\t\t\t\t\tif (null == self.useColors) self.useColors = exports.useColors();\r\n\t\t\t\t\t\tif (null == self.color && self.useColors) self.color = selectColor();\r\n\r\n\t\t\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\r\n\t\t\t\t\t\targs[0] = exports.coerce(args[0]);\r\n\r\n\t\t\t\t\t\tif ('string' !== typeof args[0]) {\r\n\t\t\t\t\t\t\t// anything else let's inspect with %o\r\n\t\t\t\t\t\t\targs = ['%o'].concat(args);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// apply any `formatters` transformations\r\n\t\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\t\targs[0] = args[0].replace(/%([a-z%])/g, function (match, format) {\r\n\t\t\t\t\t\t\t// if we encounter an escaped % then don't increase the array index\r\n\t\t\t\t\t\t\tif (match === '%%') return match;\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\tvar formatter = exports.formatters[format];\r\n\t\t\t\t\t\t\tif ('function' === typeof formatter) {\r\n\t\t\t\t\t\t\t\tvar val = args[index];\r\n\t\t\t\t\t\t\t\tmatch = formatter.call(self, val);\r\n\r\n\t\t\t\t\t\t\t\t// now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t\t\t\t\t\t\targs.splice(index, 1);\r\n\t\t\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif ('function' === typeof exports.formatArgs) {\r\n\t\t\t\t\t\t\targs = exports.formatArgs.apply(self, args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar logFn = enabled.log || exports.log || console.log.bind(console);\r\n\t\t\t\t\t\tlogFn.apply(self, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tenabled.enabled = true;\r\n\r\n\t\t\t\t\tvar fn = exports.enabled(namespace) ? enabled : disabled;\r\n\r\n\t\t\t\t\tfn.namespace = namespace;\r\n\r\n\t\t\t\t\treturn fn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Enables a debug mode by namespaces. This can include modes\r\n\t\t\t\t * separated by a colon and wildcards.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} namespaces\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction enable(namespaces) {\r\n\t\t\t\t\texports.save(namespaces);\r\n\r\n\t\t\t\t\tvar split = (namespaces || '').split(/[\\s,]+/);\r\n\t\t\t\t\tvar len = split.length;\r\n\r\n\t\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\t\tif (!split[i]) continue; // ignore empty strings\r\n\t\t\t\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\r\n\t\t\t\t\t\tif (namespaces[0] === '-') {\r\n\t\t\t\t\t\t\texports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texports.names.push(new RegExp('^' + namespaces + '$'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Disable debug output.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction disable() {\r\n\t\t\t\t\texports.enable('');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Returns true if the given mode name is enabled, false otherwise.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} name\r\n\t\t\t\t * @return {Boolean}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction enabled(name) {\r\n\t\t\t\t\tvar i, len;\r\n\t\t\t\t\tfor (i = 0, len = exports.skips.length; i < len; i++) {\r\n\t\t\t\t\t\tif (exports.skips[i].test(name)) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (i = 0, len = exports.names.length; i < len; i++) {\r\n\t\t\t\t\t\tif (exports.names[i].test(name)) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Coerce `val`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Mixed} val\r\n\t\t\t\t * @return {Mixed}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction coerce(val) {\r\n\t\t\t\t\tif (val instanceof Error) return val.stack || val.message;\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"ms\": 25\r\n\t\t\t}],\r\n\t\t\t19: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module dependencies.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar keys = _dereq_('./keys');\r\n\t\t\t\t\tvar hasBinary = _dereq_('has-binary');\r\n\t\t\t\t\tvar sliceBuffer = _dereq_('arraybuffer.slice');\r\n\t\t\t\t\tvar base64encoder = _dereq_('base64-arraybuffer');\r\n\t\t\t\t\tvar after = _dereq_('after');\r\n\t\t\t\t\tvar utf8 = _dereq_('utf8');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if we are running an android browser. That requires us to use\r\n\t\t\t\t\t * ArrayBuffer with polling transports...\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * http://ghinda.net/jpeg-blob-ajax-android/\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar isAndroid = navigator.userAgent.match(/Android/i);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Check if we are running in PhantomJS.\r\n\t\t\t\t\t * Uploading a Blob with PhantomJS does not work correctly, as reported here:\r\n\t\t\t\t\t * https://github.com/ariya/phantomjs/issues/11395\r\n\t\t\t\t\t * @type boolean\r\n\t\t\t\t\t */\r\n\t\t\t\t\tvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * When true, avoids using Blobs to encode payloads.\r\n\t\t\t\t\t * @type boolean\r\n\t\t\t\t\t */\r\n\t\t\t\t\tvar dontSendBlobs = isAndroid || isPhantomJS;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Current protocol version.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.protocol = 3;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Packet types.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar packets = exports.packets = {\r\n\t\t\t\t\t\topen: 0 // non-ws\r\n\t\t\t\t\t\t\t,\r\n\t\t\t\t\t\tclose: 1 // non-ws\r\n\t\t\t\t\t\t\t,\r\n\t\t\t\t\t\tping: 2,\r\n\t\t\t\t\t\tpong: 3,\r\n\t\t\t\t\t\tmessage: 4,\r\n\t\t\t\t\t\tupgrade: 5,\r\n\t\t\t\t\t\tnoop: 6\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar packetslist = keys(packets);\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Premade error packet.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar err = {\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tdata: 'parser error'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Create a blob api even for blob builder when vendor prefixes exist\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar Blob = _dereq_('blob');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encodes a packet.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t *     <packet type id> [ <data> ]\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Example:\r\n\t\t\t\t\t *\r\n\t\t\t\t\t *     5hello world\r\n\t\t\t\t\t *     3\r\n\t\t\t\t\t *     4\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Binary is encoded in an identical principle\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\r\n\t\t\t\t\t\tif ('function' == typeof supportsBinary) {\r\n\t\t\t\t\t\t\tcallback = supportsBinary;\r\n\t\t\t\t\t\t\tsupportsBinary = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ('function' == typeof utf8encode) {\r\n\t\t\t\t\t\t\tcallback = utf8encode;\r\n\t\t\t\t\t\t\tutf8encode = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = (packet.data === undefined) ?\r\n\t\t\t\t\t\t\tundefined :\r\n\t\t\t\t\t\t\tpacket.data.buffer || packet.data;\r\n\r\n\t\t\t\t\t\tif (global.ArrayBuffer && data instanceof ArrayBuffer) {\r\n\t\t\t\t\t\t\treturn encodeArrayBuffer(packet, supportsBinary, callback);\r\n\t\t\t\t\t\t} else if (Blob && data instanceof global.Blob) {\r\n\t\t\t\t\t\t\treturn encodeBlob(packet, supportsBinary, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// might be an object with { base64: true, data: dataAsBase64String }\r\n\t\t\t\t\t\tif (data && data.base64) {\r\n\t\t\t\t\t\t\treturn encodeBase64Object(packet, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Sending data as a utf-8 string\r\n\t\t\t\t\t\tvar encoded = packets[packet.type];\r\n\r\n\t\t\t\t\t\t// data fragment is optional\r\n\t\t\t\t\t\tif (undefined !== packet.data) {\r\n\t\t\t\t\t\t\tencoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn callback('' + encoded);\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tfunction encodeBase64Object(packet, callback) {\r\n\t\t\t\t\t\t// packet data is an object { base64: true, data: dataAsBase64String }\r\n\t\t\t\t\t\tvar message = 'b' + exports.packets[packet.type] + packet.data.data;\r\n\t\t\t\t\t\treturn callback(message);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encode packet helpers for binary types\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction encodeArrayBuffer(packet, supportsBinary, callback) {\r\n\t\t\t\t\t\tif (!supportsBinary) {\r\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = packet.data;\r\n\t\t\t\t\t\tvar contentArray = new Uint8Array(data);\r\n\t\t\t\t\t\tvar resultBuffer = new Uint8Array(1 + data.byteLength);\r\n\r\n\t\t\t\t\t\tresultBuffer[0] = packets[packet.type];\r\n\t\t\t\t\t\tfor (var i = 0; i < contentArray.length; i++) {\r\n\t\t\t\t\t\t\tresultBuffer[i + 1] = contentArray[i];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn callback(resultBuffer.buffer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\r\n\t\t\t\t\t\tif (!supportsBinary) {\r\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar fr = new FileReader();\r\n\t\t\t\t\t\tfr.onload = function () {\r\n\t\t\t\t\t\t\tpacket.data = fr.result;\r\n\t\t\t\t\t\t\texports.encodePacket(packet, supportsBinary, true, callback);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\treturn fr.readAsArrayBuffer(packet.data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction encodeBlob(packet, supportsBinary, callback) {\r\n\t\t\t\t\t\tif (!supportsBinary) {\r\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (dontSendBlobs) {\r\n\t\t\t\t\t\t\treturn encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar length = new Uint8Array(1);\r\n\t\t\t\t\t\tlength[0] = packets[packet.type];\r\n\t\t\t\t\t\tvar blob = new Blob([length.buffer, packet.data]);\r\n\r\n\t\t\t\t\t\treturn callback(blob);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encodes a packet with binary data in a base64 string\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} packet, has `type` and `data`\r\n\t\t\t\t\t * @return {String} base64 encoded message\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.encodeBase64Packet = function (packet, callback) {\r\n\t\t\t\t\t\tvar message = 'b' + exports.packets[packet.type];\r\n\t\t\t\t\t\tif (Blob && packet.data instanceof global.Blob) {\r\n\t\t\t\t\t\t\tvar fr = new FileReader();\r\n\t\t\t\t\t\t\tfr.onload = function () {\r\n\t\t\t\t\t\t\t\tvar b64 = fr.result.split(',')[1];\r\n\t\t\t\t\t\t\t\tcallback(message + b64);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\treturn fr.readAsDataURL(packet.data);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar b64data;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tb64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t// iPhone Safari doesn't let you apply with typed arrays\r\n\t\t\t\t\t\t\tvar typed = new Uint8Array(packet.data);\r\n\t\t\t\t\t\t\tvar basic = new Array(typed.length);\r\n\t\t\t\t\t\t\tfor (var i = 0; i < typed.length; i++) {\r\n\t\t\t\t\t\t\t\tbasic[i] = typed[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tb64data = String.fromCharCode.apply(null, basic);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmessage += global.btoa(b64data);\r\n\t\t\t\t\t\treturn callback(message);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Decodes a packet. Changes format to Blob if requested.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @return {Object} with `type` and `data` (if any)\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.decodePacket = function (data, binaryType, utf8decode) {\r\n\t\t\t\t\t\t// String data\r\n\t\t\t\t\t\tif (typeof data == 'string' || data === undefined) {\r\n\t\t\t\t\t\t\tif (data.charAt(0) == 'b') {\r\n\t\t\t\t\t\t\t\treturn exports.decodeBase64Packet(data.substr(1), binaryType);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (utf8decode) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tdata = utf8.decode(data);\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\treturn err;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar type = data.charAt(0);\r\n\r\n\t\t\t\t\t\t\tif (Number(type) != type || !packetslist[type]) {\r\n\t\t\t\t\t\t\t\treturn err;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.length > 1) {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\ttype: packetslist[type],\r\n\t\t\t\t\t\t\t\t\tdata: data.substring(1)\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\ttype: packetslist[type]\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar asArray = new Uint8Array(data);\r\n\t\t\t\t\t\tvar type = asArray[0];\r\n\t\t\t\t\t\tvar rest = sliceBuffer(data, 1);\r\n\t\t\t\t\t\tif (Blob && binaryType === 'blob') {\r\n\t\t\t\t\t\t\trest = new Blob([rest]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttype: packetslist[type],\r\n\t\t\t\t\t\t\tdata: rest\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Decodes a packet encoded in a base64 string\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} base64 encoded message\r\n\t\t\t\t\t * @return {Object} with `type` and `data` (if any)\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.decodeBase64Packet = function (msg, binaryType) {\r\n\t\t\t\t\t\tvar type = packetslist[msg.charAt(0)];\r\n\t\t\t\t\t\tif (!global.ArrayBuffer) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tbase64: true,\r\n\t\t\t\t\t\t\t\t\tdata: msg.substr(1)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = base64encoder.decode(msg.substr(1));\r\n\r\n\t\t\t\t\t\tif (binaryType === 'blob' && Blob) {\r\n\t\t\t\t\t\t\tdata = new Blob([data]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tdata: data\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encodes multiple messages (payload).\r\n\t\t\t\t\t *\r\n\t\t\t\t\t *     <length>:data\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Example:\r\n\t\t\t\t\t *\r\n\t\t\t\t\t *     11:hello world2:hi\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * If any contents are binary, they will be encoded as base64 strings. Base64\r\n\t\t\t\t\t * encoded strings are marked with a b before the length specifier\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Array} packets\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.encodePayload = function (packets, supportsBinary, callback) {\r\n\t\t\t\t\t\tif (typeof supportsBinary == 'function') {\r\n\t\t\t\t\t\t\tcallback = supportsBinary;\r\n\t\t\t\t\t\t\tsupportsBinary = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar isBinary = hasBinary(packets);\r\n\r\n\t\t\t\t\t\tif (supportsBinary && isBinary) {\r\n\t\t\t\t\t\t\tif (Blob && !dontSendBlobs) {\r\n\t\t\t\t\t\t\t\treturn exports.encodePayloadAsBlob(packets, callback);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn exports.encodePayloadAsArrayBuffer(packets, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!packets.length) {\r\n\t\t\t\t\t\t\treturn callback('0:');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction setLengthHeader(message) {\r\n\t\t\t\t\t\t\treturn message.length + ':' + message;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\r\n\t\t\t\t\t\t\texports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function (message) {\r\n\t\t\t\t\t\t\t\tdoneCallback(null, setLengthHeader(message));\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, results) {\r\n\t\t\t\t\t\t\treturn callback(results.join(''));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Async array map using after\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction map(ary, each, done) {\r\n\t\t\t\t\t\tvar result = new Array(ary.length);\r\n\t\t\t\t\t\tvar next = after(ary.length, done);\r\n\r\n\t\t\t\t\t\tvar eachWithIndex = function (i, el, cb) {\r\n\t\t\t\t\t\t\teach(el, function (error, msg) {\r\n\t\t\t\t\t\t\t\tresult[i] = msg;\r\n\t\t\t\t\t\t\t\tcb(error, result);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\r\n\t\t\t\t\t\t\teachWithIndex(i, ary[i], next);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Decodes data when a payload is maybe expected. Possible binary contents are\r\n\t\t\t\t\t * decoded from their base64 representation\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} data, callback method\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.decodePayload = function (data, binaryType, callback) {\r\n\t\t\t\t\t\tif (typeof data != 'string') {\r\n\t\t\t\t\t\t\treturn exports.decodePayloadAsBinary(data, binaryType, callback);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (typeof binaryType === 'function') {\r\n\t\t\t\t\t\t\tcallback = binaryType;\r\n\t\t\t\t\t\t\tbinaryType = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar packet;\r\n\t\t\t\t\t\tif (data == '') {\r\n\t\t\t\t\t\t\t// parser error - ignoring payload\r\n\t\t\t\t\t\t\treturn callback(err, 0, 1);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar length = '',\r\n\t\t\t\t\t\t\tn, msg;\r\n\r\n\t\t\t\t\t\tfor (var i = 0, l = data.length; i < l; i++) {\r\n\t\t\t\t\t\t\tvar chr = data.charAt(i);\r\n\r\n\t\t\t\t\t\t\tif (':' != chr) {\r\n\t\t\t\t\t\t\t\tlength += chr;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ('' == length || (length != (n = Number(length)))) {\r\n\t\t\t\t\t\t\t\t\t// parser error - ignoring payload\r\n\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tmsg = data.substr(i + 1, n);\r\n\r\n\t\t\t\t\t\t\t\tif (length != msg.length) {\r\n\t\t\t\t\t\t\t\t\t// parser error - ignoring payload\r\n\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (msg.length) {\r\n\t\t\t\t\t\t\t\t\tpacket = exports.decodePacket(msg, binaryType, true);\r\n\r\n\t\t\t\t\t\t\t\t\tif (err.type == packet.type && err.data == packet.data) {\r\n\t\t\t\t\t\t\t\t\t\t// parser error in individual packet - ignoring payload\r\n\t\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar ret = callback(packet, i + n, l);\r\n\t\t\t\t\t\t\t\t\tif (false === ret) return;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// advance cursor\r\n\t\t\t\t\t\t\t\ti += n;\r\n\t\t\t\t\t\t\t\tlength = '';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (length != '') {\r\n\t\t\t\t\t\t\t// parser error - ignoring payload\r\n\t\t\t\t\t\t\treturn callback(err, 0, 1);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encodes multiple messages (payload) as binary.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\r\n\t\t\t\t\t * 255><data>\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Example:\r\n\t\t\t\t\t * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Array} packets\r\n\t\t\t\t\t * @return {ArrayBuffer} encoded payload\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.encodePayloadAsArrayBuffer = function (packets, callback) {\r\n\t\t\t\t\t\tif (!packets.length) {\r\n\t\t\t\t\t\t\treturn callback(new ArrayBuffer(0));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\r\n\t\t\t\t\t\t\texports.encodePacket(packet, true, true, function (data) {\r\n\t\t\t\t\t\t\t\treturn doneCallback(null, data);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, encodedPackets) {\r\n\t\t\t\t\t\t\tvar totalLength = encodedPackets.reduce(function (acc, p) {\r\n\t\t\t\t\t\t\t\tvar len;\r\n\t\t\t\t\t\t\t\tif (typeof p === 'string') {\r\n\t\t\t\t\t\t\t\t\tlen = p.length;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlen = p.byteLength;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\r\n\t\t\t\t\t\t\t}, 0);\r\n\r\n\t\t\t\t\t\t\tvar resultArray = new Uint8Array(totalLength);\r\n\r\n\t\t\t\t\t\t\tvar bufferIndex = 0;\r\n\t\t\t\t\t\t\tencodedPackets.forEach(function (p) {\r\n\t\t\t\t\t\t\t\tvar isString = typeof p === 'string';\r\n\t\t\t\t\t\t\t\tvar ab = p;\r\n\t\t\t\t\t\t\t\tif (isString) {\r\n\t\t\t\t\t\t\t\t\tvar view = new Uint8Array(p.length);\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < p.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tview[i] = p.charCodeAt(i);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tab = view.buffer;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (isString) { // not true binary\r\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 0;\r\n\t\t\t\t\t\t\t\t} else { // true binary\r\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 1;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar lenStr = ab.byteLength.toString();\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < lenStr.length; i++) {\r\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = parseInt(lenStr[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 255;\r\n\r\n\t\t\t\t\t\t\t\tvar view = new Uint8Array(ab);\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < view.length; i++) {\r\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = view[i];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\treturn callback(resultArray.buffer);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Encode as Blob\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.encodePayloadAsBlob = function (packets, callback) {\r\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\r\n\t\t\t\t\t\t\texports.encodePacket(packet, true, true, function (encoded) {\r\n\t\t\t\t\t\t\t\tvar binaryIdentifier = new Uint8Array(1);\r\n\t\t\t\t\t\t\t\tbinaryIdentifier[0] = 1;\r\n\t\t\t\t\t\t\t\tif (typeof encoded === 'string') {\r\n\t\t\t\t\t\t\t\t\tvar view = new Uint8Array(encoded.length);\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < encoded.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tview[i] = encoded.charCodeAt(i);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tencoded = view.buffer;\r\n\t\t\t\t\t\t\t\t\tbinaryIdentifier[0] = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar len = (encoded instanceof ArrayBuffer) ?\r\n\t\t\t\t\t\t\t\t\tencoded.byteLength :\r\n\t\t\t\t\t\t\t\t\tencoded.size;\r\n\r\n\t\t\t\t\t\t\t\tvar lenStr = len.toString();\r\n\t\t\t\t\t\t\t\tvar lengthAry = new Uint8Array(lenStr.length + 1);\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < lenStr.length; i++) {\r\n\t\t\t\t\t\t\t\t\tlengthAry[i] = parseInt(lenStr[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlengthAry[lenStr.length] = 255;\r\n\r\n\t\t\t\t\t\t\t\tif (Blob) {\r\n\t\t\t\t\t\t\t\t\tvar blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\r\n\t\t\t\t\t\t\t\t\tdoneCallback(null, blob);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, results) {\r\n\t\t\t\t\t\t\treturn callback(new Blob(results));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Decodes data when a payload is maybe expected. Strings are decoded by\r\n\t\t\t\t\t * interpreting each byte as a key code for entries marked to start with 0. See\r\n\t\t\t\t\t * description of encodePayloadAsBinary\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {ArrayBuffer} data, callback method\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.decodePayloadAsBinary = function (data, binaryType, callback) {\r\n\t\t\t\t\t\tif (typeof binaryType === 'function') {\r\n\t\t\t\t\t\t\tcallback = binaryType;\r\n\t\t\t\t\t\t\tbinaryType = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar bufferTail = data;\r\n\t\t\t\t\t\tvar buffers = [];\r\n\r\n\t\t\t\t\t\tvar numberTooLong = false;\r\n\t\t\t\t\t\twhile (bufferTail.byteLength > 0) {\r\n\t\t\t\t\t\t\tvar tailArray = new Uint8Array(bufferTail);\r\n\t\t\t\t\t\t\tvar isString = tailArray[0] === 0;\r\n\t\t\t\t\t\t\tvar msgLength = '';\r\n\r\n\t\t\t\t\t\t\tfor (var i = 1;; i++) {\r\n\t\t\t\t\t\t\t\tif (tailArray[i] == 255) break;\r\n\r\n\t\t\t\t\t\t\t\tif (msgLength.length > 310) {\r\n\t\t\t\t\t\t\t\t\tnumberTooLong = true;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tmsgLength += tailArray[i];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (numberTooLong) return callback(err, 0, 1);\r\n\r\n\t\t\t\t\t\t\tbufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\r\n\t\t\t\t\t\t\tmsgLength = parseInt(msgLength);\r\n\r\n\t\t\t\t\t\t\tvar msg = sliceBuffer(bufferTail, 0, msgLength);\r\n\t\t\t\t\t\t\tif (isString) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tmsg = String.fromCharCode.apply(null, new Uint8Array(msg));\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t// iPhone Safari doesn't let you apply to typed arrays\r\n\t\t\t\t\t\t\t\t\tvar typed = new Uint8Array(msg);\r\n\t\t\t\t\t\t\t\t\tmsg = '';\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < typed.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tmsg += String.fromCharCode(typed[i]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbuffers.push(msg);\r\n\t\t\t\t\t\t\tbufferTail = sliceBuffer(bufferTail, msgLength);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar total = buffers.length;\r\n\t\t\t\t\t\tbuffers.forEach(function (buffer, i) {\r\n\t\t\t\t\t\t\tcallback(exports.decodePacket(buffer, binaryType, true), i, total);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./keys\": 20,\r\n\t\t\t\t\"after\": 11,\r\n\t\t\t\t\"arraybuffer.slice\": 12,\r\n\t\t\t\t\"base64-arraybuffer\": 13,\r\n\t\t\t\t\"blob\": 14,\r\n\t\t\t\t\"has-binary\": 21,\r\n\t\t\t\t\"utf8\": 29\r\n\t\t\t}],\r\n\t\t\t20: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Gets the keys for an object.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Array} keys\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Object.keys || function keys(obj) {\r\n\t\t\t\t\tvar arr = [];\r\n\t\t\t\t\tvar has = Object.prototype.hasOwnProperty;\r\n\r\n\t\t\t\t\tfor (var i in obj) {\r\n\t\t\t\t\t\tif (has.call(obj, i)) {\r\n\t\t\t\t\t\t\tarr.push(i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t21: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Module requirements.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar isArray = _dereq_('isarray');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = hasBinary;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Checks for binary data.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Right now only Buffer and ArrayBuffer are supported..\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} anything\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction hasBinary(data) {\r\n\r\n\t\t\t\t\t\tfunction _hasBinary(obj) {\r\n\t\t\t\t\t\t\tif (!obj) return false;\r\n\r\n\t\t\t\t\t\t\tif ((global.Buffer && global.Buffer.isBuffer(obj)) ||\r\n\t\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer) ||\r\n\t\t\t\t\t\t\t\t(global.Blob && obj instanceof Blob) ||\r\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (isArray(obj)) {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (_hasBinary(obj[i])) {\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj) {\r\n\t\t\t\t\t\t\t\tif (obj.toJSON) {\r\n\t\t\t\t\t\t\t\t\tobj = obj.toJSON();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tfor (var key in obj) {\r\n\t\t\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn _hasBinary(data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"isarray\": 24\r\n\t\t\t}],\r\n\t\t\t22: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t *\r\n\t\t\t\t * Logic borrowed from Modernizr:\r\n\t\t\t\t *\r\n\t\t\t\t *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\r\n\t\t\t\t */\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmodule.exports = typeof XMLHttpRequest !== 'undefined' &&\r\n\t\t\t\t\t\t'withCredentials' in new XMLHttpRequest();\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t// if XMLHttp support is disabled in IE then it will throw\r\n\t\t\t\t\t// when trying to create\r\n\t\t\t\t\tmodule.exports = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {}],\r\n\t\t\t23: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\tvar indexOf = [].indexOf;\r\n\r\n\t\t\t\tmodule.exports = function (arr, obj) {\r\n\t\t\t\t\tif (indexOf) return arr.indexOf(obj);\r\n\t\t\t\t\tfor (var i = 0; i < arr.length; ++i) {\r\n\t\t\t\t\t\tif (arr[i] === obj) return i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t};\r\n\t\t\t}, {}],\r\n\t\t\t24: [function (_dereq_, module, exports) {\r\n\t\t\t\tmodule.exports = Array.isArray || function (arr) {\r\n\t\t\t\t\treturn Object.prototype.toString.call(arr) == '[object Array]';\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t25: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Helpers.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar s = 1000;\r\n\t\t\t\tvar m = s * 60;\r\n\t\t\t\tvar h = m * 60;\r\n\t\t\t\tvar d = h * 24;\r\n\t\t\t\tvar y = d * 365.25;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Parse or format the given `val`.\r\n\t\t\t\t *\r\n\t\t\t\t * Options:\r\n\t\t\t\t *\r\n\t\t\t\t *  - `long` verbose formatting [false]\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String|Number} val\r\n\t\t\t\t * @param {Object} options\r\n\t\t\t\t * @return {String|Number}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = function (val, options) {\r\n\t\t\t\t\toptions = options || {};\r\n\t\t\t\t\tif ('string' == typeof val) return parse(val);\r\n\t\t\t\t\treturn options.long ?\r\n\t\t\t\t\t\tlong(val) :\r\n\t\t\t\t\t\tshort(val);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Parse the given `str` and return milliseconds.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} str\r\n\t\t\t\t * @return {Number}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction parse(str) {\r\n\t\t\t\t\tstr = '' + str;\r\n\t\t\t\t\tif (str.length > 10000) return;\r\n\t\t\t\t\tvar match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\r\n\t\t\t\t\tif (!match) return;\r\n\t\t\t\t\tvar n = parseFloat(match[1]);\r\n\t\t\t\t\tvar type = (match[2] || 'ms').toLowerCase();\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\tcase 'years':\r\n\t\t\t\t\t\tcase 'year':\r\n\t\t\t\t\t\tcase 'yrs':\r\n\t\t\t\t\t\tcase 'yr':\r\n\t\t\t\t\t\tcase 'y':\r\n\t\t\t\t\t\t\treturn n * y;\r\n\t\t\t\t\t\tcase 'days':\r\n\t\t\t\t\t\tcase 'day':\r\n\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\t\treturn n * d;\r\n\t\t\t\t\t\tcase 'hours':\r\n\t\t\t\t\t\tcase 'hour':\r\n\t\t\t\t\t\tcase 'hrs':\r\n\t\t\t\t\t\tcase 'hr':\r\n\t\t\t\t\t\tcase 'h':\r\n\t\t\t\t\t\t\treturn n * h;\r\n\t\t\t\t\t\tcase 'minutes':\r\n\t\t\t\t\t\tcase 'minute':\r\n\t\t\t\t\t\tcase 'mins':\r\n\t\t\t\t\t\tcase 'min':\r\n\t\t\t\t\t\tcase 'm':\r\n\t\t\t\t\t\t\treturn n * m;\r\n\t\t\t\t\t\tcase 'seconds':\r\n\t\t\t\t\t\tcase 'second':\r\n\t\t\t\t\t\tcase 'secs':\r\n\t\t\t\t\t\tcase 'sec':\r\n\t\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\t\treturn n * s;\r\n\t\t\t\t\t\tcase 'milliseconds':\r\n\t\t\t\t\t\tcase 'millisecond':\r\n\t\t\t\t\t\tcase 'msecs':\r\n\t\t\t\t\t\tcase 'msec':\r\n\t\t\t\t\t\tcase 'ms':\r\n\t\t\t\t\t\t\treturn n;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Short format for `ms`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} ms\r\n\t\t\t\t * @return {String}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction short(ms) {\r\n\t\t\t\t\tif (ms >= d) return Math.round(ms / d) + 'd';\r\n\t\t\t\t\tif (ms >= h) return Math.round(ms / h) + 'h';\r\n\t\t\t\t\tif (ms >= m) return Math.round(ms / m) + 'm';\r\n\t\t\t\t\tif (ms >= s) return Math.round(ms / s) + 's';\r\n\t\t\t\t\treturn ms + 'ms';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Long format for `ms`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} ms\r\n\t\t\t\t * @return {String}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction long(ms) {\r\n\t\t\t\t\treturn plural(ms, d, 'day') ||\r\n\t\t\t\t\t\tplural(ms, h, 'hour') ||\r\n\t\t\t\t\t\tplural(ms, m, 'minute') ||\r\n\t\t\t\t\t\tplural(ms, s, 'second') ||\r\n\t\t\t\t\t\tms + ' ms';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Pluralization helper.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction plural(ms, n, name) {\r\n\t\t\t\t\tif (ms < n) return;\r\n\t\t\t\t\tif (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\r\n\t\t\t\t\treturn Math.ceil(ms / n) + ' ' + name + 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {}],\r\n\t\t\t26: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * JSON parse.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar rvalidchars = /^[\\],:{}\\s]*$/;\r\n\t\t\t\t\tvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\n\t\t\t\t\tvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\n\t\t\t\t\tvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\n\t\t\t\t\tvar rtrimLeft = /^\\s+/;\r\n\t\t\t\t\tvar rtrimRight = /\\s+$/;\r\n\r\n\t\t\t\t\tmodule.exports = function parsejson(data) {\r\n\t\t\t\t\t\tif ('string' != typeof data || !data) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdata = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n\t\t\t\t\t\t// Attempt to parse using the native JSON parser first\r\n\t\t\t\t\t\tif (global.JSON && JSON.parse) {\r\n\t\t\t\t\t\t\treturn JSON.parse(data);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (rvalidchars.test(data.replace(rvalidescape, '@')\r\n\t\t\t\t\t\t\t\t.replace(rvalidtokens, ']')\r\n\t\t\t\t\t\t\t\t.replace(rvalidbraces, ''))) {\r\n\t\t\t\t\t\t\treturn (new Function('return ' + data))();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {}],\r\n\t\t\t27: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Compiles a querystring\r\n\t\t\t\t * Returns string representation of the object\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.encode = function (obj) {\r\n\t\t\t\t\tvar str = '';\r\n\r\n\t\t\t\t\tfor (var i in obj) {\r\n\t\t\t\t\t\tif (obj.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\tif (str.length) str += '&';\r\n\t\t\t\t\t\t\tstr += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn str;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Parses a simple querystring into an object\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} qs\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.decode = function (qs) {\r\n\t\t\t\t\tvar qry = {};\r\n\t\t\t\t\tvar pairs = qs.split('&');\r\n\t\t\t\t\tfor (var i = 0, l = pairs.length; i < l; i++) {\r\n\t\t\t\t\t\tvar pair = pairs[i].split('=');\r\n\t\t\t\t\t\tqry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn qry;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t28: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Parses an URI\r\n\t\t\t\t *\r\n\t\t\t\t * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\n\t\t\t\tvar parts = [\r\n\t\t\t\t\t'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n\t\t\t\t];\r\n\r\n\t\t\t\tmodule.exports = function parseuri(str) {\r\n\t\t\t\t\tvar src = str,\r\n\t\t\t\t\t\tb = str.indexOf('['),\r\n\t\t\t\t\t\te = str.indexOf(']');\r\n\r\n\t\t\t\t\tif (b != -1 && e != -1) {\r\n\t\t\t\t\t\tstr = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar m = re.exec(str || ''),\r\n\t\t\t\t\t\turi = {},\r\n\t\t\t\t\t\ti = 14;\r\n\r\n\t\t\t\t\twhile (i--) {\r\n\t\t\t\t\t\turi[parts[i]] = m[i] || '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (b != -1 && e != -1) {\r\n\t\t\t\t\t\turi.source = src;\r\n\t\t\t\t\t\turi.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n\t\t\t\t\t\turi.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n\t\t\t\t\t\turi.ipv6uri = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn uri;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t29: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/*! https://mths.be/utf8js v2.0.0 by @mathias */\r\n\t\t\t\t\t;\r\n\t\t\t\t\t(function (root) {\r\n\r\n\t\t\t\t\t\t// Detect free variables `exports`\r\n\t\t\t\t\t\tvar freeExports = typeof exports == 'object' && exports;\r\n\r\n\t\t\t\t\t\t// Detect free variable `module`\r\n\t\t\t\t\t\tvar freeModule = typeof module == 'object' && module &&\r\n\t\t\t\t\t\t\tmodule.exports == freeExports && module;\r\n\r\n\t\t\t\t\t\t// Detect free variable `global`, from Node.js or Browserified code,\r\n\t\t\t\t\t\t// and use it as `root`\r\n\t\t\t\t\t\tvar freeGlobal = typeof global == 'object' && global;\r\n\t\t\t\t\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\r\n\t\t\t\t\t\t\troot = freeGlobal;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\t\t\t\t\tvar stringFromCharCode = String.fromCharCode;\r\n\r\n\t\t\t\t\t\t// Taken from https://mths.be/punycode\r\n\t\t\t\t\t\tfunction ucs2decode(string) {\r\n\t\t\t\t\t\t\tvar output = [];\r\n\t\t\t\t\t\t\tvar counter = 0;\r\n\t\t\t\t\t\t\tvar length = string.length;\r\n\t\t\t\t\t\t\tvar value;\r\n\t\t\t\t\t\t\tvar extra;\r\n\t\t\t\t\t\t\twhile (counter < length) {\r\n\t\t\t\t\t\t\t\tvalue = string.charCodeAt(counter++);\r\n\t\t\t\t\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\r\n\t\t\t\t\t\t\t\t\t// high surrogate, and there is a next character\r\n\t\t\t\t\t\t\t\t\textra = string.charCodeAt(counter++);\r\n\t\t\t\t\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\r\n\t\t\t\t\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\r\n\t\t\t\t\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\r\n\t\t\t\t\t\t\t\t\t\toutput.push(value);\r\n\t\t\t\t\t\t\t\t\t\tcounter--;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toutput.push(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn output;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Taken from https://mths.be/punycode\r\n\t\t\t\t\t\tfunction ucs2encode(array) {\r\n\t\t\t\t\t\t\tvar length = array.length;\r\n\t\t\t\t\t\t\tvar index = -1;\r\n\t\t\t\t\t\t\tvar value;\r\n\t\t\t\t\t\t\tvar output = '';\r\n\t\t\t\t\t\t\twhile (++index < length) {\r\n\t\t\t\t\t\t\t\tvalue = array[index];\r\n\t\t\t\t\t\t\t\tif (value > 0xFFFF) {\r\n\t\t\t\t\t\t\t\t\tvalue -= 0x10000;\r\n\t\t\t\t\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\r\n\t\t\t\t\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toutput += stringFromCharCode(value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn output;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction checkScalarValue(codePoint) {\r\n\t\t\t\t\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\r\n\t\t\t\t\t\t\t\tthrow Error(\r\n\t\t\t\t\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\t' is not a scalar value'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\t\t\t\t\tfunction createByte(codePoint, shift) {\r\n\t\t\t\t\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction encodeCodePoint(codePoint) {\r\n\t\t\t\t\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\r\n\t\t\t\t\t\t\t\treturn stringFromCharCode(codePoint);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar symbol = '';\r\n\t\t\t\t\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\r\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\r\n\t\t\t\t\t\t\t} else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\r\n\t\t\t\t\t\t\t\tcheckScalarValue(codePoint);\r\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\r\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 6);\r\n\t\t\t\t\t\t\t} else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\r\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\r\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 12);\r\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 6);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\r\n\t\t\t\t\t\t\treturn symbol;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction utf8encode(string) {\r\n\t\t\t\t\t\t\tvar codePoints = ucs2decode(string);\r\n\t\t\t\t\t\t\tvar length = codePoints.length;\r\n\t\t\t\t\t\t\tvar index = -1;\r\n\t\t\t\t\t\t\tvar codePoint;\r\n\t\t\t\t\t\t\tvar byteString = '';\r\n\t\t\t\t\t\t\twhile (++index < length) {\r\n\t\t\t\t\t\t\t\tcodePoint = codePoints[index];\r\n\t\t\t\t\t\t\t\tbyteString += encodeCodePoint(codePoint);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn byteString;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\t\t\t\t\tfunction readContinuationByte() {\r\n\t\t\t\t\t\t\tif (byteIndex >= byteCount) {\r\n\t\t\t\t\t\t\t\tthrow Error('Invalid byte index');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\r\n\t\t\t\t\t\t\tbyteIndex++;\r\n\r\n\t\t\t\t\t\t\tif ((continuationByte & 0xC0) == 0x80) {\r\n\t\t\t\t\t\t\t\treturn continuationByte & 0x3F;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// If we end up here, it’s not a continuation byte\r\n\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction decodeSymbol() {\r\n\t\t\t\t\t\t\tvar byte1;\r\n\t\t\t\t\t\t\tvar byte2;\r\n\t\t\t\t\t\t\tvar byte3;\r\n\t\t\t\t\t\t\tvar byte4;\r\n\t\t\t\t\t\t\tvar codePoint;\r\n\r\n\t\t\t\t\t\t\tif (byteIndex > byteCount) {\r\n\t\t\t\t\t\t\t\tthrow Error('Invalid byte index');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (byteIndex == byteCount) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Read first byte\r\n\t\t\t\t\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\r\n\t\t\t\t\t\t\tbyteIndex++;\r\n\r\n\t\t\t\t\t\t\t// 1-byte sequence (no continuation bytes)\r\n\t\t\t\t\t\t\tif ((byte1 & 0x80) == 0) {\r\n\t\t\t\t\t\t\t\treturn byte1;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 2-byte sequence\r\n\t\t\t\t\t\t\tif ((byte1 & 0xE0) == 0xC0) {\r\n\t\t\t\t\t\t\t\tvar byte2 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\r\n\t\t\t\t\t\t\t\tif (codePoint >= 0x80) {\r\n\t\t\t\t\t\t\t\t\treturn codePoint;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 3-byte sequence (may include unpaired surrogates)\r\n\t\t\t\t\t\t\tif ((byte1 & 0xF0) == 0xE0) {\r\n\t\t\t\t\t\t\t\tbyte2 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tbyte3 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\r\n\t\t\t\t\t\t\t\tif (codePoint >= 0x0800) {\r\n\t\t\t\t\t\t\t\t\tcheckScalarValue(codePoint);\r\n\t\t\t\t\t\t\t\t\treturn codePoint;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 4-byte sequence\r\n\t\t\t\t\t\t\tif ((byte1 & 0xF8) == 0xF0) {\r\n\t\t\t\t\t\t\t\tbyte2 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tbyte3 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tbyte4 = readContinuationByte();\r\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\r\n\t\t\t\t\t\t\t\t\t(byte3 << 0x06) | byte4;\r\n\t\t\t\t\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\r\n\t\t\t\t\t\t\t\t\treturn codePoint;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthrow Error('Invalid UTF-8 detected');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar byteArray;\r\n\t\t\t\t\t\tvar byteCount;\r\n\t\t\t\t\t\tvar byteIndex;\r\n\r\n\t\t\t\t\t\tfunction utf8decode(byteString) {\r\n\t\t\t\t\t\t\tbyteArray = ucs2decode(byteString);\r\n\t\t\t\t\t\t\tbyteCount = byteArray.length;\r\n\t\t\t\t\t\t\tbyteIndex = 0;\r\n\t\t\t\t\t\t\tvar codePoints = [];\r\n\t\t\t\t\t\t\tvar tmp;\r\n\t\t\t\t\t\t\twhile ((tmp = decodeSymbol()) !== false) {\r\n\t\t\t\t\t\t\t\tcodePoints.push(tmp);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn ucs2encode(codePoints);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\t\t\t\t\tvar utf8 = {\r\n\t\t\t\t\t\t\t'version': '2.0.0',\r\n\t\t\t\t\t\t\t'encode': utf8encode,\r\n\t\t\t\t\t\t\t'decode': utf8decode\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\r\n\t\t\t\t\t\t// like the following:\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\ttypeof define == 'function' &&\r\n\t\t\t\t\t\t\ttypeof define.amd == 'object' &&\r\n\t\t\t\t\t\t\tdefine.amd\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tdefine(function () {\r\n\t\t\t\t\t\t\t\treturn utf8;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (freeExports && !freeExports.nodeType) {\r\n\t\t\t\t\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\r\n\t\t\t\t\t\t\t\tfreeModule.exports = utf8;\r\n\t\t\t\t\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\r\n\t\t\t\t\t\t\t\tvar object = {};\r\n\t\t\t\t\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\r\n\t\t\t\t\t\t\t\tfor (var key in utf8) {\r\n\t\t\t\t\t\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else { // in Rhino or a web browser\r\n\t\t\t\t\t\t\troot.utf8 = utf8;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(this));\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {}],\r\n\t\t\t30: [function (_dereq_, module, exports) {\r\n\t\t\t\t'use strict';\r\n\r\n\t\t\t\tvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),\r\n\t\t\t\t\tlength = 64,\r\n\t\t\t\t\tmap = {},\r\n\t\t\t\t\tseed = 0,\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tprev;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Return a string representing the specified number.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} num The number to convert.\r\n\t\t\t\t * @returns {String} The string representation of the number.\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\t\t\t\tfunction encode(num) {\r\n\t\t\t\t\tvar encoded = '';\r\n\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tencoded = alphabet[num % length] + encoded;\r\n\t\t\t\t\t\tnum = Math.floor(num / length);\r\n\t\t\t\t\t} while (num > 0);\r\n\r\n\t\t\t\t\treturn encoded;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Return the integer value specified by the given string.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} str The string to convert.\r\n\t\t\t\t * @returns {Number} The integer value represented by the string.\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\t\t\t\tfunction decode(str) {\r\n\t\t\t\t\tvar decoded = 0;\r\n\r\n\t\t\t\t\tfor (i = 0; i < str.length; i++) {\r\n\t\t\t\t\t\tdecoded = decoded * length + map[str.charAt(i)];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn decoded;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Yeast: A tiny growing id generator.\r\n\t\t\t\t *\r\n\t\t\t\t * @returns {String} A unique id.\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\t\t\t\tfunction yeast() {\r\n\t\t\t\t\tvar now = encode(+new Date());\r\n\r\n\t\t\t\t\tif (now !== prev) return seed = 0, prev = now;\r\n\t\t\t\t\treturn now + '.' + encode(seed++);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//\r\n\t\t\t\t// Map each character to its index.\r\n\t\t\t\t//\r\n\t\t\t\tfor (; i < length; i++) map[alphabet[i]] = i;\r\n\r\n\t\t\t\t//\r\n\t\t\t\t// Expose the `yeast`, `encode` and `decode` functions.\r\n\t\t\t\t//\r\n\t\t\t\tyeast.encode = encode;\r\n\t\t\t\tyeast.decode = decode;\r\n\t\t\t\tmodule.exports = yeast;\r\n\r\n\t\t\t}, {}],\r\n\t\t\t31: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar url = _dereq_('./url');\r\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\r\n\t\t\t\tvar Manager = _dereq_('./manager');\r\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = exports = lookup;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Managers cache.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar cache = exports.managers = {};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Looks up an existing `Manager` for multiplexing.\r\n\t\t\t\t * If the user summons:\r\n\t\t\t\t *\r\n\t\t\t\t *   `io('http://localhost/a');`\r\n\t\t\t\t *   `io('http://localhost/b');`\r\n\t\t\t\t *\r\n\t\t\t\t * We reuse the existing instance based on same scheme/port/host,\r\n\t\t\t\t * and we initialize sockets for each namespace.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction lookup(uri, opts) {\r\n\t\t\t\t\tif (typeof uri == 'object') {\r\n\t\t\t\t\t\topts = uri;\r\n\t\t\t\t\t\turi = undefined;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\topts = opts || {};\r\n\r\n\t\t\t\t\tvar parsed = url(uri);\r\n\t\t\t\t\tvar source = parsed.source;\r\n\t\t\t\t\tvar id = parsed.id;\r\n\t\t\t\t\tvar path = parsed.path;\r\n\t\t\t\t\tvar sameNamespace = cache[id] && path in cache[id].nsps;\r\n\t\t\t\t\tvar newConnection = opts.forceNew || opts['force new connection'] ||\r\n\t\t\t\t\t\tfalse === opts.multiplex || sameNamespace;\r\n\r\n\t\t\t\t\tvar io;\r\n\r\n\t\t\t\t\tif (newConnection) {\r\n\t\t\t\t\t\tdebug('ignoring socket cache for %s', source);\r\n\t\t\t\t\t\tio = Manager(source, opts);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (!cache[id]) {\r\n\t\t\t\t\t\t\tdebug('new io instance for %s', source);\r\n\t\t\t\t\t\t\tcache[id] = Manager(source, opts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tio = cache[id];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn io.socket(parsed.path);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Protocol version.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.protocol = parser.protocol;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * `connect`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} uri\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.connect = lookup;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Expose constructors for standalone build.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.Manager = _dereq_('./manager');\r\n\t\t\t\texports.Socket = _dereq_('./socket');\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./manager\": 32,\r\n\t\t\t\t\"./socket\": 34,\r\n\t\t\t\t\"./url\": 35,\r\n\t\t\t\t\"debug\": 39,\r\n\t\t\t\t\"socket.io-parser\": 47\r\n\t\t\t}],\r\n\t\t\t32: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar eio = _dereq_('engine.io-client');\r\n\t\t\t\tvar Socket = _dereq_('./socket');\r\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\r\n\t\t\t\tvar on = _dereq_('./on');\r\n\t\t\t\tvar bind = _dereq_('component-bind');\r\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:manager');\r\n\t\t\t\tvar indexOf = _dereq_('indexof');\r\n\t\t\t\tvar Backoff = _dereq_('backo2');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * IE6+ hasOwnProperty\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar has = Object.prototype.hasOwnProperty;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Manager;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * `Manager` constructor.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} engine instance or engine uri/opts\r\n\t\t\t\t * @param {Object} options\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Manager(uri, opts) {\r\n\t\t\t\t\tif (!(this instanceof Manager)) return new Manager(uri, opts);\r\n\t\t\t\t\tif (uri && ('object' == typeof uri)) {\r\n\t\t\t\t\t\topts = uri;\r\n\t\t\t\t\t\turi = undefined;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts = opts || {};\r\n\r\n\t\t\t\t\topts.path = opts.path || '/socket.io';\r\n\t\t\t\t\tthis.nsps = {};\r\n\t\t\t\t\tthis.subs = [];\r\n\t\t\t\t\tthis.opts = opts;\r\n\t\t\t\t\tthis.reconnection(opts.reconnection !== false);\r\n\t\t\t\t\tthis.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\r\n\t\t\t\t\tthis.reconnectionDelay(opts.reconnectionDelay || 1000);\r\n\t\t\t\t\tthis.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\r\n\t\t\t\t\tthis.randomizationFactor(opts.randomizationFactor || 0.5);\r\n\t\t\t\t\tthis.backoff = new Backoff({\r\n\t\t\t\t\t\tmin: this.reconnectionDelay(),\r\n\t\t\t\t\t\tmax: this.reconnectionDelayMax(),\r\n\t\t\t\t\t\tjitter: this.randomizationFactor()\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.timeout(null == opts.timeout ? 20000 : opts.timeout);\r\n\t\t\t\t\tthis.readyState = 'closed';\r\n\t\t\t\t\tthis.uri = uri;\r\n\t\t\t\t\tthis.connecting = [];\r\n\t\t\t\t\tthis.lastPing = null;\r\n\t\t\t\t\tthis.encoding = false;\r\n\t\t\t\t\tthis.packetBuffer = [];\r\n\t\t\t\t\tthis.encoder = new parser.Encoder();\r\n\t\t\t\t\tthis.decoder = new parser.Decoder();\r\n\t\t\t\t\tthis.autoConnect = opts.autoConnect !== false;\r\n\t\t\t\t\tif (this.autoConnect) this.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Propagate given event to sockets and emit on `this`\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.emitAll = function () {\r\n\t\t\t\t\tthis.emit.apply(this, arguments);\r\n\t\t\t\t\tfor (var nsp in this.nsps) {\r\n\t\t\t\t\t\tif (has.call(this.nsps, nsp)) {\r\n\t\t\t\t\t\t\tthis.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Update `socket.id` of all sockets\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.updateSocketIds = function () {\r\n\t\t\t\t\tfor (var nsp in this.nsps) {\r\n\t\t\t\t\t\tif (has.call(this.nsps, nsp)) {\r\n\t\t\t\t\t\t\tthis.nsps[nsp].id = this.engine.id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mix in `Emitter`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter(Manager.prototype);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the `reconnection` config.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Boolean} true/false if it should automatically reconnect\r\n\t\t\t\t * @return {Manager} self or value\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.reconnection = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._reconnection;\r\n\t\t\t\t\tthis._reconnection = !!v;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the reconnection attempts config.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} max reconnection attempts before giving up\r\n\t\t\t\t * @return {Manager} self or value\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.reconnectionAttempts = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._reconnectionAttempts;\r\n\t\t\t\t\tthis._reconnectionAttempts = v;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the delay between reconnections.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} delay\r\n\t\t\t\t * @return {Manager} self or value\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.reconnectionDelay = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._reconnectionDelay;\r\n\t\t\t\t\tthis._reconnectionDelay = v;\r\n\t\t\t\t\tthis.backoff && this.backoff.setMin(v);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tManager.prototype.randomizationFactor = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._randomizationFactor;\r\n\t\t\t\t\tthis._randomizationFactor = v;\r\n\t\t\t\t\tthis.backoff && this.backoff.setJitter(v);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the maximum delay between reconnections.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Number} delay\r\n\t\t\t\t * @return {Manager} self or value\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.reconnectionDelayMax = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._reconnectionDelayMax;\r\n\t\t\t\t\tthis._reconnectionDelayMax = v;\r\n\t\t\t\t\tthis.backoff && this.backoff.setMax(v);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the connection timeout. `false` to disable\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Manager} self or value\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.timeout = function (v) {\r\n\t\t\t\t\tif (!arguments.length) return this._timeout;\r\n\t\t\t\t\tthis._timeout = v;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Starts trying to reconnect if reconnection is enabled and we have not\r\n\t\t\t\t * started reconnecting yet\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.maybeReconnectOnOpen = function () {\r\n\t\t\t\t\t// Only try to reconnect if it's the first time we're connecting\r\n\t\t\t\t\tif (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\r\n\t\t\t\t\t\t// keeps reconnection from firing twice for the same reconnection loop\r\n\t\t\t\t\t\tthis.reconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the current transport `socket`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Function} optional, callback\r\n\t\t\t\t * @return {Manager} self\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.open =\r\n\t\t\t\t\tManager.prototype.connect = function (fn) {\r\n\t\t\t\t\t\tdebug('readyState %s', this.readyState);\r\n\t\t\t\t\t\tif (~this.readyState.indexOf('open')) return this;\r\n\r\n\t\t\t\t\t\tdebug('opening %s', this.uri);\r\n\t\t\t\t\t\tthis.engine = eio(this.uri, this.opts);\r\n\t\t\t\t\t\tvar socket = this.engine;\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tthis.readyState = 'opening';\r\n\t\t\t\t\t\tthis.skipReconnect = false;\r\n\r\n\t\t\t\t\t\t// emit `open`\r\n\t\t\t\t\t\tvar openSub = on(socket, 'open', function () {\r\n\t\t\t\t\t\t\tself.onopen();\r\n\t\t\t\t\t\t\tfn && fn();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// emit `connect_error`\r\n\t\t\t\t\t\tvar errorSub = on(socket, 'error', function (data) {\r\n\t\t\t\t\t\t\tdebug('connect_error');\r\n\t\t\t\t\t\t\tself.cleanup();\r\n\t\t\t\t\t\t\tself.readyState = 'closed';\r\n\t\t\t\t\t\t\tself.emitAll('connect_error', data);\r\n\t\t\t\t\t\t\tif (fn) {\r\n\t\t\t\t\t\t\t\tvar err = new Error('Connection error');\r\n\t\t\t\t\t\t\t\terr.data = data;\r\n\t\t\t\t\t\t\t\tfn(err);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// Only do this if there is no fn to handle the error\r\n\t\t\t\t\t\t\t\tself.maybeReconnectOnOpen();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// emit `connect_timeout`\r\n\t\t\t\t\t\tif (false !== this._timeout) {\r\n\t\t\t\t\t\t\tvar timeout = this._timeout;\r\n\t\t\t\t\t\t\tdebug('connect attempt will timeout after %d', timeout);\r\n\r\n\t\t\t\t\t\t\t// set timer\r\n\t\t\t\t\t\t\tvar timer = setTimeout(function () {\r\n\t\t\t\t\t\t\t\tdebug('connect attempt timed out after %d', timeout);\r\n\t\t\t\t\t\t\t\topenSub.destroy();\r\n\t\t\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t\t\t\tsocket.emit('error', 'timeout');\r\n\t\t\t\t\t\t\t\tself.emitAll('connect_timeout', timeout);\r\n\t\t\t\t\t\t\t}, timeout);\r\n\r\n\t\t\t\t\t\t\tthis.subs.push({\r\n\t\t\t\t\t\t\t\tdestroy: function () {\r\n\t\t\t\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.subs.push(openSub);\r\n\t\t\t\t\t\tthis.subs.push(errorSub);\r\n\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon transport open.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onopen = function () {\r\n\t\t\t\t\tdebug('open');\r\n\r\n\t\t\t\t\t// clear old subs\r\n\t\t\t\t\tthis.cleanup();\r\n\r\n\t\t\t\t\t// mark as open\r\n\t\t\t\t\tthis.readyState = 'open';\r\n\t\t\t\t\tthis.emit('open');\r\n\r\n\t\t\t\t\t// add new subs\r\n\t\t\t\t\tvar socket = this.engine;\r\n\t\t\t\t\tthis.subs.push(on(socket, 'data', bind(this, 'ondata')));\r\n\t\t\t\t\tthis.subs.push(on(socket, 'ping', bind(this, 'onping')));\r\n\t\t\t\t\tthis.subs.push(on(socket, 'pong', bind(this, 'onpong')));\r\n\t\t\t\t\tthis.subs.push(on(socket, 'error', bind(this, 'onerror')));\r\n\t\t\t\t\tthis.subs.push(on(socket, 'close', bind(this, 'onclose')));\r\n\t\t\t\t\tthis.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon a ping.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onping = function () {\r\n\t\t\t\t\tthis.lastPing = new Date;\r\n\t\t\t\t\tthis.emitAll('ping');\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon a packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onpong = function () {\r\n\t\t\t\t\tthis.emitAll('pong', new Date - this.lastPing);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called with data.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.ondata = function (data) {\r\n\t\t\t\t\tthis.decoder.add(data);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called when parser fully decodes a packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.ondecoded = function (packet) {\r\n\t\t\t\t\tthis.emit('packet', packet);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon socket error.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onerror = function (err) {\r\n\t\t\t\t\tdebug('error', err);\r\n\t\t\t\t\tthis.emitAll('error', err);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Creates a new socket for the given `nsp`.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Socket}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.socket = function (nsp) {\r\n\t\t\t\t\tvar socket = this.nsps[nsp];\r\n\t\t\t\t\tif (!socket) {\r\n\t\t\t\t\t\tsocket = new Socket(this, nsp);\r\n\t\t\t\t\t\tthis.nsps[nsp] = socket;\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\tsocket.on('connecting', onConnecting);\r\n\t\t\t\t\t\tsocket.on('connect', function () {\r\n\t\t\t\t\t\t\tsocket.id = self.engine.id;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (this.autoConnect) {\r\n\t\t\t\t\t\t\t// manually call here since connecting evnet is fired before listening\r\n\t\t\t\t\t\t\tonConnecting();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction onConnecting() {\r\n\t\t\t\t\t\tif (!~indexOf(self.connecting, socket)) {\r\n\t\t\t\t\t\t\tself.connecting.push(socket);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn socket;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon a socket close.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Socket} socket\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.destroy = function (socket) {\r\n\t\t\t\t\tvar index = indexOf(this.connecting, socket);\r\n\t\t\t\t\tif (~index) this.connecting.splice(index, 1);\r\n\t\t\t\t\tif (this.connecting.length) return;\r\n\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Writes a packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.packet = function (packet) {\r\n\t\t\t\t\tdebug('writing packet %j', packet);\r\n\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\tif (!self.encoding) {\r\n\t\t\t\t\t\t// encode, then write to engine with result\r\n\t\t\t\t\t\tself.encoding = true;\r\n\t\t\t\t\t\tthis.encoder.encode(packet, function (encodedPackets) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < encodedPackets.length; i++) {\r\n\t\t\t\t\t\t\t\tself.engine.write(encodedPackets[i], packet.options);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.encoding = false;\r\n\t\t\t\t\t\t\tself.processPacketQueue();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else { // add packet to the queue\r\n\t\t\t\t\t\tself.packetBuffer.push(packet);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * If packet buffer is non-empty, begins encoding the\r\n\t\t\t\t * next packet in line.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.processPacketQueue = function () {\r\n\t\t\t\t\tif (this.packetBuffer.length > 0 && !this.encoding) {\r\n\t\t\t\t\t\tvar pack = this.packetBuffer.shift();\r\n\t\t\t\t\t\tthis.packet(pack);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Clean up transport subscriptions and packet buffer.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.cleanup = function () {\r\n\t\t\t\t\tdebug('cleanup');\r\n\r\n\t\t\t\t\tvar sub;\r\n\t\t\t\t\twhile (sub = this.subs.shift()) sub.destroy();\r\n\r\n\t\t\t\t\tthis.packetBuffer = [];\r\n\t\t\t\t\tthis.encoding = false;\r\n\t\t\t\t\tthis.lastPing = null;\r\n\r\n\t\t\t\t\tthis.decoder.destroy();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Close the current socket.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.close =\r\n\t\t\t\t\tManager.prototype.disconnect = function () {\r\n\t\t\t\t\t\tdebug('disconnect');\r\n\t\t\t\t\t\tthis.skipReconnect = true;\r\n\t\t\t\t\t\tthis.reconnecting = false;\r\n\t\t\t\t\t\tif ('opening' == this.readyState) {\r\n\t\t\t\t\t\t\t// `onclose` will not fire because\r\n\t\t\t\t\t\t\t// an open event never happened\r\n\t\t\t\t\t\t\tthis.cleanup();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.backoff.reset();\r\n\t\t\t\t\t\tthis.readyState = 'closed';\r\n\t\t\t\t\t\tif (this.engine) this.engine.close();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon engine close.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onclose = function (reason) {\r\n\t\t\t\t\tdebug('onclose');\r\n\r\n\t\t\t\t\tthis.cleanup();\r\n\t\t\t\t\tthis.backoff.reset();\r\n\t\t\t\t\tthis.readyState = 'closed';\r\n\t\t\t\t\tthis.emit('close', reason);\r\n\r\n\t\t\t\t\tif (this._reconnection && !this.skipReconnect) {\r\n\t\t\t\t\t\tthis.reconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Attempt a reconnection.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.reconnect = function () {\r\n\t\t\t\t\tif (this.reconnecting || this.skipReconnect) return this;\r\n\r\n\t\t\t\t\tvar self = this;\r\n\r\n\t\t\t\t\tif (this.backoff.attempts >= this._reconnectionAttempts) {\r\n\t\t\t\t\t\tdebug('reconnect failed');\r\n\t\t\t\t\t\tthis.backoff.reset();\r\n\t\t\t\t\t\tthis.emitAll('reconnect_failed');\r\n\t\t\t\t\t\tthis.reconnecting = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar delay = this.backoff.duration();\r\n\t\t\t\t\t\tdebug('will wait %dms before reconnect attempt', delay);\r\n\r\n\t\t\t\t\t\tthis.reconnecting = true;\r\n\t\t\t\t\t\tvar timer = setTimeout(function () {\r\n\t\t\t\t\t\t\tif (self.skipReconnect) return;\r\n\r\n\t\t\t\t\t\t\tdebug('attempting reconnect');\r\n\t\t\t\t\t\t\tself.emitAll('reconnect_attempt', self.backoff.attempts);\r\n\t\t\t\t\t\t\tself.emitAll('reconnecting', self.backoff.attempts);\r\n\r\n\t\t\t\t\t\t\t// check again for the case socket closed in above events\r\n\t\t\t\t\t\t\tif (self.skipReconnect) return;\r\n\r\n\t\t\t\t\t\t\tself.open(function (err) {\r\n\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\tdebug('reconnect attempt error');\r\n\t\t\t\t\t\t\t\t\tself.reconnecting = false;\r\n\t\t\t\t\t\t\t\t\tself.reconnect();\r\n\t\t\t\t\t\t\t\t\tself.emitAll('reconnect_error', err.data);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdebug('reconnect success');\r\n\t\t\t\t\t\t\t\t\tself.onreconnect();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, delay);\r\n\r\n\t\t\t\t\t\tthis.subs.push({\r\n\t\t\t\t\t\t\tdestroy: function () {\r\n\t\t\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon successful reconnect.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tManager.prototype.onreconnect = function () {\r\n\t\t\t\t\tvar attempt = this.backoff.attempts;\r\n\t\t\t\t\tthis.reconnecting = false;\r\n\t\t\t\t\tthis.backoff.reset();\r\n\t\t\t\t\tthis.updateSocketIds();\r\n\t\t\t\t\tthis.emitAll('reconnect', attempt);\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./on\": 33,\r\n\t\t\t\t\"./socket\": 34,\r\n\t\t\t\t\"backo2\": 36,\r\n\t\t\t\t\"component-bind\": 37,\r\n\t\t\t\t\"component-emitter\": 38,\r\n\t\t\t\t\"debug\": 39,\r\n\t\t\t\t\"engine.io-client\": 1,\r\n\t\t\t\t\"indexof\": 42,\r\n\t\t\t\t\"socket.io-parser\": 47\r\n\t\t\t}],\r\n\t\t\t33: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = on;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Helper for subscriptions.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\r\n\t\t\t\t * @param {String} event name\r\n\t\t\t\t * @param {Function} callback\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction on(obj, ev, fn) {\r\n\t\t\t\t\tobj.on(ev, fn);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdestroy: function () {\r\n\t\t\t\t\t\t\tobj.removeListener(ev, fn);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {}],\r\n\t\t\t34: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\r\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\t\t\t\tvar toArray = _dereq_('to-array');\r\n\t\t\t\tvar on = _dereq_('./on');\r\n\t\t\t\tvar bind = _dereq_('component-bind');\r\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:socket');\r\n\t\t\t\tvar hasBin = _dereq_('has-binary');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module exports.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = exports = Socket;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Internal events (blacklisted).\r\n\t\t\t\t * These events can't be emitted by the user.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar events = {\r\n\t\t\t\t\tconnect: 1,\r\n\t\t\t\t\tconnect_error: 1,\r\n\t\t\t\t\tconnect_timeout: 1,\r\n\t\t\t\t\tconnecting: 1,\r\n\t\t\t\t\tdisconnect: 1,\r\n\t\t\t\t\terror: 1,\r\n\t\t\t\t\treconnect: 1,\r\n\t\t\t\t\treconnect_attempt: 1,\r\n\t\t\t\t\treconnect_failed: 1,\r\n\t\t\t\t\treconnect_error: 1,\r\n\t\t\t\t\treconnecting: 1,\r\n\t\t\t\t\tping: 1,\r\n\t\t\t\t\tpong: 1\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Shortcut to `Emitter#emit`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar emit = Emitter.prototype.emit;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * `Socket` constructor.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Socket(io, nsp) {\r\n\t\t\t\t\tthis.io = io;\r\n\t\t\t\t\tthis.nsp = nsp;\r\n\t\t\t\t\tthis.json = this; // compat\r\n\t\t\t\t\tthis.ids = 0;\r\n\t\t\t\t\tthis.acks = {};\r\n\t\t\t\t\tthis.receiveBuffer = [];\r\n\t\t\t\t\tthis.sendBuffer = [];\r\n\t\t\t\t\tthis.connected = false;\r\n\t\t\t\t\tthis.disconnected = true;\r\n\t\t\t\t\tif (this.io.autoConnect) this.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mix in `Emitter`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter(Socket.prototype);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Subscribe to open, close and packet events\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.subEvents = function () {\r\n\t\t\t\t\tif (this.subs) return;\r\n\r\n\t\t\t\t\tvar io = this.io;\r\n\t\t\t\t\tthis.subs = [\r\n\t\t\t\t\t\ton(io, 'open', bind(this, 'onopen')),\r\n\t\t\t\t\t\ton(io, 'packet', bind(this, 'onpacket')),\r\n\t\t\t\t\t\ton(io, 'close', bind(this, 'onclose'))\r\n\t\t\t\t\t];\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * \"Opens\" the socket.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.open =\r\n\t\t\t\t\tSocket.prototype.connect = function () {\r\n\t\t\t\t\t\tif (this.connected) return this;\r\n\r\n\t\t\t\t\t\tthis.subEvents();\r\n\t\t\t\t\t\tthis.io.open(); // ensure open\r\n\t\t\t\t\t\tif ('open' == this.io.readyState) this.onopen();\r\n\t\t\t\t\t\tthis.emit('connecting');\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sends a `message` event.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Socket} self\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.send = function () {\r\n\t\t\t\t\tvar args = toArray(arguments);\r\n\t\t\t\t\targs.unshift('message');\r\n\t\t\t\t\tthis.emit.apply(this, args);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Override `emit`.\r\n\t\t\t\t * If the event is in `events`, it's emitted normally.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event name\r\n\t\t\t\t * @return {Socket} self\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.emit = function (ev) {\r\n\t\t\t\t\tif (events.hasOwnProperty(ev)) {\r\n\t\t\t\t\t\temit.apply(this, arguments);\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar args = toArray(arguments);\r\n\t\t\t\t\tvar parserType = parser.EVENT; // default\r\n\t\t\t\t\tif (hasBin(args)) {\r\n\t\t\t\t\t\tparserType = parser.BINARY_EVENT;\r\n\t\t\t\t\t} // binary\r\n\t\t\t\t\tvar packet = {\r\n\t\t\t\t\t\ttype: parserType,\r\n\t\t\t\t\t\tdata: args\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tpacket.options = {};\r\n\t\t\t\t\tpacket.options.compress = !this.flags || false !== this.flags.compress;\r\n\r\n\t\t\t\t\t// event ack callback\r\n\t\t\t\t\tif ('function' == typeof args[args.length - 1]) {\r\n\t\t\t\t\t\tdebug('emitting packet with ack id %d', this.ids);\r\n\t\t\t\t\t\tthis.acks[this.ids] = args.pop();\r\n\t\t\t\t\t\tpacket.id = this.ids++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.connected) {\r\n\t\t\t\t\t\tthis.packet(packet);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sendBuffer.push(packet);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdelete this.flags;\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sends a packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.packet = function (packet) {\r\n\t\t\t\t\tpacket.nsp = this.nsp;\r\n\t\t\t\t\tthis.io.packet(packet);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon engine `open`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onopen = function () {\r\n\t\t\t\t\tdebug('transport is open - connecting');\r\n\r\n\t\t\t\t\t// write connect packet if necessary\r\n\t\t\t\t\tif ('/' != this.nsp) {\r\n\t\t\t\t\t\tthis.packet({\r\n\t\t\t\t\t\t\ttype: parser.CONNECT\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon engine `close`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} reason\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onclose = function (reason) {\r\n\t\t\t\t\tdebug('close (%s)', reason);\r\n\t\t\t\t\tthis.connected = false;\r\n\t\t\t\t\tthis.disconnected = true;\r\n\t\t\t\t\tdelete this.id;\r\n\t\t\t\t\tthis.emit('disconnect', reason);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called with socket packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onpacket = function (packet) {\r\n\t\t\t\t\tif (packet.nsp != this.nsp) return;\r\n\r\n\t\t\t\t\tswitch (packet.type) {\r\n\t\t\t\t\t\tcase parser.CONNECT:\r\n\t\t\t\t\t\t\tthis.onconnect();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.EVENT:\r\n\t\t\t\t\t\t\tthis.onevent(packet);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.BINARY_EVENT:\r\n\t\t\t\t\t\t\tthis.onevent(packet);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.ACK:\r\n\t\t\t\t\t\t\tthis.onack(packet);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.BINARY_ACK:\r\n\t\t\t\t\t\t\tthis.onack(packet);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.DISCONNECT:\r\n\t\t\t\t\t\t\tthis.ondisconnect();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase parser.ERROR:\r\n\t\t\t\t\t\t\tthis.emit('error', packet.data);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon a server event.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onevent = function (packet) {\r\n\t\t\t\t\tvar args = packet.data || [];\r\n\t\t\t\t\tdebug('emitting event %j', args);\r\n\r\n\t\t\t\t\tif (null != packet.id) {\r\n\t\t\t\t\t\tdebug('attaching ack callback to event');\r\n\t\t\t\t\t\targs.push(this.ack(packet.id));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.connected) {\r\n\t\t\t\t\t\temit.apply(this, args);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.receiveBuffer.push(args);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Produces an ack callback to emit with an event.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.ack = function (id) {\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tvar sent = false;\r\n\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\t// prevent double callbacks\r\n\t\t\t\t\t\tif (sent) return;\r\n\t\t\t\t\t\tsent = true;\r\n\t\t\t\t\t\tvar args = toArray(arguments);\r\n\t\t\t\t\t\tdebug('sending ack %j', args);\r\n\r\n\t\t\t\t\t\tvar type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\r\n\t\t\t\t\t\tself.packet({\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\tdata: args\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon a server acknowlegement.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onack = function (packet) {\r\n\t\t\t\t\tvar ack = this.acks[packet.id];\r\n\t\t\t\t\tif ('function' == typeof ack) {\r\n\t\t\t\t\t\tdebug('calling ack %s with %j', packet.id, packet.data);\r\n\t\t\t\t\t\tack.apply(this, packet.data);\r\n\t\t\t\t\t\tdelete this.acks[packet.id];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdebug('bad ack %s', packet.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon server connect.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.onconnect = function () {\r\n\t\t\t\t\tthis.connected = true;\r\n\t\t\t\t\tthis.disconnected = false;\r\n\t\t\t\t\tthis.emit('connect');\r\n\t\t\t\t\tthis.emitBuffered();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Emit buffered events (received and emitted).\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.emitBuffered = function () {\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tfor (i = 0; i < this.receiveBuffer.length; i++) {\r\n\t\t\t\t\t\temit.apply(this, this.receiveBuffer[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.receiveBuffer = [];\r\n\r\n\t\t\t\t\tfor (i = 0; i < this.sendBuffer.length; i++) {\r\n\t\t\t\t\t\tthis.packet(this.sendBuffer[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.sendBuffer = [];\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon server disconnect.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.ondisconnect = function () {\r\n\t\t\t\t\tdebug('server disconnect (%s)', this.nsp);\r\n\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\tthis.onclose('io server disconnect');\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Called upon forced client/server side disconnections,\r\n\t\t\t\t * this method ensures the manager stops tracking us and\r\n\t\t\t\t * that reconnections don't get triggered for this.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.destroy = function () {\r\n\t\t\t\t\tif (this.subs) {\r\n\t\t\t\t\t\t// clean subscriptions to avoid reconnections\r\n\t\t\t\t\t\tfor (var i = 0; i < this.subs.length; i++) {\r\n\t\t\t\t\t\t\tthis.subs[i].destroy();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.subs = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.io.destroy(this);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Disconnects the socket manually.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Socket} self\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.close =\r\n\t\t\t\t\tSocket.prototype.disconnect = function () {\r\n\t\t\t\t\t\tif (this.connected) {\r\n\t\t\t\t\t\t\tdebug('performing disconnect (%s)', this.nsp);\r\n\t\t\t\t\t\t\tthis.packet({\r\n\t\t\t\t\t\t\t\ttype: parser.DISCONNECT\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// remove socket from pool\r\n\t\t\t\t\t\tthis.destroy();\r\n\r\n\t\t\t\t\t\tif (this.connected) {\r\n\t\t\t\t\t\t\t// fire events\r\n\t\t\t\t\t\t\tthis.onclose('io client disconnect');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the compress flag.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Boolean} if `true`, compresses the sending data\r\n\t\t\t\t * @return {Socket} self\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tSocket.prototype.compress = function (compress) {\r\n\t\t\t\t\tthis.flags = this.flags || {};\r\n\t\t\t\t\tthis.flags.compress = compress;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./on\": 33,\r\n\t\t\t\t\"component-bind\": 37,\r\n\t\t\t\t\"component-emitter\": 38,\r\n\t\t\t\t\"debug\": 39,\r\n\t\t\t\t\"has-binary\": 41,\r\n\t\t\t\t\"socket.io-parser\": 47,\r\n\t\t\t\t\"to-array\": 51\r\n\t\t\t}],\r\n\t\t\t35: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module dependencies.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar parseuri = _dereq_('parseuri');\r\n\t\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:url');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = url;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * URL parser.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {String} url\r\n\t\t\t\t\t * @param {Object} An object meant to mimic window.location.\r\n\t\t\t\t\t *                 Defaults to window.location.\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction url(uri, loc) {\r\n\t\t\t\t\t\tvar obj = uri;\r\n\r\n\t\t\t\t\t\t// default to window.location\r\n\t\t\t\t\t\tvar loc = loc || global.location;\r\n\t\t\t\t\t\tif (null == uri) uri = loc.protocol + '//' + loc.host;\r\n\r\n\t\t\t\t\t\t// relative path support\r\n\t\t\t\t\t\tif ('string' == typeof uri) {\r\n\t\t\t\t\t\t\tif ('/' == uri.charAt(0)) {\r\n\t\t\t\t\t\t\t\tif ('/' == uri.charAt(1)) {\r\n\t\t\t\t\t\t\t\t\turi = loc.protocol + uri;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\turi = loc.host + uri;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!/^(https?|wss?):\\/\\//.test(uri)) {\r\n\t\t\t\t\t\t\t\tdebug('protocol-less url %s', uri);\r\n\t\t\t\t\t\t\t\tif ('undefined' != typeof loc) {\r\n\t\t\t\t\t\t\t\t\turi = loc.protocol + '//' + uri;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\turi = 'https://' + uri;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// parse\r\n\t\t\t\t\t\t\tdebug('parse %s', uri);\r\n\t\t\t\t\t\t\tobj = parseuri(uri);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// make sure we treat `localhost:80` and `localhost` equally\r\n\t\t\t\t\t\tif (!obj.port) {\r\n\t\t\t\t\t\t\tif (/^(http|ws)$/.test(obj.protocol)) {\r\n\t\t\t\t\t\t\t\tobj.port = '80';\r\n\t\t\t\t\t\t\t} else if (/^(http|ws)s$/.test(obj.protocol)) {\r\n\t\t\t\t\t\t\t\tobj.port = '443';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobj.path = obj.path || '/';\r\n\r\n\t\t\t\t\t\tvar ipv6 = obj.host.indexOf(':') !== -1;\r\n\t\t\t\t\t\tvar host = ipv6 ? '[' + obj.host + ']' : obj.host;\r\n\r\n\t\t\t\t\t\t// define unique id\r\n\t\t\t\t\t\tobj.id = obj.protocol + '://' + host + ':' + obj.port;\r\n\t\t\t\t\t\t// define href\r\n\t\t\t\t\t\tobj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\r\n\r\n\t\t\t\t\t\treturn obj;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"debug\": 39,\r\n\t\t\t\t\"parseuri\": 45\r\n\t\t\t}],\r\n\t\t\t36: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Expose `Backoff`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Backoff;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Initialize backoff timer with `opts`.\r\n\t\t\t\t *\r\n\t\t\t\t * - `min` initial timeout in milliseconds [100]\r\n\t\t\t\t * - `max` max timeout [10000]\r\n\t\t\t\t * - `jitter` [0]\r\n\t\t\t\t * - `factor` [2]\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} opts\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Backoff(opts) {\r\n\t\t\t\t\topts = opts || {};\r\n\t\t\t\t\tthis.ms = opts.min || 100;\r\n\t\t\t\t\tthis.max = opts.max || 10000;\r\n\t\t\t\t\tthis.factor = opts.factor || 2;\r\n\t\t\t\t\tthis.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\r\n\t\t\t\t\tthis.attempts = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Return the backoff duration.\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Number}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBackoff.prototype.duration = function () {\r\n\t\t\t\t\tvar ms = this.ms * Math.pow(this.factor, this.attempts++);\r\n\t\t\t\t\tif (this.jitter) {\r\n\t\t\t\t\t\tvar rand = Math.random();\r\n\t\t\t\t\t\tvar deviation = Math.floor(rand * this.jitter * ms);\r\n\t\t\t\t\t\tms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Math.min(ms, this.max) | 0;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Reset the number of attempts.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBackoff.prototype.reset = function () {\r\n\t\t\t\t\tthis.attempts = 0;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Set the minimum duration\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBackoff.prototype.setMin = function (min) {\r\n\t\t\t\t\tthis.ms = min;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Set the maximum duration\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBackoff.prototype.setMax = function (max) {\r\n\t\t\t\t\tthis.max = max;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Set the jitter\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBackoff.prototype.setJitter = function (jitter) {\r\n\t\t\t\t\tthis.jitter = jitter;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t}, {}],\r\n\t\t\t37: [function (_dereq_, module, exports) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Slice reference.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar slice = [].slice;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Bind `obj` to `fn`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} obj\r\n\t\t\t\t * @param {Function|String} fn or string\r\n\t\t\t\t * @return {Function}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = function (obj, fn) {\r\n\t\t\t\t\tif ('string' == typeof fn) fn = obj[fn];\r\n\t\t\t\t\tif ('function' != typeof fn) throw new Error('bind() requires a function');\r\n\t\t\t\t\tvar args = slice.call(arguments, 2);\r\n\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\treturn fn.apply(obj, args.concat(slice.call(arguments)));\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t38: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Expose `Emitter`.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tmodule.exports = Emitter;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Initialize a new `Emitter`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Emitter(obj) {\r\n\t\t\t\t\tif (obj) return mixin(obj);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mixin the emitter properties.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} obj\r\n\t\t\t\t * @return {Object}\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction mixin(obj) {\r\n\t\t\t\t\tfor (var key in Emitter.prototype) {\r\n\t\t\t\t\t\tobj[key] = Emitter.prototype[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Listen on the given `event` with `fn`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.on =\r\n\t\t\t\t\tEmitter.prototype.addEventListener = function (event, fn) {\r\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\t\t(this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n\t\t\t\t\t\t.push(fn);\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Adds an `event` listener that will be invoked a single\r\n\t\t\t\t * time then automatically removed.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.once = function (event, fn) {\r\n\t\t\t\t\tfunction on() {\r\n\t\t\t\t\t\tthis.off(event, on);\r\n\t\t\t\t\t\tfn.apply(this, arguments);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ton.fn = fn;\r\n\t\t\t\t\tthis.on(event, on);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Remove the given callback for `event` or all\r\n\t\t\t\t * registered callbacks.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Function} fn\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.off =\r\n\t\t\t\t\tEmitter.prototype.removeListener =\r\n\t\t\t\t\tEmitter.prototype.removeAllListeners =\r\n\t\t\t\t\tEmitter.prototype.removeEventListener = function (event, fn) {\r\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\r\n\t\t\t\t\t\t// all\r\n\t\t\t\t\t\tif (0 == arguments.length) {\r\n\t\t\t\t\t\t\tthis._callbacks = {};\r\n\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// specific event\r\n\t\t\t\t\t\tvar callbacks = this._callbacks['$' + event];\r\n\t\t\t\t\t\tif (!callbacks) return this;\r\n\r\n\t\t\t\t\t\t// remove all handlers\r\n\t\t\t\t\t\tif (1 == arguments.length) {\r\n\t\t\t\t\t\t\tdelete this._callbacks['$' + event];\r\n\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// remove specific handler\r\n\t\t\t\t\t\tvar cb;\r\n\t\t\t\t\t\tfor (var i = 0; i < callbacks.length; i++) {\r\n\t\t\t\t\t\t\tcb = callbacks[i];\r\n\t\t\t\t\t\t\tif (cb === fn || cb.fn === fn) {\r\n\t\t\t\t\t\t\t\tcallbacks.splice(i, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Emit `event` with the given args.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @param {Mixed} ...\r\n\t\t\t\t * @return {Emitter}\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.emit = function (event) {\r\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\tvar args = [].slice.call(arguments, 1),\r\n\t\t\t\t\t\tcallbacks = this._callbacks['$' + event];\r\n\r\n\t\t\t\t\tif (callbacks) {\r\n\t\t\t\t\t\tcallbacks = callbacks.slice(0);\r\n\t\t\t\t\t\tfor (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t\t\t\t\t\t\tcallbacks[i].apply(this, args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Return array of callbacks for `event`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @return {Array}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.listeners = function (event) {\r\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\r\n\t\t\t\t\treturn this._callbacks['$' + event] || [];\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Check if this emitter has `event` handlers.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} event\r\n\t\t\t\t * @return {Boolean}\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter.prototype.hasListeners = function (event) {\r\n\t\t\t\t\treturn !!this.listeners(event).length;\r\n\t\t\t\t};\r\n\r\n\t\t\t}, {}],\r\n\t\t\t39: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][17][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"./debug\": 40,\r\n\t\t\t\t\"dup\": 17\r\n\t\t\t}],\r\n\t\t\t40: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][18][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 18,\r\n\t\t\t\t\"ms\": 44\r\n\t\t\t}],\r\n\t\t\t41: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Module requirements.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar isArray = _dereq_('isarray');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module exports.\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tmodule.exports = hasBinary;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Checks for binary data.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * Right now only Buffer and ArrayBuffer are supported..\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} anything\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction hasBinary(data) {\r\n\r\n\t\t\t\t\t\tfunction _hasBinary(obj) {\r\n\t\t\t\t\t\t\tif (!obj) return false;\r\n\r\n\t\t\t\t\t\t\tif ((global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\r\n\t\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer) ||\r\n\t\t\t\t\t\t\t\t(global.Blob && obj instanceof Blob) ||\r\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (isArray(obj)) {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (_hasBinary(obj[i])) {\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj) {\r\n\t\t\t\t\t\t\t\t// see: https://github.com/Automattic/has-binary/pull/4\r\n\t\t\t\t\t\t\t\tif (obj.toJSON && 'function' == typeof obj.toJSON) {\r\n\t\t\t\t\t\t\t\t\tobj = obj.toJSON();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tfor (var key in obj) {\r\n\t\t\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn _hasBinary(data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"isarray\": 43\r\n\t\t\t}],\r\n\t\t\t42: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][23][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 23\r\n\t\t\t}],\r\n\t\t\t43: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][24][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 24\r\n\t\t\t}],\r\n\t\t\t44: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][25][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 25\r\n\t\t\t}],\r\n\t\t\t45: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][28][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 28\r\n\t\t\t}],\r\n\t\t\t46: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/*global Blob,File*/\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Module requirements\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tvar isArray = _dereq_('isarray');\r\n\t\t\t\t\tvar isBuf = _dereq_('./is-buffer');\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\r\n\t\t\t\t\t * Anything with blobs or files should be fed through removeBlobs before coming\r\n\t\t\t\t\t * here.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} packet - socket.io event packet\r\n\t\t\t\t\t * @return {Object} with deconstructed packet and list of buffers\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.deconstructPacket = function (packet) {\r\n\t\t\t\t\t\tvar buffers = [];\r\n\t\t\t\t\t\tvar packetData = packet.data;\r\n\r\n\t\t\t\t\t\tfunction _deconstructPacket(data) {\r\n\t\t\t\t\t\t\tif (!data) return data;\r\n\r\n\t\t\t\t\t\t\tif (isBuf(data)) {\r\n\t\t\t\t\t\t\t\tvar placeholder = {\r\n\t\t\t\t\t\t\t\t\t_placeholder: true,\r\n\t\t\t\t\t\t\t\t\tnum: buffers.length\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tbuffers.push(data);\r\n\t\t\t\t\t\t\t\treturn placeholder;\r\n\t\t\t\t\t\t\t} else if (isArray(data)) {\r\n\t\t\t\t\t\t\t\tvar newData = new Array(data.length);\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\t\t\tnewData[i] = _deconstructPacket(data[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn newData;\r\n\t\t\t\t\t\t\t} else if ('object' == typeof data && !(data instanceof Date)) {\r\n\t\t\t\t\t\t\t\tvar newData = {};\r\n\t\t\t\t\t\t\t\tfor (var key in data) {\r\n\t\t\t\t\t\t\t\t\tnewData[key] = _deconstructPacket(data[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn newData;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar pack = packet;\r\n\t\t\t\t\t\tpack.data = _deconstructPacket(packetData);\r\n\t\t\t\t\t\tpack.attachments = buffers.length; // number of binary 'attachments'\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tpacket: pack,\r\n\t\t\t\t\t\t\tbuffers: buffers\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Reconstructs a binary packet from its placeholder packet and buffers\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} packet - event packet with placeholders\r\n\t\t\t\t\t * @param {Array} buffers - binary buffers to put in placeholder positions\r\n\t\t\t\t\t * @return {Object} reconstructed packet\r\n\t\t\t\t\t * @api public\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.reconstructPacket = function (packet, buffers) {\r\n\t\t\t\t\t\tvar curPlaceHolder = 0;\r\n\r\n\t\t\t\t\t\tfunction _reconstructPacket(data) {\r\n\t\t\t\t\t\t\tif (data && data._placeholder) {\r\n\t\t\t\t\t\t\t\tvar buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\r\n\t\t\t\t\t\t\t\treturn buf;\r\n\t\t\t\t\t\t\t} else if (isArray(data)) {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\t\t\tdata[i] = _reconstructPacket(data[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t\t} else if (data && 'object' == typeof data) {\r\n\t\t\t\t\t\t\t\tfor (var key in data) {\r\n\t\t\t\t\t\t\t\t\tdata[key] = _reconstructPacket(data[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpacket.data = _reconstructPacket(packet.data);\r\n\t\t\t\t\t\tpacket.attachments = undefined; // no longer useful\r\n\t\t\t\t\t\treturn packet;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Asynchronously removes Blobs or Files from data via\r\n\t\t\t\t\t * FileReader's readAsArrayBuffer method. Used before encoding\r\n\t\t\t\t\t * data as msgpack. Calls callback with the blobless data.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @param {Object} data\r\n\t\t\t\t\t * @param {Function} callback\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\texports.removeBlobs = function (data, callback) {\r\n\t\t\t\t\t\tfunction _removeBlobs(obj, curKey, containingObject) {\r\n\t\t\t\t\t\t\tif (!obj) return obj;\r\n\r\n\t\t\t\t\t\t\t// convert any blob\r\n\t\t\t\t\t\t\tif ((global.Blob && obj instanceof Blob) ||\r\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)) {\r\n\t\t\t\t\t\t\t\tpendingBlobs++;\r\n\r\n\t\t\t\t\t\t\t\t// async filereader\r\n\t\t\t\t\t\t\t\tvar fileReader = new FileReader();\r\n\t\t\t\t\t\t\t\tfileReader.onload = function () { // this.result == arraybuffer\r\n\t\t\t\t\t\t\t\t\tif (containingObject) {\r\n\t\t\t\t\t\t\t\t\t\tcontainingObject[curKey] = this.result;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tbloblessData = this.result;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// if nothing pending its callback time\r\n\t\t\t\t\t\t\t\t\tif (!--pendingBlobs) {\r\n\t\t\t\t\t\t\t\t\t\tcallback(bloblessData);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\tfileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\r\n\t\t\t\t\t\t\t} else if (isArray(obj)) { // handle array\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\r\n\t\t\t\t\t\t\t\t\t_removeBlobs(obj[i], i, obj);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\r\n\t\t\t\t\t\t\t\tfor (var key in obj) {\r\n\t\t\t\t\t\t\t\t\t_removeBlobs(obj[key], key, obj);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar pendingBlobs = 0;\r\n\t\t\t\t\t\tvar bloblessData = data;\r\n\t\t\t\t\t\t_removeBlobs(bloblessData);\r\n\t\t\t\t\t\tif (!pendingBlobs) {\r\n\t\t\t\t\t\t\tcallback(bloblessData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {\r\n\t\t\t\t\"./is-buffer\": 48,\r\n\t\t\t\t\"isarray\": 43\r\n\t\t\t}],\r\n\t\t\t47: [function (_dereq_, module, exports) {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Module dependencies.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-parser');\r\n\t\t\t\tvar json = _dereq_('json3');\r\n\t\t\t\tvar isArray = _dereq_('isarray');\r\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\r\n\t\t\t\tvar binary = _dereq_('./binary');\r\n\t\t\t\tvar isBuf = _dereq_('./is-buffer');\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Protocol version.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.protocol = 4;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet types.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.types = [\r\n\t\t\t\t\t'CONNECT',\r\n\t\t\t\t\t'DISCONNECT',\r\n\t\t\t\t\t'EVENT',\r\n\t\t\t\t\t'BINARY_EVENT',\r\n\t\t\t\t\t'ACK',\r\n\t\t\t\t\t'BINARY_ACK',\r\n\t\t\t\t\t'ERROR'\r\n\t\t\t\t];\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `connect`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.CONNECT = 0;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `disconnect`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.DISCONNECT = 1;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `event`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.EVENT = 2;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `ack`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.ACK = 3;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `error`.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.ERROR = 4;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type 'binary event'\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.BINARY_EVENT = 5;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Packet type `binary ack`. For acks with binary arguments.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.BINARY_ACK = 6;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Encoder constructor.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.Encoder = Encoder;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Decoder constructor.\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\texports.Decoder = Decoder;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * A socket.io Encoder instance\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Encoder() {}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Encode a packet as a single string if non-binary, or as a\r\n\t\t\t\t * buffer sequence, depending on packet type.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} obj - packet object\r\n\t\t\t\t * @param {Function} callback - function to handle encodings (likely engine.write)\r\n\t\t\t\t * @return Calls callback with Array of encodings\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEncoder.prototype.encode = function (obj, callback) {\r\n\t\t\t\t\tdebug('encoding packet %j', obj);\r\n\r\n\t\t\t\t\tif (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\r\n\t\t\t\t\t\tencodeAsBinary(obj, callback);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar encoding = encodeAsString(obj);\r\n\t\t\t\t\t\tcallback([encoding]);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Encode packet as string.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @return {String} encoded\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction encodeAsString(obj) {\r\n\t\t\t\t\tvar str = '';\r\n\t\t\t\t\tvar nsp = false;\r\n\r\n\t\t\t\t\t// first is type\r\n\t\t\t\t\tstr += obj.type;\r\n\r\n\t\t\t\t\t// attachments if we have them\r\n\t\t\t\t\tif (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\r\n\t\t\t\t\t\tstr += obj.attachments;\r\n\t\t\t\t\t\tstr += '-';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if we have a namespace other than `/`\r\n\t\t\t\t\t// we append it followed by a comma `,`\r\n\t\t\t\t\tif (obj.nsp && '/' != obj.nsp) {\r\n\t\t\t\t\t\tnsp = true;\r\n\t\t\t\t\t\tstr += obj.nsp;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// immediately followed by the id\r\n\t\t\t\t\tif (null != obj.id) {\r\n\t\t\t\t\t\tif (nsp) {\r\n\t\t\t\t\t\t\tstr += ',';\r\n\t\t\t\t\t\t\tnsp = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstr += obj.id;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// json data\r\n\t\t\t\t\tif (null != obj.data) {\r\n\t\t\t\t\t\tif (nsp) str += ',';\r\n\t\t\t\t\t\tstr += json.stringify(obj.data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdebug('encoded %j as %s', obj, str);\r\n\t\t\t\t\treturn str;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Encode packet as 'buffer sequence' by removing blobs, and\r\n\t\t\t\t * deconstructing packet into object with placeholders and\r\n\t\t\t\t * a list of buffers.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @return {Buffer} encoded\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction encodeAsBinary(obj, callback) {\r\n\r\n\t\t\t\t\tfunction writeEncoding(bloblessData) {\r\n\t\t\t\t\t\tvar deconstruction = binary.deconstructPacket(bloblessData);\r\n\t\t\t\t\t\tvar pack = encodeAsString(deconstruction.packet);\r\n\t\t\t\t\t\tvar buffers = deconstruction.buffers;\r\n\r\n\t\t\t\t\t\tbuffers.unshift(pack); // add packet info to beginning of data list\r\n\t\t\t\t\t\tcallback(buffers); // write all the buffers\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbinary.removeBlobs(obj, writeEncoding);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * A socket.io Decoder instance\r\n\t\t\t\t *\r\n\t\t\t\t * @return {Object} decoder\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction Decoder() {\r\n\t\t\t\t\tthis.reconstructor = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Mix in `Emitter` with Decoder.\r\n\t\t\t\t */\r\n\r\n\t\t\t\tEmitter(Decoder.prototype);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Decodes an ecoded packet string into packet JSON.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} obj - encoded packet\r\n\t\t\t\t * @return {Object} packet\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tDecoder.prototype.add = function (obj) {\r\n\t\t\t\t\tvar packet;\r\n\t\t\t\t\tif ('string' == typeof obj) {\r\n\t\t\t\t\t\tpacket = decodeString(obj);\r\n\t\t\t\t\t\tif (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\r\n\t\t\t\t\t\t\tthis.reconstructor = new BinaryReconstructor(packet);\r\n\r\n\t\t\t\t\t\t\t// no attachments, labeled binary but no binary data to follow\r\n\t\t\t\t\t\t\tif (this.reconstructor.reconPack.attachments === 0) {\r\n\t\t\t\t\t\t\t\tthis.emit('decoded', packet);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else { // non-binary full packet\r\n\t\t\t\t\t\t\tthis.emit('decoded', packet);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (isBuf(obj) || obj.base64) { // raw binary data\r\n\t\t\t\t\t\tif (!this.reconstructor) {\r\n\t\t\t\t\t\t\tthrow new Error('got binary data when not reconstructing a packet');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpacket = this.reconstructor.takeBinaryData(obj);\r\n\t\t\t\t\t\t\tif (packet) { // received final buffer\r\n\t\t\t\t\t\t\t\tthis.reconstructor = null;\r\n\t\t\t\t\t\t\t\tthis.emit('decoded', packet);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error('Unknown type: ' + obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Decode a packet String (JSON data)\r\n\t\t\t\t *\r\n\t\t\t\t * @param {String} str\r\n\t\t\t\t * @return {Object} packet\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction decodeString(str) {\r\n\t\t\t\t\tvar p = {};\r\n\t\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\t\t// look up type\r\n\t\t\t\t\tp.type = Number(str.charAt(0));\r\n\t\t\t\t\tif (null == exports.types[p.type]) return error();\r\n\r\n\t\t\t\t\t// look up attachments if type binary\r\n\t\t\t\t\tif (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\r\n\t\t\t\t\t\tvar buf = '';\r\n\t\t\t\t\t\twhile (str.charAt(++i) != '-') {\r\n\t\t\t\t\t\t\tbuf += str.charAt(i);\r\n\t\t\t\t\t\t\tif (i == str.length) break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (buf != Number(buf) || str.charAt(i) != '-') {\r\n\t\t\t\t\t\t\tthrow new Error('Illegal attachments');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp.attachments = Number(buf);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// look up namespace (if any)\r\n\t\t\t\t\tif ('/' == str.charAt(i + 1)) {\r\n\t\t\t\t\t\tp.nsp = '';\r\n\t\t\t\t\t\twhile (++i) {\r\n\t\t\t\t\t\t\tvar c = str.charAt(i);\r\n\t\t\t\t\t\t\tif (',' == c) break;\r\n\t\t\t\t\t\t\tp.nsp += c;\r\n\t\t\t\t\t\t\tif (i == str.length) break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tp.nsp = '/';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// look up id\r\n\t\t\t\t\tvar next = str.charAt(i + 1);\r\n\t\t\t\t\tif ('' !== next && Number(next) == next) {\r\n\t\t\t\t\t\tp.id = '';\r\n\t\t\t\t\t\twhile (++i) {\r\n\t\t\t\t\t\t\tvar c = str.charAt(i);\r\n\t\t\t\t\t\t\tif (null == c || Number(c) != c) {\r\n\t\t\t\t\t\t\t\t--i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tp.id += str.charAt(i);\r\n\t\t\t\t\t\t\tif (i == str.length) break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp.id = Number(p.id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// look up json data\r\n\t\t\t\t\tif (str.charAt(++i)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tp.data = json.parse(str.substr(i));\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\treturn error();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdebug('decoded %s as %j', str, p);\r\n\t\t\t\t\treturn p;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Deallocates a parser's resources\r\n\t\t\t\t *\r\n\t\t\t\t * @api public\r\n\t\t\t\t */\r\n\r\n\t\t\t\tDecoder.prototype.destroy = function () {\r\n\t\t\t\t\tif (this.reconstructor) {\r\n\t\t\t\t\t\tthis.reconstructor.finishedReconstruction();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * A manager of a binary event's 'buffer sequence'. Should\r\n\t\t\t\t * be constructed whenever a packet of type BINARY_EVENT is\r\n\t\t\t\t * decoded.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Object} packet\r\n\t\t\t\t * @return {BinaryReconstructor} initialized reconstructor\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tfunction BinaryReconstructor(packet) {\r\n\t\t\t\t\tthis.reconPack = packet;\r\n\t\t\t\t\tthis.buffers = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Method to be called when binary data received from connection\r\n\t\t\t\t * after a BINARY_EVENT packet.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {Buffer | ArrayBuffer} binData - the raw binary data received\r\n\t\t\t\t * @return {null | Object} returns null if more binary data is expected or\r\n\t\t\t\t *   a reconstructed packet object if all buffers have been received.\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBinaryReconstructor.prototype.takeBinaryData = function (binData) {\r\n\t\t\t\t\tthis.buffers.push(binData);\r\n\t\t\t\t\tif (this.buffers.length == this.reconPack.attachments) { // done with buffer list\r\n\t\t\t\t\t\tvar packet = binary.reconstructPacket(this.reconPack, this.buffers);\r\n\t\t\t\t\t\tthis.finishedReconstruction();\r\n\t\t\t\t\t\treturn packet;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Cleans up binary packet reconstruction variables.\r\n\t\t\t\t *\r\n\t\t\t\t * @api private\r\n\t\t\t\t */\r\n\r\n\t\t\t\tBinaryReconstructor.prototype.finishedReconstruction = function () {\r\n\t\t\t\t\tthis.reconPack = null;\r\n\t\t\t\t\tthis.buffers = [];\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfunction error(data) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: exports.ERROR,\r\n\t\t\t\t\t\tdata: 'parser error'\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {\r\n\t\t\t\t\"./binary\": 46,\r\n\t\t\t\t\"./is-buffer\": 48,\r\n\t\t\t\t\"component-emitter\": 49,\r\n\t\t\t\t\"debug\": 39,\r\n\t\t\t\t\"isarray\": 43,\r\n\t\t\t\t\"json3\": 50\r\n\t\t\t}],\r\n\t\t\t48: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\r\n\t\t\t\t\tmodule.exports = isBuf;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Returns true if obj is a buffer or an arraybuffer.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * @api private\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\tfunction isBuf(obj) {\r\n\t\t\t\t\t\treturn (global.Buffer && global.Buffer.isBuffer(obj)) ||\r\n\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {}],\r\n\t\t\t49: [function (_dereq_, module, exports) {\r\n\t\t\t\targuments[4][15][0].apply(exports, arguments)\r\n\t\t\t}, {\r\n\t\t\t\t\"dup\": 15\r\n\t\t\t}],\r\n\t\t\t50: [function (_dereq_, module, exports) {\r\n\t\t\t\t(function (global) {\r\n\t\t\t\t\t/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\r\n\t\t\t\t\t;\r\n\t\t\t\t\t(function () {\r\n\t\t\t\t\t\t// Detect the `define` function exposed by asynchronous module loaders. The\r\n\t\t\t\t\t\t// strict `define` check is necessary for compatibility with `r.js`.\r\n\t\t\t\t\t\tvar isLoader = typeof define === \"function\" && define.amd;\r\n\r\n\t\t\t\t\t\t// A set of types used to distinguish objects from primitives.\r\n\t\t\t\t\t\tvar objectTypes = {\r\n\t\t\t\t\t\t\t\"function\": true,\r\n\t\t\t\t\t\t\t\"object\": true\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Detect the `exports` object exposed by CommonJS implementations.\r\n\t\t\t\t\t\tvar freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\r\n\r\n\t\t\t\t\t\t// Use the `global` object exposed by Node (including Browserify via\r\n\t\t\t\t\t\t// `insert-module-globals`), Narwhal, and Ringo as the default context,\r\n\t\t\t\t\t\t// and the `window` object in browsers. Rhino exports a `global` function\r\n\t\t\t\t\t\t// instead.\r\n\t\t\t\t\t\tvar root = objectTypes[typeof window] && window || this,\r\n\t\t\t\t\t\t\tfreeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\r\n\r\n\t\t\t\t\t\tif (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\r\n\t\t\t\t\t\t\troot = freeGlobal;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Public: Initializes JSON 3 using the given `context` object, attaching the\r\n\t\t\t\t\t\t// `stringify` and `parse` functions to the specified `exports` object.\r\n\t\t\t\t\t\tfunction runInContext(context, exports) {\r\n\t\t\t\t\t\t\tcontext || (context = root[\"Object\"]());\r\n\t\t\t\t\t\t\texports || (exports = root[\"Object\"]());\r\n\r\n\t\t\t\t\t\t\t// Native constructor aliases.\r\n\t\t\t\t\t\t\tvar Number = context[\"Number\"] || root[\"Number\"],\r\n\t\t\t\t\t\t\t\tString = context[\"String\"] || root[\"String\"],\r\n\t\t\t\t\t\t\t\tObject = context[\"Object\"] || root[\"Object\"],\r\n\t\t\t\t\t\t\t\tDate = context[\"Date\"] || root[\"Date\"],\r\n\t\t\t\t\t\t\t\tSyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\r\n\t\t\t\t\t\t\t\tTypeError = context[\"TypeError\"] || root[\"TypeError\"],\r\n\t\t\t\t\t\t\t\tMath = context[\"Math\"] || root[\"Math\"],\r\n\t\t\t\t\t\t\t\tnativeJSON = context[\"JSON\"] || root[\"JSON\"];\r\n\r\n\t\t\t\t\t\t\t// Delegate to the native `stringify` and `parse` implementations.\r\n\t\t\t\t\t\t\tif (typeof nativeJSON == \"object\" && nativeJSON) {\r\n\t\t\t\t\t\t\t\texports.stringify = nativeJSON.stringify;\r\n\t\t\t\t\t\t\t\texports.parse = nativeJSON.parse;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Convenience aliases.\r\n\t\t\t\t\t\t\tvar objectProto = Object.prototype,\r\n\t\t\t\t\t\t\t\tgetClass = objectProto.toString,\r\n\t\t\t\t\t\t\t\tisProperty, forEach, undef;\r\n\r\n\t\t\t\t\t\t\t// Test the `Date#getUTC*` methods. Based on work by @Yaffle.\r\n\t\t\t\t\t\t\tvar isExtended = new Date(-3509827334573292);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\r\n\t\t\t\t\t\t\t\t// results for certain dates in Opera >= 10.53.\r\n\t\t\t\t\t\t\t\tisExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\r\n\t\t\t\t\t\t\t\t\t// Safari < 2.0.2 stores the internal millisecond time value correctly,\r\n\t\t\t\t\t\t\t\t\t// but clips the values returned by the date methods to the range of\r\n\t\t\t\t\t\t\t\t\t// signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\r\n\t\t\t\t\t\t\t\t\tisExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\r\n\t\t\t\t\t\t\t} catch (exception) {}\r\n\r\n\t\t\t\t\t\t\t// Internal: Determines whether the native `JSON.stringify` and `parse`\r\n\t\t\t\t\t\t\t// implementations are spec-compliant. Based on work by Ken Snyder.\r\n\t\t\t\t\t\t\tfunction has(name) {\r\n\t\t\t\t\t\t\t\tif (has[name] !== undef) {\r\n\t\t\t\t\t\t\t\t\t// Return cached feature test result.\r\n\t\t\t\t\t\t\t\t\treturn has[name];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar isSupported;\r\n\t\t\t\t\t\t\t\tif (name == \"bug-string-char-index\") {\r\n\t\t\t\t\t\t\t\t\t// IE <= 7 doesn't support accessing string characters using square\r\n\t\t\t\t\t\t\t\t\t// bracket notation. IE 8 only supports this for primitives.\r\n\t\t\t\t\t\t\t\t\tisSupported = \"a\" [0] != \"a\";\r\n\t\t\t\t\t\t\t\t} else if (name == \"json\") {\r\n\t\t\t\t\t\t\t\t\t// Indicates whether both `JSON.stringify` and `JSON.parse` are\r\n\t\t\t\t\t\t\t\t\t// supported.\r\n\t\t\t\t\t\t\t\t\tisSupported = has(\"json-stringify\") && has(\"json-parse\");\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\r\n\t\t\t\t\t\t\t\t\t// Test `JSON.stringify`.\r\n\t\t\t\t\t\t\t\t\tif (name == \"json-stringify\") {\r\n\t\t\t\t\t\t\t\t\t\tvar stringify = exports.stringify,\r\n\t\t\t\t\t\t\t\t\t\t\tstringifySupported = typeof stringify == \"function\" && isExtended;\r\n\t\t\t\t\t\t\t\t\t\tif (stringifySupported) {\r\n\t\t\t\t\t\t\t\t\t\t\t// A test function object with a custom `toJSON` method.\r\n\t\t\t\t\t\t\t\t\t\t\t(value = function () {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t\t\t\t\t}).toJSON = value;\r\n\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstringifySupported =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Firefox 3.1b1 and b2 serialize string, number, and boolean\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// primitives as object literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(0) === \"0\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Number()) === \"0\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new String()) == '\"\"' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// does not define a canonical JSON representation (this applies to\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// objects with `toJSON` properties as well, *unless* they are nested\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// within an object or array).\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(getClass) === undef &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b3 pass this test.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(undef) === undef &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// respectively, if the value is omitted entirely.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify() === undef &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 throw an error if the given value is not a number,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// string, array, object, Boolean, or `null` literal. This applies to\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// objects with custom `toJSON` methods as well, unless they are nested\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// methods entirely.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(value) === \"1\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([value]) == \"[1]\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `\"[null]\"`.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([undef]) == \"[null]\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// YUI 3.0.0b1 fails to serialize `null` literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(null) == \"null\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 halts serialization if an array contains a function:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// elides non-JSON values from objects and arrays, unless they\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// define custom `toJSON` methods.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([undef, getClass, null]) == \"[null,null,null]\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Simple serialization test. FF 3.1b1 uses Unicode escape sequences\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// where character escape codes are expected (e.g., `\\b` => `\\u0008`).\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}) == serialized &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(null, value) === \"1\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// serialize extended years.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// The milliseconds are optional in ES 5, but required in 5.1.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// four-digit years instead of six-digit years. Credits: @Yaffle.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// values less than 1000. Credits: @Yaffle.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\r\n\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstringifySupported = false;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tisSupported = stringifySupported;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// Test `JSON.parse`.\r\n\t\t\t\t\t\t\t\t\tif (name == \"json-parse\") {\r\n\t\t\t\t\t\t\t\t\t\tvar parse = exports.parse;\r\n\t\t\t\t\t\t\t\t\t\tif (typeof parse == \"function\") {\r\n\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, b2 will throw an exception if a bare literal is provided.\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Conforming implementations should also coerce the initial argument to\r\n\t\t\t\t\t\t\t\t\t\t\t\t// a string prior to parsing.\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (parse(\"0\") === 0 && !parse(false)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Simple parsing test.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = parse(serialized);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = !parse('\"\\t\"');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 4.0 and 4.0.1 allow leading `+` signs and leading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// certain octal literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = parse(\"01\") !== 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// points. These environments, along with FF 3.1b1 and 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// also allow trailing commas in JSON objects and arrays.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = parse(\"1.\") !== 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = false;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tisSupported = parseSupported;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn has[name] = !!isSupported;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!has(\"json\")) {\r\n\t\t\t\t\t\t\t\t// Common `[[Class]]` name aliases.\r\n\t\t\t\t\t\t\t\tvar functionClass = \"[object Function]\",\r\n\t\t\t\t\t\t\t\t\tdateClass = \"[object Date]\",\r\n\t\t\t\t\t\t\t\t\tnumberClass = \"[object Number]\",\r\n\t\t\t\t\t\t\t\t\tstringClass = \"[object String]\",\r\n\t\t\t\t\t\t\t\t\tarrayClass = \"[object Array]\",\r\n\t\t\t\t\t\t\t\t\tbooleanClass = \"[object Boolean]\";\r\n\r\n\t\t\t\t\t\t\t\t// Detect incomplete support for accessing string characters by index.\r\n\t\t\t\t\t\t\t\tvar charIndexBuggy = has(\"bug-string-char-index\");\r\n\r\n\t\t\t\t\t\t\t\t// Define additional utility methods if the `Date` methods are buggy.\r\n\t\t\t\t\t\t\t\tif (!isExtended) {\r\n\t\t\t\t\t\t\t\t\tvar floor = Math.floor;\r\n\t\t\t\t\t\t\t\t\t// A mapping between the months of the year and the number of days between\r\n\t\t\t\t\t\t\t\t\t// January 1st and the first of the respective month.\r\n\t\t\t\t\t\t\t\t\tvar Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\r\n\t\t\t\t\t\t\t\t\t// Internal: Calculates the number of days between the Unix epoch and the\r\n\t\t\t\t\t\t\t\t\t// first day of the given month.\r\n\t\t\t\t\t\t\t\t\tvar getDay = function (year, month) {\r\n\t\t\t\t\t\t\t\t\t\treturn Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Internal: Determines if a property is a direct property of the given\r\n\t\t\t\t\t\t\t\t// object. Delegates to the native `Object#hasOwnProperty` method.\r\n\t\t\t\t\t\t\t\tif (!(isProperty = objectProto.hasOwnProperty)) {\r\n\t\t\t\t\t\t\t\t\tisProperty = function (property) {\r\n\t\t\t\t\t\t\t\t\t\tvar members = {},\r\n\t\t\t\t\t\t\t\t\t\t\tconstructor;\r\n\t\t\t\t\t\t\t\t\t\tif ((members.__proto__ = null, members.__proto__ = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// The *proto* property cannot be set multiple times in recent\r\n\t\t\t\t\t\t\t\t\t\t\t\t// versions of Firefox and SeaMonkey.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"toString\": 1\r\n\t\t\t\t\t\t\t\t\t\t\t}, members).toString != getClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\r\n\t\t\t\t\t\t\t\t\t\t\t// supports the mutable *proto* property.\r\n\t\t\t\t\t\t\t\t\t\t\tisProperty = function (property) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Capture and break the object's prototype chain (see section 8.6.2\r\n\t\t\t\t\t\t\t\t\t\t\t\t// of the ES 5.1 spec). The parenthesized expression prevents an\r\n\t\t\t\t\t\t\t\t\t\t\t\t// unsafe transformation by the Closure Compiler.\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar original = this.__proto__,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult = property in (this.__proto__ = null, this);\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Restore the original prototype chain.\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.__proto__ = original;\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// Capture a reference to the top-level `Object` constructor.\r\n\t\t\t\t\t\t\t\t\t\t\tconstructor = members.constructor;\r\n\t\t\t\t\t\t\t\t\t\t\t// Use the `constructor` property to simulate `Object#hasOwnProperty` in\r\n\t\t\t\t\t\t\t\t\t\t\t// other environments.\r\n\t\t\t\t\t\t\t\t\t\t\tisProperty = function (property) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar parent = (this.constructor || constructor).prototype;\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn property in this && !(property in parent && this[property] === parent[property]);\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tmembers = null;\r\n\t\t\t\t\t\t\t\t\t\treturn isProperty.call(this, property);\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Internal: Normalizes the `for...in` iteration algorithm across\r\n\t\t\t\t\t\t\t\t// environments. Each enumerated key is yielded to a `callback` function.\r\n\t\t\t\t\t\t\t\tforEach = function (object, callback) {\r\n\t\t\t\t\t\t\t\t\tvar size = 0,\r\n\t\t\t\t\t\t\t\t\t\tProperties, members, property;\r\n\r\n\t\t\t\t\t\t\t\t\t// Tests for bugs in the current environment's `for...in` algorithm. The\r\n\t\t\t\t\t\t\t\t\t// `valueOf` property inherits the non-enumerable flag from\r\n\t\t\t\t\t\t\t\t\t// `Object.prototype` in older versions of IE, Netscape, and Mozilla.\r\n\t\t\t\t\t\t\t\t\t(Properties = function () {\r\n\t\t\t\t\t\t\t\t\t\tthis.valueOf = 0;\r\n\t\t\t\t\t\t\t\t\t}).prototype.valueOf = 0;\r\n\r\n\t\t\t\t\t\t\t\t\t// Iterate over a new instance of the `Properties` class.\r\n\t\t\t\t\t\t\t\t\tmembers = new Properties();\r\n\t\t\t\t\t\t\t\t\tfor (property in members) {\r\n\t\t\t\t\t\t\t\t\t\t// Ignore all properties inherited from `Object.prototype`.\r\n\t\t\t\t\t\t\t\t\t\tif (isProperty.call(members, property)) {\r\n\t\t\t\t\t\t\t\t\t\t\tsize++;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tProperties = members = null;\r\n\r\n\t\t\t\t\t\t\t\t\t// Normalize the iteration algorithm.\r\n\t\t\t\t\t\t\t\t\tif (!size) {\r\n\t\t\t\t\t\t\t\t\t\t// A list of non-enumerable properties inherited from `Object.prototype`.\r\n\t\t\t\t\t\t\t\t\t\tmembers = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\r\n\t\t\t\t\t\t\t\t\t\t// IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\r\n\t\t\t\t\t\t\t\t\t\t// properties.\r\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar isFunction = getClass.call(object) == functionClass,\r\n\t\t\t\t\t\t\t\t\t\t\t\tproperty, length;\r\n\t\t\t\t\t\t\t\t\t\t\tvar hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\r\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Gecko <= 1.0 enumerates the `prototype` property of functions under\r\n\t\t\t\t\t\t\t\t\t\t\t\t// certain conditions; IE does not.\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Manually invoke the callback for each non-enumerable property.\r\n\t\t\t\t\t\t\t\t\t\t\tfor (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t} else if (size == 2) {\r\n\t\t\t\t\t\t\t\t\t\t// Safari <= 2.0.4 enumerates shadowed properties twice.\r\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Create a set of iterated properties.\r\n\t\t\t\t\t\t\t\t\t\t\tvar members = {},\r\n\t\t\t\t\t\t\t\t\t\t\t\tisFunction = getClass.call(object) == functionClass,\r\n\t\t\t\t\t\t\t\t\t\t\t\tproperty;\r\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Store each property name to prevent double enumeration. The\r\n\t\t\t\t\t\t\t\t\t\t\t\t// `prototype` property of functions is not enumerated due to cross-\r\n\t\t\t\t\t\t\t\t\t\t\t\t// environment inconsistencies.\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// No bugs detected; use the standard `for...in` algorithm.\r\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar isFunction = getClass.call(object) == functionClass,\r\n\t\t\t\t\t\t\t\t\t\t\t\tproperty, isConstructor;\r\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Manually invoke the callback for the `constructor` property due to\r\n\t\t\t\t\t\t\t\t\t\t\t// cross-environment inconsistencies.\r\n\t\t\t\t\t\t\t\t\t\t\tif (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn forEach(object, callback);\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t// Public: Serializes a JavaScript `value` as a JSON string. The optional\r\n\t\t\t\t\t\t\t\t// `filter` argument may specify either a function that alters how object and\r\n\t\t\t\t\t\t\t\t// array members are serialized, or an array of strings and numbers that\r\n\t\t\t\t\t\t\t\t// indicates which properties should be serialized. The optional `width`\r\n\t\t\t\t\t\t\t\t// argument may be either a string or number that specifies the indentation\r\n\t\t\t\t\t\t\t\t// level of the output.\r\n\t\t\t\t\t\t\t\tif (!has(\"json-stringify\")) {\r\n\t\t\t\t\t\t\t\t\t// Internal: A map of control characters and their escaped equivalents.\r\n\t\t\t\t\t\t\t\t\tvar Escapes = {\r\n\t\t\t\t\t\t\t\t\t\t92: \"\\\\\\\\\",\r\n\t\t\t\t\t\t\t\t\t\t34: '\\\\\"',\r\n\t\t\t\t\t\t\t\t\t\t8: \"\\\\b\",\r\n\t\t\t\t\t\t\t\t\t\t12: \"\\\\f\",\r\n\t\t\t\t\t\t\t\t\t\t10: \"\\\\n\",\r\n\t\t\t\t\t\t\t\t\t\t13: \"\\\\r\",\r\n\t\t\t\t\t\t\t\t\t\t9: \"\\\\t\"\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Converts `value` into a zero-padded string such that its\r\n\t\t\t\t\t\t\t\t\t// length is at least equal to `width`. The `width` must be <= 6.\r\n\t\t\t\t\t\t\t\t\tvar leadingZeroes = \"000000\";\r\n\t\t\t\t\t\t\t\t\tvar toPaddedString = function (width, value) {\r\n\t\t\t\t\t\t\t\t\t\t// The `|| 0` expression is necessary to work around a bug in\r\n\t\t\t\t\t\t\t\t\t\t// Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\r\n\t\t\t\t\t\t\t\t\t\treturn (leadingZeroes + (value || 0)).slice(-width);\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Double-quotes a string `value`, replacing all ASCII control\r\n\t\t\t\t\t\t\t\t\t// characters (characters with code unit values between 0 and 31) with\r\n\t\t\t\t\t\t\t\t\t// their escaped equivalents. This is an implementation of the\r\n\t\t\t\t\t\t\t\t\t// `Quote(value)` operation defined in ES 5.1 section 15.12.3.\r\n\t\t\t\t\t\t\t\t\tvar unicodePrefix = \"\\\\u00\";\r\n\t\t\t\t\t\t\t\t\tvar quote = function (value) {\r\n\t\t\t\t\t\t\t\t\t\tvar result = '\"',\r\n\t\t\t\t\t\t\t\t\t\t\tindex = 0,\r\n\t\t\t\t\t\t\t\t\t\t\tlength = value.length,\r\n\t\t\t\t\t\t\t\t\t\t\tuseCharIndex = !charIndexBuggy || length > 10;\r\n\t\t\t\t\t\t\t\t\t\tvar symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\r\n\t\t\t\t\t\t\t\t\t\tfor (; index < length; index++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar charCode = value.charCodeAt(index);\r\n\t\t\t\t\t\t\t\t\t\t\t// If the character is a control character, append its Unicode or\r\n\t\t\t\t\t\t\t\t\t\t\t// shorthand escape sequence; otherwise, append the character as-is.\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 10:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 12:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 92:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult += Escapes[charCode];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode < 32) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult += unicodePrefix + toPaddedString(2, charCode.toString(16));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult += useCharIndex ? symbols[index] : value.charAt(index);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn result + '\"';\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Recursively serializes an object. Implements the\r\n\t\t\t\t\t\t\t\t\t// `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\r\n\t\t\t\t\t\t\t\t\tvar serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\r\n\t\t\t\t\t\t\t\t\t\tvar value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t// Necessary for host object support.\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = object[property];\r\n\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\r\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\" && value) {\r\n\t\t\t\t\t\t\t\t\t\t\tclassName = getClass.call(value);\r\n\t\t\t\t\t\t\t\t\t\t\tif (className == dateClass && !isProperty.call(value, \"toJSON\")) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (value > -1 / 0 && value < 1 / 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Dates are serialized according to the `Date#toJSON` method\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// for the ISO 8601 date time string format.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (getDay) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Manually compute the year, month, date, hours, minutes,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// seconds, and milliseconds if the `getUTC*` methods are\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// buggy. Adapted from @Yaffle's `date-shim` project.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = floor(value / 864e5);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = 1 + date - getDay(year, month);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The `time` value specifies the time within the day (see ES\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// to compute `A modulo B`, as the `%` operator does not\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// correspond to the `modulo` operation for negative numbers.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttime = (value % 864e5 + 864e5) % 864e5;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The hours, minutes, seconds, and milliseconds are obtained by\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// decomposing the time within the day. See section 15.9.1.10.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thours = floor(time / 36e5) % 24;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminutes = floor(time / 6e4) % 60;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseconds = floor(time / 1e3) % 60;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmilliseconds = time % 1e3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyear = value.getUTCFullYear();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth = value.getUTCMonth();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = value.getUTCDate();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thours = value.getUTCHours();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminutes = value.getUTCMinutes();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseconds = value.getUTCSeconds();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmilliseconds = value.getUTCMilliseconds();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Serialize extended years correctly.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Months, dates, hours, minutes, and seconds should have two\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// digits; milliseconds should have three.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Milliseconds are optional in ES 5.0, but required in 5.1.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\".\" + toPaddedString(3, milliseconds) + \"Z\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\r\n\t\t\t\t\t\t\t\t\t\t\t\t// `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t// ignores all `toJSON` methods on these objects unless they are\r\n\t\t\t\t\t\t\t\t\t\t\t\t// defined directly on an instance.\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = value.toJSON(property);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (callback) {\r\n\t\t\t\t\t\t\t\t\t\t\t// If a replacement function was provided, call it to obtain the value\r\n\t\t\t\t\t\t\t\t\t\t\t// for serialization.\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = callback.call(object, property, value);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (value === null) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"null\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName = getClass.call(value);\r\n\t\t\t\t\t\t\t\t\t\tif (className == booleanClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Booleans are represented literally.\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"\" + value;\r\n\t\t\t\t\t\t\t\t\t\t} else if (className == numberClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t// JSON numbers must be finite. `Infinity` and `NaN` are serialized as\r\n\t\t\t\t\t\t\t\t\t\t\t// `\"null\"`.\r\n\t\t\t\t\t\t\t\t\t\t\treturn value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\r\n\t\t\t\t\t\t\t\t\t\t} else if (className == stringClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Strings are double-quoted and escaped.\r\n\t\t\t\t\t\t\t\t\t\t\treturn quote(\"\" + value);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// Recursively serialize objects and arrays.\r\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\") {\r\n\t\t\t\t\t\t\t\t\t\t\t// Check for cyclic structures. This is a linear search; performance\r\n\t\t\t\t\t\t\t\t\t\t\t// is inversely proportional to the number of unique nested objects.\r\n\t\t\t\t\t\t\t\t\t\t\tfor (length = stack.length; length--;) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (stack[length] === value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Cyclic structures cannot be serialized by `JSON.stringify`.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow TypeError();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Add the object to the stack of traversed objects.\r\n\t\t\t\t\t\t\t\t\t\t\tstack.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\tresults = [];\r\n\t\t\t\t\t\t\t\t\t\t\t// Save the current indentation level and indent one additional level.\r\n\t\t\t\t\t\t\t\t\t\t\tprefix = indentation;\r\n\t\t\t\t\t\t\t\t\t\t\tindentation += whitespace;\r\n\t\t\t\t\t\t\t\t\t\t\tif (className == arrayClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Recursively serialize array elements.\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (index = 0, length = value.length; index < length; index++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = serialize(index, value, callback, properties, whitespace, indentation, stack);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(element === undef ? \"null\" : element);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tresult = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Recursively serialize object members. Members are selected from\r\n\t\t\t\t\t\t\t\t\t\t\t\t// either a user-specified list of property names, or the object\r\n\t\t\t\t\t\t\t\t\t\t\t\t// itself.\r\n\t\t\t\t\t\t\t\t\t\t\t\tforEach(properties || value, function (property) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar element = serialize(property, value, callback, properties, whitespace, indentation, stack);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (element !== undef) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// is not the empty string, let `member` {quote(property) + \":\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// be the concatenation of `member` and the `space` character.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The \"`space` character\" refers to the literal space\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// character, not the `space` {width} argument provided to\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// `JSON.stringify`.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tresult = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Remove the object from the traversed object stack.\r\n\t\t\t\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\r\n\t\t\t\t\t\t\t\t\texports.stringify = function (source, filter, width) {\r\n\t\t\t\t\t\t\t\t\t\tvar whitespace, callback, properties, className;\r\n\t\t\t\t\t\t\t\t\t\tif (objectTypes[typeof filter] && filter) {\r\n\t\t\t\t\t\t\t\t\t\t\tif ((className = getClass.call(filter)) == functionClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = filter;\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (className == arrayClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Convert the property names array into a makeshift set.\r\n\t\t\t\t\t\t\t\t\t\t\t\tproperties = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (width) {\r\n\t\t\t\t\t\t\t\t\t\t\tif ((className = getClass.call(width)) == numberClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Convert the `width` to an integer and create a string containing\r\n\t\t\t\t\t\t\t\t\t\t\t\t// `width` number of space characters.\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ((width -= width % 1) > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (className == stringClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\twhitespace = width.length <= 10 ? width : width.slice(0, 10);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// Opera <= 7.54u2 discards the values associated with empty string keys\r\n\t\t\t\t\t\t\t\t\t\t// (`\"\"`) only if they are used directly within an object member list\r\n\t\t\t\t\t\t\t\t\t\t// (e.g., `!(\"\" in { \"\": 1})`).\r\n\t\t\t\t\t\t\t\t\t\treturn serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Public: Parses a JSON source string.\r\n\t\t\t\t\t\t\t\tif (!has(\"json-parse\")) {\r\n\t\t\t\t\t\t\t\t\tvar fromCharCode = String.fromCharCode;\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: A map of escaped control characters and their unescaped\r\n\t\t\t\t\t\t\t\t\t// equivalents.\r\n\t\t\t\t\t\t\t\t\tvar Unescapes = {\r\n\t\t\t\t\t\t\t\t\t\t92: \"\\\\\",\r\n\t\t\t\t\t\t\t\t\t\t34: '\"',\r\n\t\t\t\t\t\t\t\t\t\t47: \"/\",\r\n\t\t\t\t\t\t\t\t\t\t98: \"\\b\",\r\n\t\t\t\t\t\t\t\t\t\t116: \"\\t\",\r\n\t\t\t\t\t\t\t\t\t\t110: \"\\n\",\r\n\t\t\t\t\t\t\t\t\t\t102: \"\\f\",\r\n\t\t\t\t\t\t\t\t\t\t114: \"\\r\"\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Stores the parser state.\r\n\t\t\t\t\t\t\t\t\tvar Index, Source;\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Resets the parser state and throws a `SyntaxError`.\r\n\t\t\t\t\t\t\t\t\tvar abort = function () {\r\n\t\t\t\t\t\t\t\t\t\tIndex = Source = null;\r\n\t\t\t\t\t\t\t\t\t\tthrow SyntaxError();\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Returns the next token, or `\"$\"` if the parser has reached\r\n\t\t\t\t\t\t\t\t\t// the end of the source string. A token may be a string, number, `null`\r\n\t\t\t\t\t\t\t\t\t// literal, or Boolean literal.\r\n\t\t\t\t\t\t\t\t\tvar lex = function () {\r\n\t\t\t\t\t\t\t\t\t\tvar source = Source,\r\n\t\t\t\t\t\t\t\t\t\t\tlength = source.length,\r\n\t\t\t\t\t\t\t\t\t\t\tvalue, begin, position, isSigned, charCode;\r\n\t\t\t\t\t\t\t\t\t\twhile (Index < length) {\r\n\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 10:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Skip whitespace tokens, including tabs, carriage returns, line\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// feeds, and space characters.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 123:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 125:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 91:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 93:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 58:\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 44:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// the current position.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = charIndexBuggy ? source.charAt(Index) : source[Index];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `\"` delimits a JSON string; advance to the next character and\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// begin parsing the string. String tokens are prefixed with the\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// sentinel `@` character to distinguish them from punctuators and\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// end-of-string tokens.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (value = \"@\", Index++; Index < length;) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode < 32) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unescaped ASCII control characters (those with a code unit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// less than the space character) are not permitted.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (charCode == 92) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A reverse solidus (`\\`) marks the beginning of an escaped\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// control character (including `\"`, `\\`, and `/`) or Unicode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// escape sequence.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 92:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 47:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 98:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 116:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 110:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 102:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 114:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Revive escaped control characters.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += Unescapes[charCode];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 117:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// `\\u` marks the beginning of a Unicode escape sequence.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance to the first character and validate the\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// four-digit code point.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = ++Index;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (position = Index + 4; Index < position; Index++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A valid sequence comprises four hexdigits (case-\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// insensitive) that form a single hexadecimal value.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Invalid Unicode escape sequence.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Revive the escaped character.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += fromCharCode(\"0x\" + source.slice(begin, Index));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Invalid escape sequence.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 34) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// An unescaped double-quote character marks the end of the\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// string.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = Index;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Optimize for the common case where a string is valid.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twhile (charCode >= 32 && charCode != 92 && charCode != 34) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Append the string as-is.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += source.slice(begin, Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.charCodeAt(Index) == 34) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance to the next character and return the revived string.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Unterminated string.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse numbers and literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = Index;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance past the negative sign, if one is specified.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 45) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSigned = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse an integer or floating-point value.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode >= 48 && charCode <= 57) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Leading zeroes are interpreted as octal literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal octal literal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSigned = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the integer component.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Floats cannot contain a leading decimal point; however, this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// case is already accounted for by the parser.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.charCodeAt(Index) == 46) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition = ++Index;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the decimal component.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (position == Index) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal trailing decimal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex = position;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse exponents. The `e` denoting the exponent is\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// case-insensitive.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 101 || charCode == 69) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Skip past the sign following the exponent, if one is\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// specified.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 43 || charCode == 45) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the exponential component.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (position == Index) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal empty exponent.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex = position;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Coerce the parsed value to a JavaScript number.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn +source.slice(begin, Index);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A negative sign may only precede numbers.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (isSigned) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `true`, `false`, and `null` literals.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.slice(Index, Index + 4) == \"true\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 4;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (source.slice(Index, Index + 5) == \"false\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 5;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (source.slice(Index, Index + 4) == \"null\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 4;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Unrecognized token.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// Return the sentinel `$` character if the parser has reached the end\r\n\t\t\t\t\t\t\t\t\t\t// of the source string.\r\n\t\t\t\t\t\t\t\t\t\treturn \"$\";\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Parses a JSON `value` token.\r\n\t\t\t\t\t\t\t\t\tvar get = function (value) {\r\n\t\t\t\t\t\t\t\t\t\tvar results, hasMembers;\r\n\t\t\t\t\t\t\t\t\t\tif (value == \"$\") {\r\n\t\t\t\t\t\t\t\t\t\t\t// Unexpected end of input.\r\n\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"string\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Remove the sentinel `@` character.\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.slice(1);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Parse object and array literals.\r\n\t\t\t\t\t\t\t\t\t\t\tif (value == \"[\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Parses a JSON array, returning a new JavaScript array.\r\n\t\t\t\t\t\t\t\t\t\t\t\tresults = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (;; hasMembers || (hasMembers = true)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A closing square bracket marks the end of the array literal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"]\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// If the array literal contains elements, the current token\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// should be a comma separating the previous element from the\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// next.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasMembers) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"]\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unexpected trailing `,` in array literal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A `,` must separate each array element.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Elisions and leading commas are not permitted.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(get(value));\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (value == \"{\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Parses a JSON object, returning a new JavaScript object.\r\n\t\t\t\t\t\t\t\t\t\t\t\tresults = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (;; hasMembers || (hasMembers = true)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A closing curly brace marks the end of the object literal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"}\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// If the object literal contains members, the current token\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// should be a comma separator.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasMembers) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"}\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unexpected trailing `,` in object literal.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A `,` must separate each object member.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Leading commas are not permitted, object property names must be\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// double-quoted strings, and a `:` must separate each property\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// name and value.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults[value.slice(1)] = get(lex());\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Unexpected token encountered.\r\n\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Updates a traversed object member.\r\n\t\t\t\t\t\t\t\t\tvar update = function (source, property, callback) {\r\n\t\t\t\t\t\t\t\t\t\tvar element = walk(source, property, callback);\r\n\t\t\t\t\t\t\t\t\t\tif (element === undef) {\r\n\t\t\t\t\t\t\t\t\t\t\tdelete source[property];\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsource[property] = element;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Internal: Recursively traverses a parsed JSON object, invoking the\r\n\t\t\t\t\t\t\t\t\t// `callback` function for each value. This is an implementation of the\r\n\t\t\t\t\t\t\t\t\t// `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\r\n\t\t\t\t\t\t\t\t\tvar walk = function (source, property, callback) {\r\n\t\t\t\t\t\t\t\t\t\tvar value = source[property],\r\n\t\t\t\t\t\t\t\t\t\t\tlength;\r\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\" && value) {\r\n\t\t\t\t\t\t\t\t\t\t\t// `forEach` can't be used to traverse an array in Opera <= 8.54\r\n\t\t\t\t\t\t\t\t\t\t\t// because its `Object#hasOwnProperty` implementation returns `false`\r\n\t\t\t\t\t\t\t\t\t\t\t// for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\r\n\t\t\t\t\t\t\t\t\t\t\tif (getClass.call(value) == arrayClass) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (length = value.length; length--;) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate(value, length, callback);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tforEach(value, function (property) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate(value, property, callback);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn callback.call(source, property, value);\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Public: `JSON.parse`. See ES 5.1 section 15.12.2.\r\n\t\t\t\t\t\t\t\t\texports.parse = function (source, callback) {\r\n\t\t\t\t\t\t\t\t\t\tvar result, value;\r\n\t\t\t\t\t\t\t\t\t\tIndex = 0;\r\n\t\t\t\t\t\t\t\t\t\tSource = \"\" + source;\r\n\t\t\t\t\t\t\t\t\t\tresult = get(lex());\r\n\t\t\t\t\t\t\t\t\t\t// If a JSON string contains multiple tokens, it is invalid.\r\n\t\t\t\t\t\t\t\t\t\tif (lex() != \"$\") {\r\n\t\t\t\t\t\t\t\t\t\t\tabort();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// Reset the parser state.\r\n\t\t\t\t\t\t\t\t\t\tIndex = Source = null;\r\n\t\t\t\t\t\t\t\t\t\treturn callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\texports[\"runInContext\"] = runInContext;\r\n\t\t\t\t\t\t\treturn exports;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (freeExports && !isLoader) {\r\n\t\t\t\t\t\t\t// Export for CommonJS environments.\r\n\t\t\t\t\t\t\trunInContext(root, freeExports);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Export for web browsers and JavaScript engines.\r\n\t\t\t\t\t\t\tvar nativeJSON = root.JSON,\r\n\t\t\t\t\t\t\t\tpreviousJSON = root[\"JSON3\"],\r\n\t\t\t\t\t\t\t\tisRestored = false;\r\n\r\n\t\t\t\t\t\t\tvar JSON3 = runInContext(root, (root[\"JSON3\"] = {\r\n\t\t\t\t\t\t\t\t// Public: Restores the original value of the global `JSON` object and\r\n\t\t\t\t\t\t\t\t// returns a reference to the `JSON3` object.\r\n\t\t\t\t\t\t\t\t\"noConflict\": function () {\r\n\t\t\t\t\t\t\t\t\tif (!isRestored) {\r\n\t\t\t\t\t\t\t\t\t\tisRestored = true;\r\n\t\t\t\t\t\t\t\t\t\troot.JSON = nativeJSON;\r\n\t\t\t\t\t\t\t\t\t\troot[\"JSON3\"] = previousJSON;\r\n\t\t\t\t\t\t\t\t\t\tnativeJSON = previousJSON = null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn JSON3;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\troot.JSON = {\r\n\t\t\t\t\t\t\t\t\"parse\": JSON3.parse,\r\n\t\t\t\t\t\t\t\t\"stringify\": JSON3.stringify\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Export for asynchronous module loaders.\r\n\t\t\t\t\t\tif (isLoader) {\r\n\t\t\t\t\t\t\tdefine(function () {\r\n\t\t\t\t\t\t\t\treturn JSON3;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).call(this);\r\n\r\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\r\n\t\t\t}, {}],\r\n\t\t\t51: [function (_dereq_, module, exports) {\r\n\t\t\t\tmodule.exports = toArray\r\n\r\n\t\t\t\tfunction toArray(list, index) {\r\n\t\t\t\t\tvar array = []\r\n\r\n\t\t\t\t\tindex = index || 0\r\n\r\n\t\t\t\t\tfor (var i = index || 0; i < list.length; i++) {\r\n\t\t\t\t\t\tarray[i - index] = list[i]\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn array\r\n\t\t\t\t}\r\n\r\n\t\t\t}, {}]\r\n\t\t}, {}, [31])(31)\r\n\t});\r\n}"]}