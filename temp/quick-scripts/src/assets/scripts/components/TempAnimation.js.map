{"version":3,"sources":["assets\\scripts\\components\\TempAnimation.js"],"names":["cc","Class","Component","properties","isSkeAnim","displayName","sketNode","type","Node","animArray","String","onLoad","start","sket","getComponent","sp","Skeleton","isValid","timeScale","stopAnim","anim","Animation","playAnim","clearTrack","iterator","setAnimation","play","clearTracks","setCurrentTime","stop"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AAERC,IAAAA,SAAS,EAAC;AACN,iBAAS,KADH;AAENC,MAAAA,WAAW,EAAC;AAFN,KAFF;AAMRC,IAAAA,QAAQ,EAAE;AACN,iBAAS,IADH;AAENC,MAAAA,IAAI,EAAEP,EAAE,CAACQ,IAFH;AAGNH,MAAAA,WAAW,EAAC;AAHN,KANF;AAWRI,IAAAA,SAAS,EAAC;AACN,iBAAS,EADH;AAENF,MAAAA,IAAI,EAAEP,EAAE,CAACU,MAFH;AAGNL,MAAAA,WAAW,EAAC;AAHN;AAXF,GAHP;AAsBLM,EAAAA,MAtBK,oBAsBI,CACR,CAvBI;AAyBLC,EAAAA,KAzBK,mBAyBG;AACJ,QAAI,KAAKR,SAAT,EAAoB;AAChB,WAAKS,IAAL,GAAY,KAAKP,QAAL,CAAcQ,YAAd,CAA2BC,EAAE,CAACC,QAA9B,CAAZ;AACA,UAAI,CAAChB,EAAE,CAACiB,OAAH,CAAW,KAAKJ,IAAhB,CAAL,EAA4B;AAC5B,WAAKA,IAAL,CAAUK,SAAV,GAAsB,GAAtB;AACA,WAAKC,QAAL;AACH,KALD,MAKO;AACH,WAAKC,IAAL,GAAY,KAAKN,YAAL,CAAkBd,EAAE,CAACqB,SAArB,CAAZ;AACH;AACJ,GAlCI;AAoCLC,EAAAA,QApCK,sBAoCK;AACN,QAAI,KAAKlB,SAAT,EAAoB;AAChB,UAAI,CAACJ,EAAE,CAACiB,OAAH,CAAW,KAAKJ,IAAhB,CAAL,EAA4B;AAC5B,WAAKA,IAAL,CAAUU,UAAV,CAAqB,CAArB;;AACA,2DAAuB,KAAKd,SAA5B,wCAAuC;AAAA,YAA5Be,QAA4B;AACnC,aAAKX,IAAL,CAAUY,YAAV,CAAuB,CAAvB,EAA0BD,QAA1B,EAAoC,IAApC;AACH;AACJ,KAND,MAMK;AACD,UAAI,CAACxB,EAAE,CAACiB,OAAH,CAAW,KAAKG,IAAhB,CAAL,EAA4B;AAC5B,WAAKA,IAAL,CAAUM,IAAV;AACH;AACJ,GA/CI;AAiDLP,EAAAA,QAjDK,sBAiDK;AACN,QAAI,KAAKf,SAAT,EAAoB;AAChB,UAAI,CAACJ,EAAE,CAACiB,OAAH,CAAW,KAAKJ,IAAhB,CAAL,EAA4B;AAC5B,WAAKA,IAAL,CAAUc,WAAV;AACH,KAHD,MAGK;AACD,UAAI,CAAC3B,EAAE,CAACiB,OAAH,CAAW,KAAKG,IAAhB,CAAL,EAA4B;AAC5B,WAAKA,IAAL,CAAUQ,cAAV,CAAyB,CAAzB;AACA,WAAKR,IAAL,CAAUS,IAAV;AACH;AACJ;AA1DI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        isSkeAnim:{\r\n            default: false,\r\n            displayName:\"骨骼动画？\"\r\n        },\r\n        sketNode: {\r\n            default: null,\r\n            type: cc.Node,\r\n            displayName:\"骨骼数据\"\r\n        },\r\n        animArray:{\r\n            default: [],\r\n            type: cc.String,\r\n            displayName:\"动画列表\"\r\n        }\r\n\r\n    },\r\n\r\n    onLoad() {\r\n    },\r\n\r\n    start() {\r\n        if (this.isSkeAnim) {\r\n            this.sket = this.sketNode.getComponent(sp.Skeleton);\r\n            if (!cc.isValid(this.sket)) return;\r\n            this.sket.timeScale = 0.5;\r\n            this.stopAnim();\r\n        } else {\r\n            this.anim = this.getComponent(cc.Animation);\r\n        }\r\n    },\r\n\r\n    playAnim(){\r\n        if (this.isSkeAnim) {\r\n            if (!cc.isValid(this.sket)) return;\r\n            this.sket.clearTrack(0);\r\n            for (const iterator of this.animArray) {\r\n                this.sket.setAnimation(0, iterator, true);\r\n            }\r\n        }else{\r\n            if (!cc.isValid(this.anim)) return;\r\n            this.anim.play();\r\n        }\r\n    },\r\n\r\n    stopAnim(){\r\n        if (this.isSkeAnim) {\r\n            if (!cc.isValid(this.sket)) return;\r\n            this.sket.clearTracks()\r\n        }else{\r\n            if (!cc.isValid(this.anim)) return;\r\n            this.anim.setCurrentTime(0);\r\n            this.anim.stop();\r\n        }\r\n    }\r\n});\r\n"]}