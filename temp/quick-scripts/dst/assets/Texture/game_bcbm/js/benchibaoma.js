
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Texture/game_bcbm/js/benchibaoma.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ad991o56LZLGrKSoW3zFqeU', 'benchibaoma');
// Texture/game_bcbm/js/benchibaoma.js

"use strict";

var zhuanpan = require("zhuanpan_bcbm");

var StateMachine = require("stateMachine");

var Global = null;
cc.Class({
  "extends": cc.Component,
  properties: {
    ZhuanPan: zhuanpan,
    Interval: 2,
    //从开始状态到停止状态必须等待的间隔时间（秒）
    ShowTime: 5,
    //中奖展示时间(秒)
    Timeout: {
      "default": 10,
      tooltip: "连接超时倒计时(秒)"
    },
    name_lab: cc.Label,
    head_Node: cc.Node,
    LabelJinBi: {
      "default": null,
      type: cc.Label,
      tooltip: '金币文字'
    },
    LabelJiangLi: {
      "default": null,
      type: cc.Label,
      tooltip: '奖励文字'
    },
    PanelXinXi: {
      "default": null,
      type: cc.Node,
      tooltip: '信息界面'
    },
    PanelQianBuGou: {
      "default": null,
      type: cc.Node,
      tooltip: '钱不够界面'
    },
    NodeAudioParent: cc.Node,
    //所有音效的父节点
    stateMachine: StateMachine,
    //状态机
    xiazhuStateNode: cc.Node,
    //下注节点
    betTime_lab: cc.Label,
    //下注时间
    zhuangInfo_Node: cc.Node,
    //庄家信息
    qiangNode: cc.Node,
    //抢庄
    zhuangLimit_lab: cc.Label,
    qiangzhuangNum: cc.Label,
    //抢庄人数
    zhuangHead_Node: cc.Node,
    //庄家头像
    zhuangName_lab: cc.Label,
    //庄家姓名
    zhuangCoin_lab: cc.Label,
    //庄家钱数
    betMask: cc.Node,
    //下注区遮罩
    BtnArrayInteraction: {
      "default": [],
      type: [cc.Button],
      tooltip: '所有需要在状态变化时改变可交互性的按钮的集合'
    },
    NodeArrayXiaZhu: {
      "default": [],
      type: cc.Node,
      tooltip: "下注的节点数组"
    },
    ServerDataToLocalData: {
      "default": [],
      type: [cc.Integer],
      tooltip: "服务器索引数据转本地索引数据"
    },
    icon: {
      "default": [],
      type: cc.SpriteFrame
    },
    show_history: {
      "default": null,
      type: cc.Node,
      tooltip: '历史记录节点'
    },
    history_shuiguo: {
      "default": null,
      type: cc.Prefab,
      tooltip: '历史水果图标'
    }
  },
  onLoad: function onLoad() {
    window.BCBM_ins = this;
    this.network = require('bcbm_NetWork').getInstant;
    Global = require("PlayerInfo").getInstant;
  },
  start: function start() {
    this.network.LandlordsSocket.emit('getGameType', '');
    this.network.LandlordsSocket.emit("getGameRecordList", "");
    this.name_lab.string = Global.playerName;
    setHeadTexture(this.head_Node, Global.playerHeadId);
    this.LabelJinBi.string = (Global.playerCoin / Global.exchangeRate).toFixed(2); //总金币数

    this._itemArrayLength = this.NodeArrayXiaZhu.length;
    this._intArrayXiaZhu = new Array(this._itemArrayLength); //每种水果的注数

    this.m_iGameOverTime = -1; //下注剩余时间

    this.duzhuMoney = 100; //单注金额

    this.initBetPool();
    var self = this;
    this.node.on('Event_ZhuanPanStop', function (event) {
      event.stopPropagation(); //停止传递当前事件
      //显示结果

      if (self._winCoin > 0) {
        self.stateMachine.Input_Ready(self.ShowTime);
      } else {
        self.stateMachine.Input_Ready(0.01);
      }
    }); //监听状态机改变事件

    this.node.on('Event_StateChange', function (event) {
      event.stopPropagation(); //停止传递当前事件
      //不知道怎么用js写枚举变量，先用整数代替吧
      //规定state === 0 表示准备状态，解除界面交互限制
      //规定state === 1 表示开始状态，转动转轮，限制部分界面交互功能
      //规定state === 2 表示停止状态，停止转轮并显示图标结果
      //规定state === 3 表示中奖展示状态,显示结算
      //规定state === 4 表示错误状态，停止转轮

      switch (event.detail) {
        case 0:
          //准备状态，解除界面交互限制
          self.SetPanelInteraction(true);
          break;

        case 1:
          //开始状态，转动转轮，限制部分界面交互功能
          self.SetPanelInteraction(false); //发动

          self.ZhuanPan.Launch();
          break;

        case 2:
          self.ZhuanPan.Stop(self.ServerDataToLocalData[self._listWinLines[0]]);
          break;

        case 3:
          //中奖展示状态,显示结算
          self.LabelJinBi.string = (Global.playerCoin / Global.exchangeRate).toFixed(2);
          ; //总金币数

          self.LabelJiangLi.string = self._winCoin; //显示本局赢多少钱

          self.history(self._listWinCar);
          break;

        case 4:
          //错误状态，停止转轮
          self.ZhuanPan.Stop(0);
          break;

        default:
          //走到这肯定出错了
          break;
      }
    });
  },
  update: function update(dt) {
    if (this.m_iGameOverTime && this.xiazhuStateNode.active) {
      var t = parseInt(this.m_iGameOverTime - Date.now() / 1000);

      if (t <= 5 && t + "" != this.betTime_lab.string) {
        playEffect('countdown');

        if (t == 0) {
          playEffect('stop_s');
        }
      }

      if (t <= 0) {
        this.xiazhuStateNode.active = false;
        return;
      }

      this.betTime_lab.string = t;
    }
  },
  init_stat: function init_stat(result) {
    if (result.zUser) {
      this.zhuangName_lab.string = result.zUser.name;
      this.zhuangCoin_lab.string = (result.zUser.zCoin / Global.exchangeRate).toFixed(2);
      setHeadTexture(this.zhuangHead_Node, result.zUser.url);
    }

    this.qiangzhuangNum.string = result.qiangzhuangNum + "人抢庄";
    this.zhuangLimit_lab.string = (result.zhuang_limit / Global.exchangeRate).toFixed(2) + "金币抢庄";

    if (result.game_type == 1) {
      this.m_iGameOverTime = Date.now() / 1000 + result.bet_time;
      this.xiazhuStateNode.active = true;
      this.betMask.active = false;
    } else {
      this.xiazhuStateNode.active = false;
      this.betMask.active = true;
      this.betMask.children[2].active = true;
    }

    if (result.game_type == 4) {
      this.qiangNode.active = true;
      this.zhuangInfo_Node.active = false;
      this.m_iGameOverTime = Date.now() / 1000 + result.qiang_time;
    } else {
      this.qiangNode.active = false;
      this.zhuangInfo_Node.active = true;
    }
  },
  //初始化下注
  initBetPool: function initBetPool() {
    for (var i = 0; i < this._itemArrayLength; i++) {
      this._intArrayXiaZhu[i] = 0;
      this.NodeArrayXiaZhu[i].getChildByName("本人下注").getComponent(cc.Label).string = "0.00";
      this.NodeArrayXiaZhu[i].getChildByName("所有下注").getComponent(cc.Label).string = "0.00";
    }
  },
  //抢庄
  onBtnClick_qiangzhuang: function onBtnClick_qiangzhuang() {
    this.network.LandlordsSocket.emit('qiangZhuang', '');
  },
  //点击信息按钮
  onBtnClick_XinXi: function onBtnClick_XinXi() {
    this.PanelXinXi.active = !this.PanelXinXi.active;
  },
  onBtnClick_xiazhu: function onBtnClick_xiazhu(event, itemIndex) {
    var str = {
      bet_res: parseInt(itemIndex),
      bet_gold: this.duzhuMoney
    };
    this.network.LandlordsSocket.emit('lottery', str); // cc.log(str)
  },
  //点击声音开关
  onToggleClick_ShengYin: function onToggleClick_ShengYin(toggle, customEventData) {
    if (toggle.isChecked === true) {
      for (var i = 0; i < this.NodeAudioParent.children.length; i++) {
        this.NodeAudioParent.children[i].getComponent(cc.AudioSource).volume = 1;
      }
    } else {
      for (var i = 0; i < this.NodeAudioParent.children.length; i++) {
        this.NodeAudioParent.children[i].getComponent(cc.AudioSource).volume = 0;
      }
    }
  },
  //点击返回大厅按钮
  onBtnClick_BackHall: function onBtnClick_BackHall() {
    this.network.LandlordsSocket.disconnect();
    cc.director.loadScene("LobbyMain");
  },
  //选择筹码
  chooseBet_click: function chooseBet_click(target, num) {
    this.duzhuMoney = parseInt(num);
  },
  //关闭弹出界面
  onBtnClick_closePanel: function onBtnClick_closePanel(event, customEventData) {
    //这里 event 是一个 Touch Event 对象，你可以通过 event.target 取到事件的发送节点
    event.target.parent.active = false;
  },
  setzhuang: function setzhuang(ret) {
    this.zhuangInfo_Node.active = true;
    this.qiangNode.active = false;
    this.xiazhuStateNode.active = true;
    this.betMask.active = false;
    this.zhuangName_lab.string = ret.name;
    this.zhuangCoin_lab.string = (ret.zCoin / Global.exchangeRate).toFixed(2);
    setHeadTexture(this.zhuangHead_Node, ret.url);
  },
  //开始抢庄
  qiangBegin: function qiangBegin() {
    this.qiangzhuangNum.string = "0人抢庄";
    this.xiazhuStateNode.active = false;
    this.betMask.active = true;
    this.betMask.children[2].active = true;
    this.qiangNode.active = true;
    this.zhuangInfo_Node.active = false;
    this.m_iGameOverTime = Date.now() / 1000 + 5;
  },
  //开始下注
  betBegin: function betBegin() {
    // this.betBegin_r();
    this.m_iGameOverTime = Date.now() / 1000 + 40;
    this.zhuangInfo_Node.active = true;
    this.qiangNode.active = false;
    this.xiazhuStateNode.active = true;
    this.betMask.active = false;
  },
  //开奖
  showResult: function showResult(ret) {
    var _this = this;

    this.initBetPool();
    this.stateMachine.Input_Start(this.Interval, this.Timeout);
    this.scheduleOnce(function () {
      _this._winCoin = ret["user_win"]; //保存服务器返回的本局赢多少钱

      _this._listWinLines = [ret["win_res"]]; //保存服务器返回的中哪一条线

      _this._listWinCar = ret["win_car"]; //保存服务器返回的中哪一条线

      _this.stateMachine.Input_Stop();
    }, 3);
  },
  //抢庄结果
  showHint: function showHint(ret) {
    // cc.log(a);
    this.qiangzhuangNum.string = ret.qiangzhuangNum + "人抢庄";
  },
  //接收到服务器消息：返回下注结果
  onBet: function onBet(bet_dict) {
    console.log(bet_dict);
    var index = bet_dict.bet_res;
    this.LabelJinBi.string = (Global.playerCoin / Global.exchangeRate).toFixed(2);
    this._intArrayXiaZhu[index] += bet_dict.bet_gold;
    this.NodeArrayXiaZhu[index].getChildByName("本人下注").getComponent(cc.Label).string = (this._intArrayXiaZhu[index] / Global.exchangeRate).toFixed(2);
  },
  //接收到服务器消息：更新下注池子
  betUpdate: function betUpdate(data) {
    for (var i = 0; i < data.length; i++) {
      this.NodeArrayXiaZhu[i].getChildByName("所有下注").getComponent(cc.Label).string = (data[i] / Global.exchangeRate).toFixed(2);
    }
  },
  //调整界面交互性
  SetPanelInteraction: function SetPanelInteraction(interactable) {
    var length = this.BtnArrayInteraction.length;

    for (var i = 0; i < length; i++) {
      this.BtnArrayInteraction[i].interactable = interactable;
    }
  },
  history: function history(lines) {
    var allnode = this.show_history.children;

    if (allnode.length >= 20) {
      allnode[0].destroy();
    }

    var n = cc.instantiate(this.history_shuiguo);
    n.getComponent(cc.Sprite).spriteFrame = this.icon[lines];
    n.parent = this.show_history;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcVGV4dHVyZVxcZ2FtZV9iY2JtXFxqc1xcYmVuY2hpYmFvbWEuanMiXSwibmFtZXMiOlsiemh1YW5wYW4iLCJyZXF1aXJlIiwiU3RhdGVNYWNoaW5lIiwiR2xvYmFsIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJaaHVhblBhbiIsIkludGVydmFsIiwiU2hvd1RpbWUiLCJUaW1lb3V0IiwidG9vbHRpcCIsIm5hbWVfbGFiIiwiTGFiZWwiLCJoZWFkX05vZGUiLCJOb2RlIiwiTGFiZWxKaW5CaSIsInR5cGUiLCJMYWJlbEppYW5nTGkiLCJQYW5lbFhpblhpIiwiUGFuZWxRaWFuQnVHb3UiLCJOb2RlQXVkaW9QYXJlbnQiLCJzdGF0ZU1hY2hpbmUiLCJ4aWF6aHVTdGF0ZU5vZGUiLCJiZXRUaW1lX2xhYiIsInpodWFuZ0luZm9fTm9kZSIsInFpYW5nTm9kZSIsInpodWFuZ0xpbWl0X2xhYiIsInFpYW5nemh1YW5nTnVtIiwiemh1YW5nSGVhZF9Ob2RlIiwiemh1YW5nTmFtZV9sYWIiLCJ6aHVhbmdDb2luX2xhYiIsImJldE1hc2siLCJCdG5BcnJheUludGVyYWN0aW9uIiwiQnV0dG9uIiwiTm9kZUFycmF5WGlhWmh1IiwiU2VydmVyRGF0YVRvTG9jYWxEYXRhIiwiSW50ZWdlciIsImljb24iLCJTcHJpdGVGcmFtZSIsInNob3dfaGlzdG9yeSIsImhpc3Rvcnlfc2h1aWd1byIsIlByZWZhYiIsIm9uTG9hZCIsIndpbmRvdyIsIkJDQk1faW5zIiwibmV0d29yayIsImdldEluc3RhbnQiLCJzdGFydCIsIkxhbmRsb3Jkc1NvY2tldCIsImVtaXQiLCJzdHJpbmciLCJwbGF5ZXJOYW1lIiwic2V0SGVhZFRleHR1cmUiLCJwbGF5ZXJIZWFkSWQiLCJwbGF5ZXJDb2luIiwiZXhjaGFuZ2VSYXRlIiwidG9GaXhlZCIsIl9pdGVtQXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJfaW50QXJyYXlYaWFaaHUiLCJBcnJheSIsIm1faUdhbWVPdmVyVGltZSIsImR1emh1TW9uZXkiLCJpbml0QmV0UG9vbCIsInNlbGYiLCJub2RlIiwib24iLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIl93aW5Db2luIiwiSW5wdXRfUmVhZHkiLCJkZXRhaWwiLCJTZXRQYW5lbEludGVyYWN0aW9uIiwiTGF1bmNoIiwiU3RvcCIsIl9saXN0V2luTGluZXMiLCJoaXN0b3J5IiwiX2xpc3RXaW5DYXIiLCJ1cGRhdGUiLCJkdCIsImFjdGl2ZSIsInQiLCJwYXJzZUludCIsIkRhdGUiLCJub3ciLCJwbGF5RWZmZWN0IiwiaW5pdF9zdGF0IiwicmVzdWx0IiwielVzZXIiLCJuYW1lIiwiekNvaW4iLCJ1cmwiLCJ6aHVhbmdfbGltaXQiLCJnYW1lX3R5cGUiLCJiZXRfdGltZSIsImNoaWxkcmVuIiwicWlhbmdfdGltZSIsImkiLCJnZXRDaGlsZEJ5TmFtZSIsImdldENvbXBvbmVudCIsIm9uQnRuQ2xpY2tfcWlhbmd6aHVhbmciLCJvbkJ0bkNsaWNrX1hpblhpIiwib25CdG5DbGlja194aWF6aHUiLCJpdGVtSW5kZXgiLCJzdHIiLCJiZXRfcmVzIiwiYmV0X2dvbGQiLCJvblRvZ2dsZUNsaWNrX1NoZW5nWWluIiwidG9nZ2xlIiwiY3VzdG9tRXZlbnREYXRhIiwiaXNDaGVja2VkIiwiQXVkaW9Tb3VyY2UiLCJ2b2x1bWUiLCJvbkJ0bkNsaWNrX0JhY2tIYWxsIiwiZGlzY29ubmVjdCIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiY2hvb3NlQmV0X2NsaWNrIiwidGFyZ2V0IiwibnVtIiwib25CdG5DbGlja19jbG9zZVBhbmVsIiwicGFyZW50Iiwic2V0emh1YW5nIiwicmV0IiwicWlhbmdCZWdpbiIsImJldEJlZ2luIiwic2hvd1Jlc3VsdCIsIklucHV0X1N0YXJ0Iiwic2NoZWR1bGVPbmNlIiwiSW5wdXRfU3RvcCIsInNob3dIaW50Iiwib25CZXQiLCJiZXRfZGljdCIsImNvbnNvbGUiLCJsb2ciLCJpbmRleCIsImJldFVwZGF0ZSIsImRhdGEiLCJpbnRlcmFjdGFibGUiLCJsaW5lcyIsImFsbG5vZGUiLCJkZXN0cm95IiwibiIsImluc3RhbnRpYXRlIiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUF0Qjs7QUFDQSxJQUFJQyxZQUFZLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQTFCOztBQUNBLElBQUlFLE1BQU0sR0FBRyxJQUFiO0FBQ0FDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxRQUFRLEVBQUVSLFFBREY7QUFFUlMsSUFBQUEsUUFBUSxFQUFFLENBRkY7QUFFSTtBQUNaQyxJQUFBQSxRQUFRLEVBQUUsQ0FIRjtBQUdJO0FBQ1pDLElBQUFBLE9BQU8sRUFBRTtBQUNMLGlCQUFTLEVBREo7QUFFTEMsTUFBQUEsT0FBTyxFQUFFO0FBRkosS0FKRDtBQVFSQyxJQUFBQSxRQUFRLEVBQUVULEVBQUUsQ0FBQ1UsS0FSTDtBQVNSQyxJQUFBQSxTQUFTLEVBQUVYLEVBQUUsQ0FBQ1ksSUFUTjtBQVVSQyxJQUFBQSxVQUFVLEVBQUU7QUFDUixpQkFBUyxJQUREO0FBRVJDLE1BQUFBLElBQUksRUFBRWQsRUFBRSxDQUFDVSxLQUZEO0FBR1JGLE1BQUFBLE9BQU8sRUFBRTtBQUhELEtBVko7QUFlUk8sSUFBQUEsWUFBWSxFQUFFO0FBQ1YsaUJBQVMsSUFEQztBQUVWRCxNQUFBQSxJQUFJLEVBQUVkLEVBQUUsQ0FBQ1UsS0FGQztBQUdWRixNQUFBQSxPQUFPLEVBQUU7QUFIQyxLQWZOO0FBb0JSUSxJQUFBQSxVQUFVLEVBQUU7QUFDUixpQkFBUyxJQUREO0FBRVJGLE1BQUFBLElBQUksRUFBRWQsRUFBRSxDQUFDWSxJQUZEO0FBR1JKLE1BQUFBLE9BQU8sRUFBRTtBQUhELEtBcEJKO0FBeUJSUyxJQUFBQSxjQUFjLEVBQUU7QUFDWixpQkFBUyxJQURH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O0FBQ0osR0FoVUk7QUFrVUw5RCxFQUFBQSxPQUFPLEVBQUUsaUJBQVUrRCxLQUFWLEVBQWlCO0FBQ3RCLFFBQUlDLE9BQU8sR0FBRyxLQUFLckcsWUFBTCxDQUFrQndELFFBQWhDOztBQUNBLFFBQUk2QyxPQUFPLENBQUNsRixNQUFSLElBQWtCLEVBQXRCLEVBQTBCO0FBQ3RCa0YsTUFBQUEsT0FBTyxDQUFDLENBQUQsQ0FBUCxDQUFXQyxPQUFYO0FBQ0g7O0FBQ0QsUUFBSUMsQ0FBQyxHQUFHNUksRUFBRSxDQUFDNkksV0FBSCxDQUFlLEtBQUt2RyxlQUFwQixDQUFSO0FBQ0FzRyxJQUFBQSxDQUFDLENBQUMzQyxZQUFGLENBQWVqRyxFQUFFLENBQUM4SSxNQUFsQixFQUEwQkMsV0FBMUIsR0FBd0MsS0FBSzVHLElBQUwsQ0FBVXNHLEtBQVYsQ0FBeEM7QUFDQUcsSUFBQUEsQ0FBQyxDQUFDckIsTUFBRixHQUFXLEtBQUtsRixZQUFoQjtBQUNIO0FBMVVJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciB6aHVhbnBhbiA9IHJlcXVpcmUoXCJ6aHVhbnBhbl9iY2JtXCIpO1xyXG52YXIgU3RhdGVNYWNoaW5lID0gcmVxdWlyZShcInN0YXRlTWFjaGluZVwiKTtcclxudmFyIEdsb2JhbCA9IG51bGw7XHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgWmh1YW5QYW46IHpodWFucGFuLFxyXG4gICAgICAgIEludGVydmFsOiAyLC8v5LuO5byA5aeL54q25oCB5Yiw5YGc5q2i54q25oCB5b+F6aG7562J5b6F55qE6Ze06ZqU5pe26Ze077yI56eS77yJXHJcbiAgICAgICAgU2hvd1RpbWU6IDUsLy/kuK3lpZblsZXnpLrml7bpl7Qo56eSKVxyXG4gICAgICAgIFRpbWVvdXQ6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogMTAsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IFwi6L+e5o6l6LaF5pe25YCS6K6h5pe2KOenkilcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5hbWVfbGFiOiBjYy5MYWJlbCxcclxuICAgICAgICBoZWFkX05vZGU6IGNjLk5vZGUsXHJcbiAgICAgICAgTGFiZWxKaW5CaToge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5MYWJlbCxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+mHkeW4geaWh+WtlycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBMYWJlbEppYW5nTGk6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTGFiZWwsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6ICflpZblirHmloflrZcnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUGFuZWxYaW5YaToge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5Ob2RlLFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5L+h5oGv55WM6Z2iJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFBhbmVsUWlhbkJ1R291OiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLk5vZGUsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6ICfpkrHkuI3lpJ/nlYzpnaInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTm9kZUF1ZGlvUGFyZW50OiBjYy5Ob2RlLC8v5omA5pyJ6Z+z5pWI55qE54i26IqC54K5XHJcbiAgICAgICAgc3RhdGVNYWNoaW5lOiBTdGF0ZU1hY2hpbmUsLy/nirbmgIHmnLpcclxuICAgICAgICB4aWF6aHVTdGF0ZU5vZGU6IGNjLk5vZGUsLy/kuIvms6joioLngrlcclxuICAgICAgICBiZXRUaW1lX2xhYjogY2MuTGFiZWwsLy/kuIvms6jml7bpl7RcclxuICAgICAgICB6aHVhbmdJbmZvX05vZGU6IGNjLk5vZGUsLy/luoTlrrbkv6Hmga9cclxuICAgICAgICBxaWFuZ05vZGU6IGNjLk5vZGUsLy/miqLluoRcclxuICAgICAgICB6aHVhbmdMaW1pdF9sYWI6IGNjLkxhYmVsLFxyXG4gICAgICAgIHFpYW5nemh1YW5nTnVtOiBjYy5MYWJlbCwvL+aKouW6hOS6uuaVsFxyXG4gICAgICAgIHpodWFuZ0hlYWRfTm9kZTogY2MuTm9kZSwvL+W6hOWutuWktOWDj1xyXG4gICAgICAgIHpodWFuZ05hbWVfbGFiOiBjYy5MYWJlbCwvL+W6hOWutuWnk+WQjVxyXG4gICAgICAgIHpodWFuZ0NvaW5fbGFiOiBjYy5MYWJlbCwvL+W6hOWutumSseaVsFxyXG4gICAgICAgIGJldE1hc2s6IGNjLk5vZGUsLy/kuIvms6jljLrpga7nvalcclxuICAgICAgICBCdG5BcnJheUludGVyYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IFtdLFxyXG4gICAgICAgICAgICB0eXBlOiBbY2MuQnV0dG9uXSxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+aJgOaciemcgOimgeWcqOeKtuaAgeWPmOWMluaXtuaUueWPmOWPr+S6pOS6kuaAp+eahOaMiemSrueahOmbhuWQiCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBOb2RlQXJyYXlYaWFaaHU6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogW10sXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLk5vZGUsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IFwi5LiL5rOo55qE6IqC54K55pWw57uEXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBTZXJ2ZXJEYXRhVG9Mb2NhbERhdGE6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogW10sXHJcbiAgICAgICAgICAgIHR5cGU6IFtjYy5JbnRlZ2VyXSxcclxuICAgICAgICAgICAgdG9vbHRpcDogXCLmnI3liqHlmajntKLlvJXmlbDmja7ovazmnKzlnLDntKLlvJXmlbDmja5cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGljb246IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogW10sXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaG93X2hpc3Rvcnk6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+WOhuWPsuiusOW9leiKgueCuScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBoaXN0b3J5X3NodWlndW86IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuUHJlZmFiLFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5Y6G5Y+y5rC05p6c5Zu+5qCHJyxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB3aW5kb3cuQkNCTV9pbnMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IHJlcXVpcmUoJ2JjYm1fTmV0V29yaycpLmdldEluc3RhbnQ7XHJcbiAgICAgICAgR2xvYmFsID0gcmVxdWlyZShcIlBsYXllckluZm9cIikuZ2V0SW5zdGFudDtcclxuICAgIH0sXHJcblxyXG4gICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsuTGFuZGxvcmRzU29ja2V0LmVtaXQoJ2dldEdhbWVUeXBlJywgJycpO1xyXG4gICAgICAgIHRoaXMubmV0d29yay5MYW5kbG9yZHNTb2NrZXQuZW1pdChcImdldEdhbWVSZWNvcmRMaXN0XCIsIFwiXCIpO1xyXG4gICAgICAgIHRoaXMubmFtZV9sYWIuc3RyaW5nID0gR2xvYmFsLnBsYXllck5hbWU7XHJcbiAgICAgICAgc2V0SGVhZFRleHR1cmUodGhpcy5oZWFkX05vZGUsIEdsb2JhbC5wbGF5ZXJIZWFkSWQpO1xyXG4gICAgICAgIHRoaXMuTGFiZWxKaW5CaS5zdHJpbmcgPSAoR2xvYmFsLnBsYXllckNvaW4gLyBHbG9iYWwuZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpOyAvL+aAu+mHkeW4geaVsFxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtQXJyYXlMZW5ndGggPSB0aGlzLk5vZGVBcnJheVhpYVpodS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5faW50QXJyYXlYaWFaaHUgPSBuZXcgQXJyYXkodGhpcy5faXRlbUFycmF5TGVuZ3RoKTsgICAgLy/mr4/np43msLTmnpznmoTms6jmlbBcclxuICAgICAgICB0aGlzLm1faUdhbWVPdmVyVGltZSA9IC0xOy8v5LiL5rOo5Ymp5L2Z5pe26Ze0XHJcbiAgICAgICAgdGhpcy5kdXpodU1vbmV5ID0gMTAwOyAgICAgICAgICAgICAgLy/ljZXms6jph5Hpop1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0QmV0UG9vbCgpO1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKCdFdmVudF9aaHVhblBhblN0b3AnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7Ly/lgZzmraLkvKDpgJLlvZPliY3kuovku7ZcclxuICAgICAgICAgICAgLy/mmL7npLrnu5PmnpxcclxuICAgICAgICAgICAgaWYgKHNlbGYuX3dpbkNvaW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlTWFjaGluZS5JbnB1dF9SZWFkeShzZWxmLlNob3dUaW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGVNYWNoaW5lLklucHV0X1JlYWR5KDAuMDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v55uR5ZCs54q25oCB5py65pS55Y+Y5LqL5Lu2XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKCdFdmVudF9TdGF0ZUNoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsvL+WBnOatouS8oOmAkuW9k+WJjeS6i+S7tlxyXG4gICAgICAgICAgICAvL+S4jeefpemBk+aAjuS5iOeUqGpz5YaZ5p6a5Li+5Y+Y6YeP77yM5YWI55So5pW05pWw5Luj5pu/5ZCnXHJcbiAgICAgICAgICAgIC8v6KeE5a6ac3RhdGUgPT09IDAg6KGo56S65YeG5aSH54q25oCB77yM6Kej6Zmk55WM6Z2i5Lqk5LqS6ZmQ5Yi2XHJcbiAgICAgICAgICAgIC8v6KeE5a6ac3RhdGUgPT09IDEg6KGo56S65byA5aeL54q25oCB77yM6L2s5Yqo6L2s6L2u77yM6ZmQ5Yi26YOo5YiG55WM6Z2i5Lqk5LqS5Yqf6IO9XHJcbiAgICAgICAgICAgIC8v6KeE5a6ac3RhdGUgPT09IDIg6KGo56S65YGc5q2i54q25oCB77yM5YGc5q2i6L2s6L2u5bm25pi+56S65Zu+5qCH57uT5p6cXHJcbiAgICAgICAgICAgIC8v6KeE5a6ac3RhdGUgPT09IDMg6KGo56S65Lit5aWW5bGV56S654q25oCBLOaYvuekuue7k+eul1xyXG4gICAgICAgICAgICAvL+inhOWumnN0YXRlID09PSA0IOihqOekuumUmeivr+eKtuaAge+8jOWBnOatoui9rOi9rlxyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRldGFpbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIC8v5YeG5aSH54q25oCB77yM6Kej6Zmk55WM6Z2i5Lqk5LqS6ZmQ5Yi2XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5TZXRQYW5lbEludGVyYWN0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIC8v5byA5aeL54q25oCB77yM6L2s5Yqo6L2s6L2u77yM6ZmQ5Yi26YOo5YiG55WM6Z2i5Lqk5LqS5Yqf6IO9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5TZXRQYW5lbEludGVyYWN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL+WPkeWKqFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuWmh1YW5QYW4uTGF1bmNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5aaHVhblBhbi5TdG9wKHNlbGYuU2VydmVyRGF0YVRvTG9jYWxEYXRhW3NlbGYuX2xpc3RXaW5MaW5lc1swXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIC8v5Lit5aWW5bGV56S654q25oCBLOaYvuekuue7k+eul1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuTGFiZWxKaW5CaS5zdHJpbmcgPSAoR2xvYmFsLnBsYXllckNvaW4gLyBHbG9iYWwuZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpOzsvL+aAu+mHkeW4geaVsFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuTGFiZWxKaWFuZ0xpLnN0cmluZyA9IHNlbGYuX3dpbkNvaW47Ly/mmL7npLrmnKzlsYDotaLlpJrlsJHpkrFcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpc3Rvcnkoc2VsZi5fbGlzdFdpbkNhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/plJnor6/nirbmgIHvvIzlgZzmraLovazova5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLlpodWFuUGFuLlN0b3AoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIC8v6LWw5Yiw6L+Z6IKv5a6a5Ye66ZSZ5LqGXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICBpZiAodGhpcy5tX2lHYW1lT3ZlclRpbWUgJiYgdGhpcy54aWF6aHVTdGF0ZU5vZGUuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gcGFyc2VJbnQodGhpcy5tX2lHYW1lT3ZlclRpbWUgLSBEYXRlLm5vdygpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodCA8PSA1ICYmIHQgKyBcIlwiICE9IHRoaXMuYmV0VGltZV9sYWIuc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5RWZmZWN0KCdjb3VudGRvd24nKTtcclxuICAgICAgICAgICAgICAgIGlmICh0ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5RWZmZWN0KCdzdG9wX3MnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54aWF6aHVTdGF0ZU5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5iZXRUaW1lX2xhYi5zdHJpbmcgPSB0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgaW5pdF9zdGF0KHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChyZXN1bHQuelVzZXIpIHtcclxuICAgICAgICAgICAgdGhpcy56aHVhbmdOYW1lX2xhYi5zdHJpbmcgPSByZXN1bHQuelVzZXIubmFtZTtcclxuICAgICAgICAgICAgdGhpcy56aHVhbmdDb2luX2xhYi5zdHJpbmcgPSAocmVzdWx0LnpVc2VyLnpDb2luIC8gR2xvYmFsLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgc2V0SGVhZFRleHR1cmUodGhpcy56aHVhbmdIZWFkX05vZGUsIHJlc3VsdC56VXNlci51cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnFpYW5nemh1YW5nTnVtLnN0cmluZyA9IHJlc3VsdC5xaWFuZ3podWFuZ051bSArIFwi5Lq65oqi5bqEXCI7XHJcbiAgICAgICAgdGhpcy56aHVhbmdMaW1pdF9sYWIuc3RyaW5nID0gKHJlc3VsdC56aHVhbmdfbGltaXQgLyBHbG9iYWwuZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpICsgXCLph5HluIHmiqLluoRcIjtcclxuICAgICAgICBpZiAocmVzdWx0LmdhbWVfdHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9pR2FtZU92ZXJUaW1lID0gRGF0ZS5ub3coKSAvIDEwMDAgKyByZXN1bHQuYmV0X3RpbWU7XHJcbiAgICAgICAgICAgIHRoaXMueGlhemh1U3RhdGVOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYmV0TWFzay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnhpYXpodVN0YXRlTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5iZXRNYXNrLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYmV0TWFzay5jaGlsZHJlblsyXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC5nYW1lX3R5cGUgPT0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLnFpYW5nTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnpodWFuZ0luZm9fTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tX2lHYW1lT3ZlclRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMCArIHJlc3VsdC5xaWFuZ190aW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucWlhbmdOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnpodWFuZ0luZm9fTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgLy/liJ3lp4vljJbkuIvms6hcclxuICAgIGluaXRCZXRQb29sKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbUFycmF5TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5faW50QXJyYXlYaWFaaHVbaV0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLk5vZGVBcnJheVhpYVpodVtpXS5nZXRDaGlsZEJ5TmFtZShcIuacrOS6uuS4i+azqFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiMC4wMFwiO1xyXG4gICAgICAgICAgICB0aGlzLk5vZGVBcnJheVhpYVpodVtpXS5nZXRDaGlsZEJ5TmFtZShcIuaJgOacieS4i+azqFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiMC4wMFwiO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+aKouW6hFxyXG4gICAgb25CdG5DbGlja19xaWFuZ3podWFuZygpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsuTGFuZGxvcmRzU29ja2V0LmVtaXQoJ3FpYW5nWmh1YW5nJywgJycpO1xyXG4gICAgfSxcclxuICAgIC8v54K55Ye75L+h5oGv5oyJ6ZKuXHJcbiAgICBvbkJ0bkNsaWNrX1hpblhpOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5QYW5lbFhpblhpLmFjdGl2ZSA9ICF0aGlzLlBhbmVsWGluWGkuYWN0aXZlO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkJ0bkNsaWNrX3hpYXpodTogZnVuY3Rpb24gKGV2ZW50LCBpdGVtSW5kZXgpIHtcclxuICAgICAgICBsZXQgc3RyID0ge1xyXG4gICAgICAgICAgICBiZXRfcmVzOiBwYXJzZUludChpdGVtSW5kZXgpLFxyXG4gICAgICAgICAgICBiZXRfZ29sZDogdGhpcy5kdXpodU1vbmV5LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrLkxhbmRsb3Jkc1NvY2tldC5lbWl0KCdsb3R0ZXJ5Jywgc3RyKTtcclxuICAgICAgICAvLyBjYy5sb2coc3RyKVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+eCueWHu+WjsOmfs+W8gOWFs1xyXG4gICAgb25Ub2dnbGVDbGlja19TaGVuZ1lpbjogZnVuY3Rpb24gKHRvZ2dsZSwgY3VzdG9tRXZlbnREYXRhKSB7XHJcbiAgICAgICAgaWYgKHRvZ2dsZS5pc0NoZWNrZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk5vZGVBdWRpb1BhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Ob2RlQXVkaW9QYXJlbnQuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KGNjLkF1ZGlvU291cmNlKS52b2x1bWUgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTm9kZUF1ZGlvUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLk5vZGVBdWRpb1BhcmVudC5jaGlsZHJlbltpXS5nZXRDb21wb25lbnQoY2MuQXVkaW9Tb3VyY2UpLnZvbHVtZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v54K55Ye76L+U5Zue5aSn5Y6F5oyJ6ZKuXHJcbiAgICBvbkJ0bkNsaWNrX0JhY2tIYWxsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrLkxhbmRsb3Jkc1NvY2tldC5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiTG9iYnlNYWluXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+mAieaLqeetueeggVxyXG4gICAgY2hvb3NlQmV0X2NsaWNrKHRhcmdldCwgbnVtKSB7XHJcbiAgICAgICAgdGhpcy5kdXpodU1vbmV5ID0gcGFyc2VJbnQobnVtKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/lhbPpl63lvLnlh7rnlYzpnaJcclxuICAgIG9uQnRuQ2xpY2tfY2xvc2VQYW5lbDogZnVuY3Rpb24gKGV2ZW50LCBjdXN0b21FdmVudERhdGEpIHtcclxuICAgICAgICAvL+i/memHjCBldmVudCDmmK/kuIDkuKogVG91Y2ggRXZlbnQg5a+56LGh77yM5L2g5Y+v5Lul6YCa6L+HIGV2ZW50LnRhcmdldCDlj5bliLDkuovku7bnmoTlj5HpgIHoioLngrlcclxuICAgICAgICBldmVudC50YXJnZXQucGFyZW50LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXR6aHVhbmcocmV0KSB7XHJcbiAgICAgICAgdGhpcy56aHVhbmdJbmZvX05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnFpYW5nTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnhpYXpodVN0YXRlTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYmV0TWFzay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnpodWFuZ05hbWVfbGFiLnN0cmluZyA9IHJldC5uYW1lO1xyXG4gICAgICAgIHRoaXMuemh1YW5nQ29pbl9sYWIuc3RyaW5nID0gKHJldC56Q29pbiAvIEdsb2JhbC5leGNoYW5nZVJhdGUpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgc2V0SGVhZFRleHR1cmUodGhpcy56aHVhbmdIZWFkX05vZGUsIHJldC51cmwpO1xyXG4gICAgfSxcclxuICAgIC8v5byA5aeL5oqi5bqEXHJcbiAgICBxaWFuZ0JlZ2luKCkge1xyXG4gICAgICAgIHRoaXMucWlhbmd6aHVhbmdOdW0uc3RyaW5nID0gXCIw5Lq65oqi5bqEXCI7XHJcbiAgICAgICAgdGhpcy54aWF6aHVTdGF0ZU5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iZXRNYXNrLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iZXRNYXNrLmNoaWxkcmVuWzJdLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xaWFuZ05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnpodWFuZ0luZm9fTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1faUdhbWVPdmVyVGltZSA9IERhdGUubm93KCkgLyAxMDAwICsgNTtcclxuICAgIH0sXHJcbiAgICAvL+W8gOWni+S4i+azqFxyXG4gICAgYmV0QmVnaW4oKSB7XHJcbiAgICAgICAgLy8gdGhpcy5iZXRCZWdpbl9yKCk7XHJcbiAgICAgICAgdGhpcy5tX2lHYW1lT3ZlclRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMCArIDQwO1xyXG4gICAgICAgIHRoaXMuemh1YW5nSW5mb19Ob2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5xaWFuZ05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy54aWF6aHVTdGF0ZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJldE1hc2suYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgLy/lvIDlpZZcclxuICAgIHNob3dSZXN1bHQocmV0KSB7XHJcbiAgICAgICAgdGhpcy5pbml0QmV0UG9vbCgpO1xyXG4gICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lLklucHV0X1N0YXJ0KHRoaXMuSW50ZXJ2YWwsIHRoaXMuVGltZW91dCk7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl93aW5Db2luID0gcmV0W1widXNlcl93aW5cIl07Ly/kv53lrZjmnI3liqHlmajov5Tlm57nmoTmnKzlsYDotaLlpJrlsJHpkrFcclxuICAgICAgICAgICAgdGhpcy5fbGlzdFdpbkxpbmVzID0gW3JldFtcIndpbl9yZXNcIl1dOy8v5L+d5a2Y5pyN5Yqh5Zmo6L+U5Zue55qE5Lit5ZOq5LiA5p2h57q/XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3RXaW5DYXIgPSByZXRbXCJ3aW5fY2FyXCJdOy8v5L+d5a2Y5pyN5Yqh5Zmo6L+U5Zue55qE5Lit5ZOq5LiA5p2h57q/XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lLklucHV0X1N0b3AoKTtcclxuICAgICAgICB9LCAzKTtcclxuICAgIH0sXHJcbiAgICAvL+aKouW6hOe7k+aenFxyXG4gICAgc2hvd0hpbnQocmV0KSB7XHJcbiAgICAgICAgLy8gY2MubG9nKGEpO1xyXG4gICAgICAgIHRoaXMucWlhbmd6aHVhbmdOdW0uc3RyaW5nID0gcmV0LnFpYW5nemh1YW5nTnVtICsgXCLkurrmiqLluoRcIjtcclxuICAgIH0sXHJcbiAgICAvL+aOpeaUtuWIsOacjeWKoeWZqOa2iOaBr++8mui/lOWbnuS4i+azqOe7k+aenFxyXG4gICAgb25CZXQ6IGZ1bmN0aW9uIChiZXRfZGljdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGJldF9kaWN0KTtcclxuICAgICAgICBsZXQgaW5kZXggPSBiZXRfZGljdC5iZXRfcmVzO1xyXG4gICAgICAgIHRoaXMuTGFiZWxKaW5CaS5zdHJpbmcgPSAoR2xvYmFsLnBsYXllckNvaW4gLyBHbG9iYWwuZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIHRoaXMuX2ludEFycmF5WGlhWmh1W2luZGV4XSArPSBiZXRfZGljdC5iZXRfZ29sZDtcclxuICAgICAgICB0aGlzLk5vZGVBcnJheVhpYVpodVtpbmRleF0uZ2V0Q2hpbGRCeU5hbWUoXCLmnKzkurrkuIvms6hcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPVxyXG4gICAgICAgICAgICAodGhpcy5faW50QXJyYXlYaWFaaHVbaW5kZXhdIC8gR2xvYmFsLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuXHJcbiAgICB9LFxyXG4gICAgLy/mjqXmlLbliLDmnI3liqHlmajmtojmga/vvJrmm7TmlrDkuIvms6jmsaDlrZBcclxuICAgIGJldFVwZGF0ZShkYXRhKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTm9kZUFycmF5WGlhWmh1W2ldLmdldENoaWxkQnlOYW1lKFwi5omA5pyJ5LiL5rOoXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID1cclxuICAgICAgICAgICAgICAgIChkYXRhW2ldIC8gR2xvYmFsLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6LCD5pW055WM6Z2i5Lqk5LqS5oCnXHJcbiAgICBTZXRQYW5lbEludGVyYWN0aW9uOiBmdW5jdGlvbiAoaW50ZXJhY3RhYmxlKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuQnRuQXJyYXlJbnRlcmFjdGlvbi5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLkJ0bkFycmF5SW50ZXJhY3Rpb25baV0uaW50ZXJhY3RhYmxlID0gaW50ZXJhY3RhYmxlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgaGlzdG9yeTogZnVuY3Rpb24gKGxpbmVzKSB7XHJcbiAgICAgICAgdmFyIGFsbG5vZGUgPSB0aGlzLnNob3dfaGlzdG9yeS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoYWxsbm9kZS5sZW5ndGggPj0gMjApIHtcclxuICAgICAgICAgICAgYWxsbm9kZVswXS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuID0gY2MuaW5zdGFudGlhdGUodGhpcy5oaXN0b3J5X3NodWlndW8pO1xyXG4gICAgICAgIG4uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmljb25bbGluZXNdO1xyXG4gICAgICAgIG4ucGFyZW50ID0gdGhpcy5zaG93X2hpc3Rvcnk7XHJcbiAgICB9XHJcbn0pOyJdfQ==