
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/LaoHuJi/module/wheel/wheel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b56c4tAofJKAb3kY74PSS67', 'wheel');
// LaoHuJi/module/wheel/wheel.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    WheelIndex: {
      "default": 1,
      tooltip: '第几个转轮（从1开始）'
    },
    ItemHigh: {
      "default": 0,
      tooltip: '图标的高度'
    },
    LaunchDelay: {
      "default": 0.2,
      tooltip: '响应启动命令的延迟时间'
    },
    StopDelay: {
      "default": 0.5,
      tooltip: '响应制动命令的延迟时间'
    },
    MaxSpeed: {
      "default": 20,
      tooltip: '一秒钟内闪过的图标的个数'
    },
    LaunchInertia: {
      "default": 5,
      tooltip: '从静止加速到最大速度需要经过几个图标'
    },
    StopInertia: {
      "default": 5,
      tooltip: '从最大速度减速到静止需要经过几个图标'
    },
    GuiWeiShiJian: {
      "default": 0.5,
      tooltip: '图标归位需要的时间'
    }
  },
  start: function start() {
    this._isStop = true; //标记当前运动状态

    this._isDispatchEvent = false; //是否发送“Event_WhellStop”消息

    this._currentSpeed = 0; //当前的速度

    this._maxSpeed = this.ItemHigh * this.MaxSpeed; //最大速度

    this._launchAcceleration = 0.5 * this._maxSpeed * this._maxSpeed / (this.LaunchInertia * this.ItemHigh);
    this._stopAcceleration = 0.5 * this._maxSpeed * this._maxSpeed / (this.StopInertia * this.ItemHigh);
    this._guiWeiSuDu = this.ItemHigh * 0.5 / this.GuiWeiShiJian;
    this._itemNum = this.node.children.length;
    this._validItemNum = this._itemNum - 3; //（有效的图标个数 = 图标总数 - 3）减3的原因是可见的图标个数为3个

    this._validItemTotalHigh = this._validItemNum * this.ItemHigh; //有效的图标的总高度
    //图标数组

    this._itemArray = new Array(this._itemNum);

    for (var i = 0; i < this._itemNum; i++) {
      this._itemArray[i] = this.node.children[i].getComponent(cc.Sprite);
    } //因为使用了一条直线来模拟一个圆周，为了保证旋转一圈时不穿帮，需要让直线首位接应
    //可见的图标个数为3个，所以首部3个图标和尾部3个图标必须是是完全相同的


    this._index_0_start = 0;
    this._index_1_start = 1;
    this._index_2_start = 2;
    this._index_0_end = this._validItemNum + 0;
    this._index_1_end = this._validItemNum + 1;
    this._index_2_end = this._validItemNum + 2;
    this._stopPosY = 0; //停在0点    
  },
  update: function update(dt) {
    if (this._isStop) {
      if (this._currentSpeed > 0) {
        //减速
        this._currentSpeed -= this._stopAcceleration * dt;
        this.node.y -= this._currentSpeed * dt; //转了一轮

        if (this.node.y < -this._validItemTotalHigh) {
          this.node.y += this._validItemTotalHigh;
        }
      } else {
        this._currentSpeed = 0; //图标对齐

        var move = this._stopPosY - this.node.y; //正负未知

        if (move > 0.01 || move < -0.01) {
          //move太小证明两点重合
          if (Math.abs(move) > this._validItemTotalHigh * 0.5) //补丁：修复在首尾接口处小概率可能出现的BUG
            {
              this.node.y += this._validItemTotalHigh;
              this._stopPosY = 0;
              move = this._stopPosY - this.node.y;
            }

          var thisFrameMove = this._guiWeiSuDu * dt; //正数

          if (thisFrameMove > Math.abs(move)) {
            thisFrameMove = move; //这次移动过后两点将重合
          } else if (move < 0) {
            thisFrameMove *= -1;
          }

          this.node.y += thisFrameMove;
        } else if (this._isDispatchEvent) {
          this.DispatchEvent();
          this._isDispatchEvent = false;
        }
      }
    } else {
      if (this._currentSpeed < this._maxSpeed) {
        //加速
        this._currentSpeed += this._launchAcceleration * dt;
      } else {
        //速度封顶
        this._currentSpeed = this._maxSpeed;
      }

      this.node.y -= this._currentSpeed * dt; //转了一轮

      if (this.node.y < -this._validItemTotalHigh) {
        this.node.y += this._validItemTotalHigh;
      }
    }
  },
  //投递事件
  DispatchEvent: function DispatchEvent() {
    var eventCustom = new cc.Event.EventCustom('Event_WhellStop', true);
    eventCustom.setUserData(this.WheelIndex);
    this.node.dispatchEvent(eventCustom);
  },
  Launch: function Launch() {
    this.unscheduleAllCallbacks();
    this.scheduleOnce(function () {
      this._isStop = false;
      this._isDispatchEvent = true;
    }, this.LaunchDelay);
  },
  Stop: function Stop(spriteFrame0, spriteFrame1, spriteFrame2) {
    this.unscheduleAllCallbacks();
    this.scheduleOnce(function () {
      this._isStop = true;
      var s = 0.5 * this._currentSpeed * this._currentSpeed / this._stopAcceleration; //以当前速度减速到0需要移动的距离

      var stopPosY = this.node.y - s; //停在哪个点上

      if (stopPosY < -this._validItemTotalHigh) {
        stopPosY += this._validItemTotalHigh;
      }

      var divisor = Math.abs(stopPosY) / this.ItemHigh;
      var round = Math.round(divisor);
      this._stopPosY = -1 * round * this.ItemHigh; //记录一下最终会停在哪

      if (spriteFrame0 != null && spriteFrame1 != null && spriteFrame2 != null && spriteFrame0 != undefined && spriteFrame1 != undefined && spriteFrame2 != undefined) {
        //修改图标
        var index_0 = round;
        var index_1 = round + 1;
        var index_2 = round + 2;
        this._itemArray[index_0].spriteFrame = spriteFrame0;
        this._itemArray[index_1].spriteFrame = spriteFrame1;
        this._itemArray[index_2].spriteFrame = spriteFrame2; //首尾图标保持一致

        if (index_0 <= this._index_2_start) {
          this._itemArray[this._index_0_end].spriteFrame = this._itemArray[this._index_0_start].spriteFrame;
          this._itemArray[this._index_1_end].spriteFrame = this._itemArray[this._index_1_start].spriteFrame;
          this._itemArray[this._index_2_end].spriteFrame = this._itemArray[this._index_2_start].spriteFrame;
        } else if (index_2 >= this._index_0_end) {
          this._itemArray[this._index_0_start].spriteFrame = this._itemArray[this._index_0_end].spriteFrame;
          this._itemArray[this._index_1_start].spriteFrame = this._itemArray[this._index_1_end].spriteFrame;
          this._itemArray[this._index_2_start].spriteFrame = this._itemArray[this._index_2_end].spriteFrame;
        }
      }
    }, this.StopDelay);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcTGFvSHVKaVxcbW9kdWxlXFx3aGVlbFxcd2hlZWwuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJXaGVlbEluZGV4IiwidG9vbHRpcCIsIkl0ZW1IaWdoIiwiTGF1bmNoRGVsYXkiLCJTdG9wRGVsYXkiLCJNYXhTcGVlZCIsIkxhdW5jaEluZXJ0aWEiLCJTdG9wSW5lcnRpYSIsIkd1aVdlaVNoaUppYW4iLCJzdGFydCIsIl9pc1N0b3AiLCJfaXNEaXNwYXRjaEV2ZW50IiwiX2N1cnJlbnRTcGVlZCIsIl9tYXhTcGVlZCIsIl9sYXVuY2hBY2NlbGVyYXRpb24iLCJfc3RvcEFjY2VsZXJhdGlvbiIsIl9ndWlXZWlTdUR1IiwiX2l0ZW1OdW0iLCJub2RlIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJfdmFsaWRJdGVtTnVtIiwiX3ZhbGlkSXRlbVRvdGFsSGlnaCIsIl9pdGVtQXJyYXkiLCJBcnJheSIsImkiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJfaW5kZXhfMF9zdGFydCIsIl9pbmRleF8xX3N0YXJ0IiwiX2luZGV4XzJfc3RhcnQiLCJfaW5kZXhfMF9lbmQiLCJfaW5kZXhfMV9lbmQiLCJfaW5kZXhfMl9lbmQiLCJfc3RvcFBvc1kiLCJ1cGRhdGUiLCJkdCIsInkiLCJtb3ZlIiwiTWF0aCIsImFicyIsInRoaXNGcmFtZU1vdmUiLCJEaXNwYXRjaEV2ZW50IiwiZXZlbnRDdXN0b20iLCJFdmVudCIsIkV2ZW50Q3VzdG9tIiwic2V0VXNlckRhdGEiLCJkaXNwYXRjaEV2ZW50IiwiTGF1bmNoIiwidW5zY2hlZHVsZUFsbENhbGxiYWNrcyIsInNjaGVkdWxlT25jZSIsIlN0b3AiLCJzcHJpdGVGcmFtZTAiLCJzcHJpdGVGcmFtZTEiLCJzcHJpdGVGcmFtZTIiLCJzIiwic3RvcFBvc1kiLCJkaXZpc29yIiwicm91bmQiLCJ1bmRlZmluZWQiLCJpbmRleF8wIiwiaW5kZXhfMSIsImluZGV4XzIiLCJz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QW1ELEtBQUt4QyxVQUFMLENBQWdCLEtBQUtTLFlBQXJCLEVBQW1DK0IsV0FBdEY7QUFDQSxlQUFLeEMsVUFBTCxDQUFnQixLQUFLTyxjQUFyQixFQUFxQ2lDLFdBQXJDLEdBQW1ELEtBQUt4QyxVQUFMLENBQWdCLEtBQUtVLFlBQXJCLEVBQW1DOEIsV0FBdEY7QUFDSDtBQUNKO0FBQ0osS0FwQ0QsRUFvQ0csS0FBSzNELFNBcENSO0FBcUNIO0FBL0tJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgV2hlZWxJbmRleDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAxLFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn56ys5Yeg5Liq6L2s6L2u77yI5LuOMeW8gOWni++8iScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBJdGVtSGlnaDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5Zu+5qCH55qE6auY5bqmJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIExhdW5jaERlbGF5OiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IDAuMixcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+WTjeW6lOWQr+WKqOWRveS7pOeahOW7tui/n+aXtumXtCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBTdG9wRGVsYXk6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogMC41LFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5ZON5bqU5Yi25Yqo5ZG95Luk55qE5bu26L+f5pe26Ze0JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIE1heFNwZWVkOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IDIwLFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5LiA56eS6ZKf5YaF6Zeq6L+H55qE5Zu+5qCH55qE5Liq5pWwJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIExhdW5jaEluZXJ0aWE6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogNSxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+S7jumdmeatouWKoOmAn+WIsOacgOWkp+mAn+W6pumcgOimgee7j+i/h+WHoOS4quWbvuaghycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBTdG9wSW5lcnRpYToge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiA1LFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5LuO5pyA5aSn6YCf5bqm5YeP6YCf5Yiw6Z2Z5q2i6ZyA6KaB57uP6L+H5Yeg5Liq5Zu+5qCHJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIEd1aVdlaVNoaUppYW46IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogMC41LFxyXG4gICAgICAgICAgICB0b29sdGlwOiAn5Zu+5qCH5b2S5L2N6ZyA6KaB55qE5pe26Ze0JyxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5faXNTdG9wID0gdHJ1ZTsvL+agh+iusOW9k+WJjei/kOWKqOeKtuaAgVxyXG4gICAgICAgIHRoaXMuX2lzRGlzcGF0Y2hFdmVudCA9IGZhbHNlOy8v5piv5ZCm5Y+R6YCB4oCcRXZlbnRfV2hlbGxTdG9w4oCd5raI5oGvXHJcbiAgICAgICAgdGhpcy5fY3VycmVudFNwZWVkID0gMDsgIC8v5b2T5YmN55qE6YCf5bqmXHJcbiAgICAgICAgdGhpcy5fbWF4U3BlZWQgPSB0aGlzLkl0ZW1IaWdoICogdGhpcy5NYXhTcGVlZDsgIC8v5pyA5aSn6YCf5bqmXHJcbiAgICAgICAgdGhpcy5fbGF1bmNoQWNjZWxlcmF0aW9uID0gMC41ICogdGhpcy5fbWF4U3BlZWQgKiB0aGlzLl9tYXhTcGVlZCAvICh0aGlzLkxhdW5jaEluZXJ0aWEgKiB0aGlzLkl0ZW1IaWdoKTtcclxuICAgICAgICB0aGlzLl9zdG9wQWNjZWxlcmF0aW9uID0gMC41ICogdGhpcy5fbWF4U3BlZWQgKiB0aGlzLl9tYXhTcGVlZCAvICh0aGlzLlN0b3BJbmVydGlhICogdGhpcy5JdGVtSGlnaCk7XHJcbiAgICAgICAgdGhpcy5fZ3VpV2VpU3VEdSA9ICh0aGlzLkl0ZW1IaWdoICogMC41KSAvIHRoaXMuR3VpV2VpU2hpSmlhbjtcclxuICAgICAgICB0aGlzLl9pdGVtTnVtID0gdGhpcy5ub2RlLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl92YWxpZEl0ZW1OdW0gPSB0aGlzLl9pdGVtTnVtIC0gMzsvL++8iOacieaViOeahOWbvuagh+S4quaVsCA9IOWbvuagh+aAu+aVsCAtIDPvvInlh48z55qE5Y6f5Zug5piv5Y+v6KeB55qE5Zu+5qCH5Liq5pWw5Li6M+S4qlxyXG4gICAgICAgIHRoaXMuX3ZhbGlkSXRlbVRvdGFsSGlnaCA9IHRoaXMuX3ZhbGlkSXRlbU51bSAqIHRoaXMuSXRlbUhpZ2g7Ly/mnInmlYjnmoTlm77moIfnmoTmgLvpq5jluqZcclxuICAgICAgICAvL+Wbvuagh+aVsOe7hFxyXG4gICAgICAgIHRoaXMuX2l0ZW1BcnJheSA9IG5ldyBBcnJheSh0aGlzLl9pdGVtTnVtKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1OdW07IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtQXJyYXlbaV0gPSB0aGlzLm5vZGUuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Zug5Li65L2/55So5LqG5LiA5p2h55u057q/5p2l5qih5ouf5LiA5Liq5ZyG5ZGo77yM5Li65LqG5L+d6K+B5peL6L2s5LiA5ZyI5pe25LiN56m/5biu77yM6ZyA6KaB6K6p55u057q/6aaW5L2N5o6l5bqUXHJcbiAgICAgICAgLy/lj6/op4HnmoTlm77moIfkuKrmlbDkuLoz5Liq77yM5omA5Lul6aaW6YOoM+S4quWbvuagh+WSjOWwvumDqDPkuKrlm77moIflv4XpobvmmK/mmK/lrozlhajnm7jlkIznmoRcclxuICAgICAgICB0aGlzLl9pbmRleF8wX3N0YXJ0ID0gMDtcclxuICAgICAgICB0aGlzLl9pbmRleF8xX3N0YXJ0ID0gMTtcclxuICAgICAgICB0aGlzLl9pbmRleF8yX3N0YXJ0ID0gMjtcclxuICAgICAgICB0aGlzLl9pbmRleF8wX2VuZCA9IHRoaXMuX3ZhbGlkSXRlbU51bSArIDA7XHJcbiAgICAgICAgdGhpcy5faW5kZXhfMV9lbmQgPSB0aGlzLl92YWxpZEl0ZW1OdW0gKyAxO1xyXG4gICAgICAgIHRoaXMuX2luZGV4XzJfZW5kID0gdGhpcy5fdmFsaWRJdGVtTnVtICsgMjtcclxuICAgICAgICB0aGlzLl9zdG9wUG9zWSA9IDA7Ly/lgZzlnKgw54K5ICAgIFxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc1N0b3ApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTcGVlZCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8v5YeP6YCfXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWQgLT0gdGhpcy5fc3RvcEFjY2VsZXJhdGlvbiAqIGR0O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS55IC09IHRoaXMuX2N1cnJlbnRTcGVlZCAqIGR0O1xyXG4gICAgICAgICAgICAgICAgLy/ovazkuobkuIDova5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueSA8IC10aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUueSArPSB0aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy/lm77moIflr7npvZBcclxuICAgICAgICAgICAgICAgIHZhciBtb3ZlID0gdGhpcy5fc3RvcFBvc1kgLSB0aGlzLm5vZGUueTsvL+ato+i0n+acquefpVxyXG4gICAgICAgICAgICAgICAgaWYgKG1vdmUgPiAwLjAxIHx8IG1vdmUgPCAtMC4wMSkgey8vbW92ZeWkquWwj+ivgeaYjuS4pOeCuemHjeWQiFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb3ZlKSA+ICh0aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2ggKiAwLjUpKS8v6KGl5LiB77ya5L+u5aSN5Zyo6aaW5bC+5o6l5Y+j5aSE5bCP5qaC546H5Y+v6IO95Ye6546w55qEQlVHXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUueSArPSB0aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BQb3NZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZSA9IHRoaXMuX3N0b3BQb3NZIC0gdGhpcy5ub2RlLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRnJhbWVNb3ZlID0gdGhpcy5fZ3VpV2VpU3VEdSAqIGR0Oy8v5q2j5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNGcmFtZU1vdmUgPiBNYXRoLmFicyhtb3ZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzRnJhbWVNb3ZlID0gbW92ZTsvL+i/measoeenu+WKqOi/h+WQjuS4pOeCueWwhumHjeWQiFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzRnJhbWVNb3ZlICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUueSArPSB0aGlzRnJhbWVNb3ZlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5faXNEaXNwYXRjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwYXRjaEV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNEaXNwYXRjaEV2ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3BlZWQgPCB0aGlzLl9tYXhTcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgLy/liqDpgJ9cclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTcGVlZCArPSB0aGlzLl9sYXVuY2hBY2NlbGVyYXRpb24gKiBkdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v6YCf5bqm5bCB6aG2XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWQgPSB0aGlzLl9tYXhTcGVlZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ub2RlLnkgLT0gdGhpcy5fY3VycmVudFNwZWVkICogZHQ7XHJcbiAgICAgICAgICAgIC8v6L2s5LqG5LiA6L2uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueSA8IC10aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS55ICs9IHRoaXMuX3ZhbGlkSXRlbVRvdGFsSGlnaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/mipXpgJLkuovku7ZcclxuICAgIERpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZXZlbnRDdXN0b20gPSBuZXcgY2MuRXZlbnQuRXZlbnRDdXN0b20oJ0V2ZW50X1doZWxsU3RvcCcsIHRydWUpO1xyXG4gICAgICAgIGV2ZW50Q3VzdG9tLnNldFVzZXJEYXRhKHRoaXMuV2hlZWxJbmRleCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnRDdXN0b20pO1xyXG4gICAgfSxcclxuXHJcbiAgICBMYXVuY2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVuc2NoZWR1bGVBbGxDYWxsYmFja3MoKTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzU3RvcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rpc3BhdGNoRXZlbnQgPSB0cnVlO1xyXG4gICAgICAgIH0sIHRoaXMuTGF1bmNoRGVsYXkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBTdG9wOiBmdW5jdGlvbiAoc3ByaXRlRnJhbWUwLCBzcHJpdGVGcmFtZTEsIHNwcml0ZUZyYW1lMikge1xyXG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNTdG9wID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzID0gMC41ICogdGhpcy5fY3VycmVudFNwZWVkICogdGhpcy5fY3VycmVudFNwZWVkIC8gdGhpcy5fc3RvcEFjY2VsZXJhdGlvbjsvL+S7peW9k+WJjemAn+W6puWHj+mAn+WIsDDpnIDopoHnp7vliqjnmoTot53nprtcclxuICAgICAgICAgICAgdmFyIHN0b3BQb3NZID0gdGhpcy5ub2RlLnkgLSBzOy8v5YGc5Zyo5ZOq5Liq54K55LiKXHJcbiAgICAgICAgICAgIGlmIChzdG9wUG9zWSA8IC10aGlzLl92YWxpZEl0ZW1Ub3RhbEhpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHN0b3BQb3NZICs9IHRoaXMuX3ZhbGlkSXRlbVRvdGFsSGlnaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZGl2aXNvciA9IE1hdGguYWJzKHN0b3BQb3NZKSAvIHRoaXMuSXRlbUhpZ2g7XHJcbiAgICAgICAgICAgIHZhciByb3VuZCA9IE1hdGgucm91bmQoZGl2aXNvcik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdG9wUG9zWSA9IC0xICogcm91bmQgKiB0aGlzLkl0ZW1IaWdoOy8v6K6w5b2V5LiA5LiL5pyA57uI5Lya5YGc5Zyo5ZOqXHJcblxyXG4gICAgICAgICAgICBpZiAoc3ByaXRlRnJhbWUwICE9IG51bGwgICAgICAmJiBzcHJpdGVGcmFtZTEgIT0gbnVsbCAgICAgICYmIHNwcml0ZUZyYW1lMiAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICBzcHJpdGVGcmFtZTAgIT0gdW5kZWZpbmVkICYmIHNwcml0ZUZyYW1lMSAhPSB1bmRlZmluZWQgJiYgc3ByaXRlRnJhbWUyICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy/kv67mlLnlm77moIdcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleF8wID0gcm91bmQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhfMSA9IHJvdW5kICsgMTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleF8yID0gcm91bmQgKyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1BcnJheVtpbmRleF8wXS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1BcnJheVtpbmRleF8xXS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1BcnJheVtpbmRleF8yXS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lMjtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+mmluWwvuWbvuagh+S/neaMgeS4gOiHtFxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4XzAgPD0gdGhpcy5faW5kZXhfMl9zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1BcnJheVt0aGlzLl9pbmRleF8wX2VuZF0uc3ByaXRlRnJhbWUgPSB0aGlzLl9pdGVtQXJyYXlbdGhpcy5faW5kZXhfMF9zdGFydF0uc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbUFycmF5W3RoaXMuX2luZGV4XzFfZW5kXS5zcHJpdGVGcmFtZSA9IHRoaXMuX2l0ZW1BcnJheVt0aGlzLl9pbmRleF8xX3N0YXJ0XS5zcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGVtQXJyYXlbdGhpcy5faW5kZXhfMl9lbmRdLnNwcml0ZUZyYW1lID0gdGhpcy5faXRlbUFycmF5W3RoaXMuX2luZGV4XzJfc3RhcnRdLnNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXhfMiA+PSB0aGlzLl9pbmRleF8wX2VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1BcnJheVt0aGlzLl9pbmRleF8wX3N0YXJ0XS5zcHJpdGVGcmFtZSA9IHRoaXMuX2l0ZW1BcnJheVt0aGlzLl9pbmRleF8wX2VuZF0uc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbUFycmF5W3RoaXMuX2luZGV4XzFfc3RhcnRdLnNwcml0ZUZyYW1lID0gdGhpcy5faXRlbUFycmF5W3RoaXMuX2luZGV4XzFfZW5kXS5zcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGVtQXJyYXlbdGhpcy5faW5kZXhfMl9zdGFydF0uc3ByaXRlRnJhbWUgPSB0aGlzLl9pdGVtQXJyYXlbdGhpcy5faW5kZXhfMl9lbmRdLnNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcy5TdG9wRGVsYXkpO1xyXG4gICAgfSxcclxufSk7Il19