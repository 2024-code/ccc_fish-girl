
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Lhdb/LHDB_Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cad9eJPztpGUoBO3jsN2yif', 'LHDB_Main');
// Script/Lhdb/LHDB_Main.js

"use strict";

var GEMOFFSET = 90;
cc.Class({
  "extends": cc.Component,
  //传100-100000  本地 10-200
  properties: {
    musicNode: cc.Node,
    levelTitle: [cc.Node],
    lblGoldPool: cc.Label,
    levelList: [cc.Node],
    lblChipList: [cc.Label],
    chipSpList: [cc.Node],
    lblCoin: cc.Label,
    lblAllCoin: cc.Label,
    lblLines: cc.Label,
    lblLinescore: cc.Label,
    slider: cc.Slider,
    tuoguanList: [cc.Node],
    helpNode: cc.Node,
    helpPageView: cc.PageView,
    exitBd: cc.Node,
    lblSmallBox: [cc.Label],
    //池
    areaList: [cc.Node],
    //大奖掉落球
    dropBallBd: cc.Node,
    dropBall: cc.Node,
    dropBallList0: [cc.Node],
    dropBallList1: [cc.Node],
    dropBallList2: [cc.Node],
    dropBallList3: [cc.Node],
    dropBallList4: [cc.Node],
    dropBd: cc.Node,
    lbldropBdCoin: cc.Label,
    tip: cc.Node,
    prefabs: [cc.Prefab],
    startBtn: cc.Button,
    btnMask: cc.Node
  },
  onLoad: function onLoad() {
    this.network = this.getComponent('LHDB_Network');
    this.audio = this.musicNode.getComponent('LHDB_Audio');
    this.lines = 0; //线数

    this.bet = 0; //单线下注金额

    this.tuoguan = false; //托管标志

    this.tmOffset = true; //开始按钮时间间隔

    this.gemList = []; //存储宝石节点用于boo

    this.gemPidList = []; //存储宝石pid
  },
  start: function start() {
    this.audio.stopAll();
    this.audio.playBgm();
    this.gameInit();
    this.setLevel(1); // this.setBox([1, 2, 3, 4, 5], [0, 1, 0, 1], 19999);
  },
  gameInit: function gameInit() {
    this.setLevel(0);

    for (var i in this.levelList) {
      var list = this.levelList[i].children;

      for (var j in list) {
        list[j].active = true;
      }
    }

    this.lblCoin.string = '0.00';
    this.lblAllCoin.string = '0.00';

    for (var _i in this.lblChipList) {
      this.lblChipList[_i].string = '0';
    }

    this.lblLines.string = '0';
    this.lblLinescore.string = '0';

    for (var _i2 in this.lblChipList) {
      this.lblChipList[_i2].node.active = false;
      this.chipSpList[_i2].active = true;
    }
  },

  /**
   * 切换关卡
   * @param {管卡等级1-3} lv 
   */
  setLevel: function setLevel(lv) {
    lv = parseInt(lv);
    this.level = lv;

    for (var i in this.levelTitle) {
      this.levelTitle[i].active = parseInt(lv) - 1 == i;
    }

    if (lv === 0) {
      for (var _i3 in this.areaList) {
        this.areaList[_i3].removeAllChildren();
      }
    } else if (lv === 1) {
      this.areaList[1].removeAllChildren();
      this.areaList[2].removeAllChildren();
    } else if (lv === 2) {
      this.areaList[0].removeAllChildren();
      this.areaList[2].removeAllChildren();
      var list = this.levelList[0].children;

      for (var j in list) {
        list[j].active = false;
      }
    } else if (lv === 3) {
      this.areaList[0].removeAllChildren();
      this.areaList[1].removeAllChildren();

      for (var _i4 in this.levelList) {
        if (_i4 == '2') {
          return;
        }

        var _list = this.levelList[_i4].children;

        for (var _j in _list) {
          _list[_j].active = false;
        }
      }
    }
  },
  exitGame: function exitGame() {
    this.network.socket.disconnect();
    cc.director.loadScene("LobbyMain");
  },
  onSlider: function onSlider(ev, args) {
    this.bet = parseInt(this.slider.progress * 20) * 10;
    this.setLinesInfo(this.lines, this.bet);
  },
  onClick: function onClick(ev, args) {
    this.audio.playBtn();

    switch (args) {
      case 'exit':
        this.exitBd.active = true;
        break;

      case 'closeExit':
        this.exitBd.active = false;
        break;

      case 'exitSave':
        this.exitGame();
        break;

      case 'exitOK':
        this.network.socket.emit('clearGameDict');
        break;

      case 'help':
        this.helpNode.active = true;
        break;

      case 'help_close':
        this.helpNode.active = false;
        break;

      case 'upPage':
        var curIndex1 = this.helpPageView.getCurrentPageIndex();

        if (--curIndex1 >= 0) {
          this.helpPageView.setCurrentPageIndex(curIndex1);
        }

        break;

      case 'downPage':
        var curIndex = this.helpPageView.getCurrentPageIndex();

        if (++curIndex < 5) {
          this.helpPageView.setCurrentPageIndex(curIndex);
        }

        break;

      case 'setting':
        break;

      case 'auto':
        if (this.tmOffset && !this.tuoguan) {
          this.startBtn.interactable = false;
          this.startGame();
        }

        this.tuoguan = !this.tuoguan;
        this.tuoguanList[0].active = !this.tuoguan;
        this.tuoguanList[1].active = this.tuoguan;
        break;

      case 'start':
        this.startGame();
        break;

      case 'restart':
        this.btnMask.active = false;
        this.dropBallBd.active = false;
        this.dropBd.active = false;

        for (var i in this.levelList) {
          var list = this.levelList[i].children;

          for (var j in list) {
            list[j].active = true;
          }
        }

        break;

      case 'addLines':
        this.lines++;
        this.lines = this.lines <= 5 ? this.lines : 5;
        this.setLinesInfo(this.lines, this.bet);
        break;

      case 'decLines':
        this.lines--;
        this.lines = this.lines >= 0 ? this.lines : 0;
        this.setLinesInfo(this.lines, this.bet);
        break;

      case 'addScore':
        this.bet += 10;
        this.bet = this.bet >= 200 ? 200 : this.bet;
        this.slider.progress = this.bet / 200;
        this.setLinesInfo(this.lines, this.bet);
        break;

      case 'decScore':
        this.bet -= 10;
        this.bet = this.bet >= 0 ? this.bet : 0;
        this.slider.progress = this.bet / 200;
        this.setLinesInfo(this.lines, this.bet);
        break;

      default:
        break;
    }
  },
  startGame: function startGame() {
    if (this.tmOffset) {
      var bet = this.lines * this.bet;

      if (bet == 0) {
        this.showTip('下注金额不符合规则');
        return;
      }

      cc.log("sendBet:" + bet);
      this.network.socket.emit('lottery', JSON.stringify({
        bet: bet * 100
      }));
      this.tmOffset = false;
      this.startBtn.interactable = false;
    }
  },
  setLinesInfo: function setLinesInfo(lines, bet) {
    this.lblLines.string = lines;
    this.lblLinescore.string = bet;

    for (var i in this.lblChipList) {
      var showBool = parseInt(i) < lines;
      this.lblChipList[i].node.active = showBool;
      this.lblChipList[i].string = bet;
      this.chipSpList[i].active = !showBool;
    }
  },
  //下落形成完整宝石矩阵
  levelDown: function levelDown(level, id, pid) {
    this.gemPidList[id] = pid;
    pid = pid == 99 ? 16 : (level - 1) * 5 + (pid + 1);
    var targetPos = cc.v2(GEMOFFSET * parseInt(id % (level + 3)), -GEMOFFSET * parseInt(id / (level + 3)));
    var curPos = cc.v2(targetPos.x, targetPos.y + 1000);
    var pb = cc.instantiate(this.prefabs[pid]);
    pb.position = curPos;
    pb.runAction(cc.moveTo(0.7, targetPos));
    this.areaList[level - 1].addChild(pb);
    this.gemList[id] = pb;
  },
  //爆炸指定宝石id
  gemBoo: function gemBoo(id) {
    var boo = cc.instantiate(this.prefabs[0]);
    boo.position = this.gemList[id].position;
    boo.parent = this.gemList[id].parent;
    this.gemList[id].removeFromParent(); //如果有钻头消箱子

    if (this.gemPidList[id] == 99) {
      this.desBox();
    }

    this.gemList[id] = null;
    this.gemPidList[id] = null;
    this.scheduleOnce(function () {
      boo.removeFromParent();
    }, 0.5);
  },
  //消除宝箱
  desBox: function desBox() {
    var boxList = this.levelList[this.level - 1].children;

    for (var i in boxList) {
      if (!!boxList[i].active) {
        boxList[i].active = false;
        return;
      }
    }

    this.audio.playDecBox();
  },
  //清理爆炸后的矩阵 为第二次下落准备
  cleanBoo: function cleanBoo(level) {
    var _this = this;

    for (var w = 0; w < level + 3; w++) {
      //横
      for (var h = level + 2; h >= 0; h--) {
        //纵
        if (this.gemList[w + h * (level + 3)] == null) {
          for (var i = h; i >= 0; i--) {
            if (this.gemList[w + i * (level + 3)] != null) {
              this.gemList[w + h * (level + 3)] = this.gemList[w + i * (level + 3)];
              this.gemPidList[w + h * (level + 3)] = this.gemPidList[w + i * (level + 3)];
              this.gemList[w + h * (level + 3)].runAction(cc.sequence(cc.moveTo(0.2, cc.v2(this.gemList[w + h * (level + 3)].x, -GEMOFFSET * h)), cc.callFunc(function () {
                _this.audio.playLandAudio();
              })));
              this.gemList[w + i * (level + 3)] = null;
              this.gemPidList[w + i * (level + 3)] = null;
              break;
            }
          }
        }
      }
    }
  },

  /**
   * 大奖游戏
   * @param {宝箱金币} numList 
   * @param {掉落左右选择0，1} lrList 
   * @param {获得总金额} score 
   */
  setBox: function setBox(numList, lrList, score) {
    var _this2 = this;

    this.btnMask.active = true;
    this.dropBallBd.active = true;

    for (var i in this.lblSmallBox) {
      this.lblSmallBox[i].string = numList[i];
    }

    var ballPos = cc.v2(0, 257);
    this.dropBall.position = ballPos;
    this.dropBall.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function () {
      _this2.audio.playAward();
    }), cc.moveTo(0.25, this.dropBallList0[0].position), cc.moveTo(0.25, this.dropBallList1[0 + lrList[0]].position), cc.moveTo(0.25, this.dropBallList2[0 + lrList[0] + lrList[1]].position), cc.moveTo(0.25, this.dropBallList3[0 + lrList[0] + lrList[1] + lrList[2]].position), cc.moveTo(0.25, this.dropBallList4[0 + lrList[0] + lrList[1] + lrList[2] + lrList[3]].position), cc.callFunc(function () {
      _this2.dropBd.active = true;
      _this2.lbldropBdCoin.string = score;
    })));
  },
  showTip: function showTip(title) {
    this.tip.stopAllActions();
    this.tip.y = -184;
    this.tip.opacity = 0;
    this.tip.getChildByName('tipLbl').getComponent(cc.Label).string = title;
    this.tip.runAction(cc.sequence(cc.spawn(cc.fadeIn(0.5), cc.moveTo(0.5, cc.v2(0, -100))), cc.delayTime(1), cc.fadeOut(0.5)));
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxMaGRiXFxMSERCX01haW4uanMiXSwibmFtZXMiOlsiR0VNT0ZGU0VUIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJtdXNpY05vZGUiLCJOb2RlIiwibGV2ZWxUaXRsZSIsImxibEdvbGRQb29sIiwiTGFiZWwiLCJsZXZlbExpc3QiLCJsYmxDaGlwTGlzdCIsImNoaXBTcExpc3QiLCJsYmxDb2luIiwibGJsQWxsQ29pbiIsImxibExpbmVzIiwibGJsTGluZXNjb3JlIiwic2xpZGVyIiwiU2xpZGVyIiwidHVvZ3Vhbkxpc3QiLCJoZWxwTm9kZSIsImhlbHBQYWdlVmlldyIsIlBhZ2VWaWV3IiwiZXhpdEJkIiwibGJsU21hbGxCb3giLCJhcmVhTGlzdCIsImRyb3BCYWxsQmQiLCJkcm9wQmFsbCIsImRyb3BCYWxsTGlzdDAiLCJkcm9wQmFsbExpc3QxIiwiZHJvcEJhbGxMaXN0MiIsImRyb3BCYWxsTGlzdDMiLCJkcm9wQmFsbExpc3Q0IiwiZHJvcEJkIiwibGJsZHJvcEJkQ29pbiIsInRpcCIsInByZWZhYnMiLCJQcmVmYWIiLCJzdGFydEJ0biIsIkJ1dHRvbiIsImJ0bk1hc2siLCJvbkxvYWQiLCJuZXR3b3JrIiwiZ2V0Q29tcG9uZW50IiwiYXVkaW8iLCJsaW5lcyIsImJldCIsInR1b2d1YW4iLCJ0bU9mZnNldCIsImdlbUxpc3QiLCJnZW1QaWRMaXN0Iiwic3RhcnQiLCJzdG9wQWxsIiwicGxheUJnbSIsImdhbWVJbml0Iiwic2V0TGV2ZWwiLCJpIiwibGlzdCIsImNoaWxkcmVuIiwiaiIsImFjdGl2ZSIsInN0cmluZyIsIm5vZGUiLCJsdiIsInBhcnNlSW50IiwibGV2ZWwiLCJyZW1vdmVBbGxDaGlsZHJlbiIsImV4aXRHYW1lIiwic29ja2V0IiwiZGlzY29ubmVjdCIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwib25TbGlkZXIiLCJldiIsImFyZ3MiLCJwcm9ncmVzcyIsInNldExpbmVzSW5mbyIsIm9uQ2xpY2siLCJwbGF5QnRuIiwiZW1pdCIsImN1ckluZGV4MSIsImdldEN1cnJlbnRQYWdlSW5kZXgiLCJzZXRDdXJyZW50UGFnZUluZGV4IiwiY3VySW5kZXgiLCJpbnRlcmFjdGFibGUiLCJzdGFydEdhbWUiLCJzaG93VGlwIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInNob3dCb29sIiwibGV2ZWxEb3duIiwiaWQiLCJwaWQiLCJ0YXJnZXRQb3MiLCJ2MiIsImN1clBvcyIsIngiLCJ5IiwicGIiLCJpbnN0YW50aWF0ZSIsInBvc2l0aW9uIiwicnVuQWN0aW9uIiwibW92ZVRvIiwiYWRkQ2hpbGQiLCJnZW1Cb28iLCJib28iLCJwYXJlbnQiLCJyZW1vdmVGcm9tUGFyZW50IiwiZGVzQm94Iiwic2NoZWR1bGVPbmNlIiwiYm94TGlzdCIsInBsYXlEZWNCb3giLCJjbGVhbkJvbyIsInciLCJoIiwic2VxdWVuY2UiLCJjYWxsRnVuYyIsInBsYXlMYW5kQXVkaW8iLCJzZXRCb3giLCJudW1MaXN0IiwibHJMaXN0Iiwic2NvcmUiLCJiYWxsUG9zIiwiZGVsYXlUaW1lIiwicGxheUF3YXJkIiwidGl0bGUiLCJzdG9wQWxsQWN0aW9ucyIsIm9wYWNpdHkiLCJnZXRDaGlsZEJ5TmFtZSIsInNwYXduIiwiZmFkZUluIiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxTQUFTLEdBQUcsRUFBbEI7QUFFQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFFTDtBQUNBQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsU0FBUyxFQUFFSixFQUFFLENBQUNLLElBRE47QUFFUkMsSUFBQUEsVUFBVSxFQUFFLENBQUNOLEVBQUUsQ0FBQ0ssSUFBSixDQUZKO0FBR1JFLElBQUFBLFdBQVcsRUFBRVAsRUFBRSxDQUFDUSxLQUhSO0FBSVJDLElBQUFBLFNBQVMsRUFBRSxDQUFDVCxFQUFFLENBQUNLLElBQUosQ0FKSDtBQUtS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QUFaLEdBQXFCLElBQXJCO0FBQ0EsTUFBQSxNQUFJLENBQUMxQixhQUFMLENBQW1CMkIsTUFBbkIsR0FBNEI2RCxLQUE1QjtBQUNILEtBSEQsQ0FWb0IsQ0FBeEI7QUFlSCxHQTdVSTtBQStVTHBDLEVBQUFBLE9BL1VLLG1CQStVR3dDLEtBL1VILEVBK1VVO0FBQ1gsU0FBSzNGLEdBQUwsQ0FBUzRGLGNBQVQ7QUFDQSxTQUFLNUYsR0FBTCxDQUFTK0QsQ0FBVCxHQUFhLENBQUMsR0FBZDtBQUNBLFNBQUsvRCxHQUFMLENBQVM2RixPQUFULEdBQW1CLENBQW5CO0FBQ0EsU0FBSzdGLEdBQUwsQ0FBUzhGLGNBQVQsQ0FBd0IsUUFBeEIsRUFBa0N0RixZQUFsQyxDQUErQzFDLEVBQUUsQ0FBQ1EsS0FBbEQsRUFBeURvRCxNQUF6RCxHQUFrRWlFLEtBQWxFO0FBQ0EsU0FBSzNGLEdBQUwsQ0FBU21FLFNBQVQsQ0FBbUJyRyxFQUFFLENBQUNtSCxRQUFILENBQVluSCxFQUFFLENBQUNpSSxLQUFILENBQVNqSSxFQUFFLENBQUNrSSxNQUFILENBQVUsR0FBVixDQUFULEVBQXlCbEksRUFBRSxDQUFDc0csTUFBSCxDQUFVLEdBQVYsRUFBZXRHLEVBQUUsQ0FBQzhGLEVBQUgsQ0FBTSxDQUFOLEVBQVMsQ0FBQyxHQUFWLENBQWYsQ0FBekIsQ0FBWixFQUFzRTlGLEVBQUUsQ0FBQzJILFNBQUgsQ0FBYSxDQUFiLENBQXRFLEVBQXVGM0gsRUFBRSxDQUFDbUksT0FBSCxDQUFXLEdBQVgsQ0FBdkYsQ0FBbkI7QUFDSDtBQXJWSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHRU1PRkZTRVQgPSA5MDtcclxuXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuICAgIC8v5LygMTAwLTEwMDAwMCAg5pys5ZywIDEwLTIwMFxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIG11c2ljTm9kZTogY2MuTm9kZSxcclxuICAgICAgICBsZXZlbFRpdGxlOiBbY2MuTm9kZV0sXHJcbiAgICAgICAgbGJsR29sZFBvb2w6IGNjLkxhYmVsLFxyXG4gICAgICAgIGxldmVsTGlzdDogW2NjLk5vZGVdLFxyXG4gICAgICAgIGxibENoaXBMaXN0OiBbY2MuTGFiZWxdLFxyXG4gICAgICAgIGNoaXBTcExpc3Q6IFtjYy5Ob2RlXSxcclxuICAgICAgICBsYmxDb2luOiBjYy5MYWJlbCxcclxuICAgICAgICBsYmxBbGxDb2luOiBjYy5MYWJlbCxcclxuICAgICAgICBsYmxMaW5lczogY2MuTGFiZWwsXHJcbiAgICAgICAgbGJsTGluZXNjb3JlOiBjYy5MYWJlbCxcclxuICAgICAgICBzbGlkZXI6IGNjLlNsaWRlcixcclxuICAgICAgICB0dW9ndWFuTGlzdDogW2NjLk5vZGVdLFxyXG4gICAgICAgIGhlbHBOb2RlOiBjYy5Ob2RlLFxyXG4gICAgICAgIGhlbHBQYWdlVmlldzogY2MuUGFnZVZpZXcsXHJcbiAgICAgICAgZXhpdEJkOiBjYy5Ob2RlLFxyXG4gICAgICAgIGxibFNtYWxsQm94OiBbY2MuTGFiZWxdLFxyXG4gICAgICAgIC8v5rGgXHJcbiAgICAgICAgYXJlYUxpc3Q6IFtjYy5Ob2RlXSxcclxuICAgICAgICAvL+Wkp+WlluaOieiQveeQg1xyXG4gICAgICAgIGRyb3BCYWxsQmQ6IGNjLk5vZGUsXHJcbiAgICAgICAgZHJvcEJhbGw6IGNjLk5vZGUsXHJcbiAgICAgICAgZHJvcEJhbGxMaXN0MDogW2NjLk5vZGVdLFxyXG4gICAgICAgIGRyb3BCYWxsTGlzdDE6IFtjYy5Ob2RlXSxcclxuICAgICAgICBkcm9wQmFsbExpc3QyOiBbY2MuTm9kZV0sXHJcbiAgICAgICAgZHJvcEJhbGxMaXN0MzogW2NjLk5vZGVdLFxyXG4gICAgICAgIGRyb3BCYWxsTGlzdDQ6IFtjYy5Ob2RlXSxcclxuICAgICAgICBkcm9wQmQ6IGNjLk5vZGUsXHJcbiAgICAgICAgbGJsZHJvcEJkQ29pbjogY2MuTGFiZWwsXHJcbiAgICAgICAgdGlwOiBjYy5Ob2RlLFxyXG4gICAgICAgIHByZWZhYnM6IFtjYy5QcmVmYWJdLFxyXG4gICAgICAgIHN0YXJ0QnRuOiBjYy5CdXR0b24sXHJcbiAgICAgICAgYnRuTWFzazogY2MuTm9kZSxcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IHRoaXMuZ2V0Q29tcG9uZW50KCdMSERCX05ldHdvcmsnKTtcclxuICAgICAgICB0aGlzLmF1ZGlvID0gdGhpcy5tdXNpY05vZGUuZ2V0Q29tcG9uZW50KCdMSERCX0F1ZGlvJyk7XHJcbiAgICAgICAgdGhpcy5saW5lcyA9IDA7IC8v57q/5pWwXHJcbiAgICAgICAgdGhpcy5iZXQgPSAwOyAvL+WNlee6v+S4i+azqOmHkeminVxyXG4gICAgICAgIHRoaXMudHVvZ3VhbiA9IGZhbHNlOyAvL+aJmOeuoeagh+W/l1xyXG4gICAgICAgIHRoaXMudG1PZmZzZXQgPSB0cnVlOyAvL+W8gOWni+aMiemSruaXtumXtOmXtOmalFxyXG4gICAgICAgIHRoaXMuZ2VtTGlzdCA9IFtdOyAvL+WtmOWCqOWuneefs+iKgueCueeUqOS6jmJvb1xyXG4gICAgICAgIHRoaXMuZ2VtUGlkTGlzdCA9IFtdOyAvL+WtmOWCqOWuneefs3BpZFxyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnN0b3BBbGwoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBsYXlCZ20oKTtcclxuICAgICAgICB0aGlzLmdhbWVJbml0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRMZXZlbCgxKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5zZXRCb3goWzEsIDIsIDMsIDQsIDVdLCBbMCwgMSwgMCwgMV0sIDE5OTk5KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2FtZUluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMZXZlbCgwKTtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMubGV2ZWxMaXN0KSB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gdGhpcy5sZXZlbExpc3RbaV0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogaW4gbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdFtqXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGJsQ29pbi5zdHJpbmcgPSAnMC4wMCc7XHJcbiAgICAgICAgdGhpcy5sYmxBbGxDb2luLnN0cmluZyA9ICcwLjAwJztcclxuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMubGJsQ2hpcExpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5sYmxDaGlwTGlzdFtpXS5zdHJpbmcgPSAnMCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGJsTGluZXMuc3RyaW5nID0gJzAnO1xyXG4gICAgICAgIHRoaXMubGJsTGluZXNjb3JlLnN0cmluZyA9ICcwJztcclxuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMubGJsQ2hpcExpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5sYmxDaGlwTGlzdFtpXS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNoaXBTcExpc3RbaV0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YiH5o2i5YWz5Y2hXHJcbiAgICAgKiBAcGFyYW0ge+euoeWNoeetiee6pzEtM30gbHYgXHJcbiAgICAgKi9cclxuICAgIHNldExldmVsKGx2KSB7XHJcbiAgICAgICAgbHYgPSBwYXJzZUludChsdik7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IGx2O1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5sZXZlbFRpdGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxUaXRsZVtpXS5hY3RpdmUgPSBwYXJzZUludChsdikgLSAxID09IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsdiA9PT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuYXJlYUxpc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXJlYUxpc3RbaV0ucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAobHYgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5hcmVhTGlzdFsxXS5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmFyZWFMaXN0WzJdLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChsdiA9PT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLmFyZWFMaXN0WzBdLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJlYUxpc3RbMl0ucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmxldmVsTGlzdFswXS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiBpbiBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0W2pdLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChsdiA9PT0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmFyZWFMaXN0WzBdLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJlYUxpc3RbMV0ucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmxldmVsTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gJzInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmxldmVsTGlzdFtpXS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4gbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Rbal0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGV4aXRHYW1lKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yay5zb2NrZXQuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIkxvYmJ5TWFpblwiKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25TbGlkZXIoZXYsIGFyZ3MpIHtcclxuICAgICAgICB0aGlzLmJldCA9IHBhcnNlSW50KHRoaXMuc2xpZGVyLnByb2dyZXNzICogMjApICogMTA7XHJcbiAgICAgICAgdGhpcy5zZXRMaW5lc0luZm8odGhpcy5saW5lcywgdGhpcy5iZXQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkNsaWNrKGV2LCBhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5QnRuKCk7XHJcbiAgICAgICAgc3dpdGNoIChhcmdzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2V4aXQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGl0QmQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjbG9zZUV4aXQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGl0QmQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZXhpdFNhdmUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGl0R2FtZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2V4aXRPSyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5ldHdvcmsuc29ja2V0LmVtaXQoJ2NsZWFyR2FtZURpY3QnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdoZWxwJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVscE5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdoZWxwX2Nsb3NlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVscE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndXBQYWdlJzpcclxuICAgICAgICAgICAgICAgIGxldCBjdXJJbmRleDEgPSB0aGlzLmhlbHBQYWdlVmlldy5nZXRDdXJyZW50UGFnZUluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoLS1jdXJJbmRleDEgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVscFBhZ2VWaWV3LnNldEN1cnJlbnRQYWdlSW5kZXgoY3VySW5kZXgxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkb3duUGFnZSc6XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VySW5kZXggPSB0aGlzLmhlbHBQYWdlVmlldy5nZXRDdXJyZW50UGFnZUluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKytjdXJJbmRleCA8IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlbHBQYWdlVmlldy5zZXRDdXJyZW50UGFnZUluZGV4KGN1ckluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzZXR0aW5nJzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhdXRvJzpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRtT2Zmc2V0ICYmICF0aGlzLnR1b2d1YW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QnRuLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1b2d1YW4gPSAhdGhpcy50dW9ndWFuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dW9ndWFuTGlzdFswXS5hY3RpdmUgPSAhdGhpcy50dW9ndWFuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dW9ndWFuTGlzdFsxXS5hY3RpdmUgPSB0aGlzLnR1b2d1YW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyZXN0YXJ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuTWFzay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcEJhbGxCZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcEJkLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmxldmVsTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gdGhpcy5sZXZlbExpc3RbaV0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiBpbiBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Rbal0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYWRkTGluZXMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lcysrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lcyA9IHRoaXMubGluZXMgPD0gNSA/IHRoaXMubGluZXMgOiA1O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lc0luZm8odGhpcy5saW5lcywgdGhpcy5iZXQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RlY0xpbmVzJzpcclxuICAgICAgICAgICAgICAgIHRoaXMubGluZXMtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGluZXMgPSB0aGlzLmxpbmVzID49IDAgPyB0aGlzLmxpbmVzIDogMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZXNJbmZvKHRoaXMubGluZXMsIHRoaXMuYmV0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhZGRTY29yZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJldCArPSAxMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV0ID0gdGhpcy5iZXQgPj0gMjAwID8gMjAwIDogdGhpcy5iZXQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlci5wcm9ncmVzcyA9IHRoaXMuYmV0IC8gMjAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lc0luZm8odGhpcy5saW5lcywgdGhpcy5iZXQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RlY1Njb3JlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV0IC09IDEwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZXQgPSB0aGlzLmJldCA+PSAwID8gdGhpcy5iZXQgOiAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXIucHJvZ3Jlc3MgPSB0aGlzLmJldCAvIDIwMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZXNJbmZvKHRoaXMubGluZXMsIHRoaXMuYmV0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydEdhbWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG1PZmZzZXQpIHtcclxuICAgICAgICAgICAgbGV0IGJldCA9IHRoaXMubGluZXMgKiB0aGlzLmJldDtcclxuICAgICAgICAgICAgaWYgKGJldCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUaXAoJ+S4i+azqOmHkemineS4jeespuWQiOinhOWImScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNjLmxvZyhgc2VuZEJldDoke2JldH1gKTtcclxuICAgICAgICAgICAgdGhpcy5uZXR3b3JrLnNvY2tldC5lbWl0KCdsb3R0ZXJ5JywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYmV0OiBiZXQgKiAxMDBcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHRoaXMudG1PZmZzZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydEJ0bi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNldExpbmVzSW5mbyhsaW5lcywgYmV0KSB7XHJcbiAgICAgICAgdGhpcy5sYmxMaW5lcy5zdHJpbmcgPSBsaW5lcztcclxuICAgICAgICB0aGlzLmxibExpbmVzY29yZS5zdHJpbmcgPSBiZXQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmxibENoaXBMaXN0KSB7XHJcbiAgICAgICAgICAgIGxldCBzaG93Qm9vbCA9IHBhcnNlSW50KGkpIDwgbGluZXM7XHJcbiAgICAgICAgICAgIHRoaXMubGJsQ2hpcExpc3RbaV0ubm9kZS5hY3RpdmUgPSBzaG93Qm9vbDtcclxuICAgICAgICAgICAgdGhpcy5sYmxDaGlwTGlzdFtpXS5zdHJpbmcgPSBiZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpcFNwTGlzdFtpXS5hY3RpdmUgPSAhc2hvd0Jvb2w7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+S4i+iQveW9ouaIkOWujOaVtOWuneefs+efqemYtVxyXG4gICAgbGV2ZWxEb3duKGxldmVsLCBpZCwgcGlkKSB7XHJcbiAgICAgICAgdGhpcy5nZW1QaWRMaXN0W2lkXSA9IHBpZDtcclxuICAgICAgICBwaWQgPSBwaWQgPT0gOTkgPyAxNiA6IChsZXZlbCAtIDEpICogNSArIChwaWQgKyAxKTtcclxuICAgICAgICBsZXQgdGFyZ2V0UG9zID0gY2MudjIoR0VNT0ZGU0VUICogcGFyc2VJbnQoaWQgJSAobGV2ZWwgKyAzKSksIC1HRU1PRkZTRVQgKiBwYXJzZUludChpZCAvIChsZXZlbCArIDMpKSk7XHJcbiAgICAgICAgbGV0IGN1clBvcyA9IGNjLnYyKHRhcmdldFBvcy54LCB0YXJnZXRQb3MueSArIDEwMDApO1xyXG4gICAgICAgIGxldCBwYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFic1twaWRdKTtcclxuICAgICAgICBwYi5wb3NpdGlvbiA9IGN1clBvcztcclxuICAgICAgICBwYi5ydW5BY3Rpb24oY2MubW92ZVRvKDAuNywgdGFyZ2V0UG9zKSk7XHJcbiAgICAgICAgdGhpcy5hcmVhTGlzdFtsZXZlbCAtIDFdLmFkZENoaWxkKHBiKTtcclxuICAgICAgICB0aGlzLmdlbUxpc3RbaWRdID0gcGI7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v54iG54K45oyH5a6a5a6d55+zaWRcclxuICAgIGdlbUJvbyhpZCkge1xyXG4gICAgICAgIGxldCBib28gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnByZWZhYnNbMF0pO1xyXG4gICAgICAgIGJvby5wb3NpdGlvbiA9IHRoaXMuZ2VtTGlzdFtpZF0ucG9zaXRpb247XHJcbiAgICAgICAgYm9vLnBhcmVudCA9IHRoaXMuZ2VtTGlzdFtpZF0ucGFyZW50O1xyXG4gICAgICAgIHRoaXMuZ2VtTGlzdFtpZF0ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgIC8v5aaC5p6c5pyJ6ZK75aS05raI566x5a2QXHJcbiAgICAgICAgaWYgKHRoaXMuZ2VtUGlkTGlzdFtpZF0gPT0gOTkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNCb3goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZW1MaXN0W2lkXSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nZW1QaWRMaXN0W2lkXSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xyXG4gICAgICAgICAgICBib28ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgIH0sIDAuNSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5raI6Zmk5a6d566xXHJcbiAgICBkZXNCb3goKSB7XHJcbiAgICAgICAgbGV0IGJveExpc3QgPSB0aGlzLmxldmVsTGlzdFt0aGlzLmxldmVsIC0gMV0uY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBib3hMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICghIWJveExpc3RbaV0uYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBib3hMaXN0W2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheURlY0JveCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+a4heeQhueIhueCuOWQjueahOefqemYtSDkuLrnrKzkuozmrKHkuIvokL3lh4blpIdcclxuICAgIGNsZWFuQm9vKGxldmVsKSB7XHJcbiAgICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCBsZXZlbCArIDM7IHcrKykgeyAvL+aoqlxyXG4gICAgICAgICAgICBmb3IgKGxldCBoID0gbGV2ZWwgKyAyOyBoID49IDA7IGgtLSkgeyAvL+e6tVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VtTGlzdFt3ICsgaCAqIChsZXZlbCArIDMpXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGg7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlbUxpc3RbdyArIGkgKiAobGV2ZWwgKyAzKV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW1MaXN0W3cgKyBoICogKGxldmVsICsgMyldID0gdGhpcy5nZW1MaXN0W3cgKyBpICogKGxldmVsICsgMyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW1QaWRMaXN0W3cgKyBoICogKGxldmVsICsgMyldID0gdGhpcy5nZW1QaWRMaXN0W3cgKyBpICogKGxldmVsICsgMyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW1MaXN0W3cgKyBoICogKGxldmVsICsgMyldLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMC4yLCBjYy52Mih0aGlzLmdlbUxpc3RbdyArIGggKiAobGV2ZWwgKyAzKV0ueCwgLUdFTU9GRlNFVCAqIGgpKSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheUxhbmRBdWRpbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VtTGlzdFt3ICsgaSAqIChsZXZlbCArIDMpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbVBpZExpc3RbdyArIGkgKiAobGV2ZWwgKyAzKV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSn5aWW5ri45oiPXHJcbiAgICAgKiBAcGFyYW0ge+WuneeusemHkeW4gX0gbnVtTGlzdCBcclxuICAgICAqIEBwYXJhbSB75o6J6JC95bem5Y+z6YCJ5oupMO+8jDF9IGxyTGlzdCBcclxuICAgICAqIEBwYXJhbSB76I635b6X5oC76YeR6aKdfSBzY29yZSBcclxuICAgICAqL1xyXG4gICAgc2V0Qm94KG51bUxpc3QsIGxyTGlzdCwgc2NvcmUpIHtcclxuICAgICAgICB0aGlzLmJ0bk1hc2suYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRyb3BCYWxsQmQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMubGJsU21hbGxCb3gpIHtcclxuICAgICAgICAgICAgdGhpcy5sYmxTbWFsbEJveFtpXS5zdHJpbmcgPSBudW1MaXN0W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBiYWxsUG9zID0gY2MudjIoMCwgMjU3KTtcclxuICAgICAgICB0aGlzLmRyb3BCYWxsLnBvc2l0aW9uID0gYmFsbFBvcztcclxuICAgICAgICB0aGlzLmRyb3BCYWxsLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MuZGVsYXlUaW1lKDEpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXlBd2FyZCgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgY2MubW92ZVRvKDAuMjUsIHRoaXMuZHJvcEJhbGxMaXN0MFswXS5wb3NpdGlvbiksXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbygwLjI1LCB0aGlzLmRyb3BCYWxsTGlzdDFbMCArIGxyTGlzdFswXV0ucG9zaXRpb24pLFxyXG4gICAgICAgICAgICBjYy5tb3ZlVG8oMC4yNSwgdGhpcy5kcm9wQmFsbExpc3QyWzAgKyBsckxpc3RbMF0gKyBsckxpc3RbMV1dLnBvc2l0aW9uKSxcclxuICAgICAgICAgICAgY2MubW92ZVRvKDAuMjUsIHRoaXMuZHJvcEJhbGxMaXN0M1swICsgbHJMaXN0WzBdICsgbHJMaXN0WzFdICsgbHJMaXN0WzJdXS5wb3NpdGlvbiksXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbygwLjI1LCB0aGlzLmRyb3BCYWxsTGlzdDRbMCArIGxyTGlzdFswXSArIGxyTGlzdFsxXSArIGxyTGlzdFsyXSArIGxyTGlzdFszXV0ucG9zaXRpb24pLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyb3BCZC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYmxkcm9wQmRDb2luLnN0cmluZyA9IHNjb3JlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93VGlwKHRpdGxlKSB7XHJcbiAgICAgICAgdGhpcy50aXAuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnRpcC55ID0gLTE4NDtcclxuICAgICAgICB0aGlzLnRpcC5vcGFjaXR5ID0gMDtcclxuICAgICAgICB0aGlzLnRpcC5nZXRDaGlsZEJ5TmFtZSgndGlwTGJsJykuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLnRpcC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc3Bhd24oY2MuZmFkZUluKDAuNSksIGNjLm1vdmVUbygwLjUsIGNjLnYyKDAsIC0xMDApKSksIGNjLmRlbGF5VGltZSgxKSwgY2MuZmFkZU91dCgwLjUpKSk7XHJcbiAgICB9XHJcbn0pIl19