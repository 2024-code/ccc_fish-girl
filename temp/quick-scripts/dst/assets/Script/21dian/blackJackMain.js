
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/21dian/blackJackMain.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '005334DsXZKF73fxr15CPjT', 'blackJackMain');
// Script/21dian/blackJackMain.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    myChipsLbl: cc.Label,
    chipPbList: [cc.Prefab],
    // 1，19，50，100，500，保险
    coinNode: cc.Node,
    betTip: cc.Node,
    chipsPool: cc.Node,
    chipsNode: cc.Node,
    btnList: [cc.Button],
    //要 不要 保险 翻倍 继续游戏
    helpBd: cc.Node,
    gameResultPicList: [cc.Node],
    // 赢 平 输
    userHead: cc.Sprite,
    userName: cc.Label,
    userCoin: cc.Label,
    cardAtlas: cc.SpriteAtlas,
    bankerCardNode: cc.Node,
    playerCardNode: cc.Node,
    bankerArrow: cc.Node,
    playerArrow: cc.Node,
    playerScoreLbl: cc.Label,
    bankerScoreLbl: cc.Label
  },
  onLoad: function onLoad() {
    this.playerInfo = require("PlayerInfo").getInstant;
    this.net = this.node.getComponent('blackJackNetwork');
    this.audio = this.node.getComponent('blackJackAudio'); //初始化数值

    this.bet = 100;
    this.lastChips = 0;
    this.myCoin = 0;
    this.playerScore = [0, 0];
    this.bankerScore = [0, 0];
  },
  start: function start() {
    this.clearGame();
  },
  clearGame: function clearGame() {
    this.playerScore = [0, 0];
    this.bankerScore = [0, 0];
    this.playerScoreLbl.string = '0';
    this.bankerScoreLbl.string = '0';
    this.myChipsLbl.string = '0.00';
    this.chipsPool.removeAllChildren();

    for (var i in this.btnList) {
      this.btnList[i].node.active = false;
    }

    this.chipsNode.active = true;

    for (var _i in this.gameResultPicList) {
      this.gameResultPicList[_i].active = false;
    }

    this.bankerCardNode.removeAllChildren();
    this.playerCardNode.removeAllChildren();
    this.coinNode.removeAllChildren();
    this.betTip.active = true;
    this.bankerArrow.active = false;
    this.playerArrow.active = false;
  },
  onClick: function onClick(ev, args) {
    if (args == 'exitGame') {
      this.net.socket.disconnect();
      cc.director.loadScene("LobbyMain");
    } else if (args == 'onBet') {
      if (this.myCoin >= this.bet && this.chipsNode.active) {
        this.betTip.active = false;
        this.chipsNode.active = false;
        this.net.socket.emit('lottery', this.bet);
      }
    } else if (args == 'help') {
      this.helpBd.active = true;
    } else if (args == 'closeHelp') {
      this.helpBd.active = false;
    } else if (args == 'hit') {
      this.playerStatus(-1); //sendCard  0 stand  1 hit 2double

      this.net.socket.emit('sendCard', 1);
    } else if (args == 'stand') {
      this.playerStatus(-1); //sendCard  0 stand  1 hit 2double

      this.net.socket.emit('sendCard', 0);
    } else if (args == 'double') {
      this.playerStatus(-1); //sendCard  0 stand  1 hit 2double

      this.net.socket.emit('sendCard', 2);
    } else if (args == 'insurance') {
      this.playerStatus(-1);
      this.net.socket.emit('buySafe');
    } else if (args == 'reGame') {
      this.clearGame();
    }
  },
  betCallBack: function betCallBack() {
    this.myCoin -= this.bet;
    this.lastChips = this.bet;
    this.userCoin.string = (this.myCoin / 100).toFixed(2);
    this.myChipsLbl.string = (this.lastChips / 100).toFixed(2);
    this.rollCoin();
  },
  rollCoin: function rollCoin(insuranceBool) {
    var coinJson = {
      100: 0,
      1000: 1,
      5000: 2,
      10000: 3,
      50000: 4
    };
    var coin = cc.instantiate(this.chipPbList[!!insuranceBool ? 5 : coinJson[this.bet]]);
    this.coinNode.addChild(coin);
    coin.position = cc.v2(400, -600);
    coin.runAction(cc.moveTo(0.3, cc.v2(Math.random() * 100 - 50, Math.random() * 100 - 50)));
  },
  onToggle: function onToggle(ev, args) {
    this.bet = parseInt(args) * 100;
  },
  startBet: function startBet() {
    this.chipsNode.active = true;
    this.betTip.active = true;
  },
  getCard: function getCard() {
    var node = new cc.Node();
    this.node.addChild(node);
    var spr = node.addComponent(cc.Sprite);
    spr.spriteFrame = this.cardAtlas.getSpriteFrame('bg_back');
    return node;
  },
  changeFlowerToStr: function changeFlowerToStr(flower) {
    var str = 'bg_back';

    if (!!flower) {
      var u = parseInt(flower / 16 / 16);
      var v = flower % 16;
      str = v + "_" + (u >= 10 ? u : '0' + u);
    }

    return str;
  },
  firstDeal: function firstDeal() {
    var _this = this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var curIndex = 0;
    this.schedule(function () {
      if (curIndex <= 1) {
        _this.deal('banker', args[curIndex]);
      } else {
        _this.deal('', args[curIndex]);
      }

      curIndex++;

      if (curIndex == 4) {
        _this.playerArrow.active = true;
      }
    }, 0.3, 3);
  },
  deal: function deal(who, flower) {
    var _this2 = this;

    var defaultPos = cc.v2(515, 386);
    var card = this.getCard();
    card.position = defaultPos;
    card.rotation = -76;
    var whoNode = this.playerCardNode;
    var whoPos = cc.v2(0, -160);

    if (who == 'banker') {
      whoNode = this.bankerCardNode;
      whoPos = cc.v2(0, 240);
    } //出牌


    card.runAction(cc.sequence(cc.spawn(cc.moveTo(0.3, whoPos), cc.rotateTo(0.3, 0)), cc.callFunc(function () {
      var sprName = _this2.changeFlowerToStr(flower);

      card.getComponent(cc.Sprite).spriteFrame = _this2.cardAtlas.getSpriteFrame(sprName);
      card.parent = whoNode;
      card.position = cc.v2(0, 0);

      _this2.setCount(who, flower);
    })));
  },
  setCount: function setCount(who, flower) {
    //计算分数
    var score = who == 'banker' ? this.bankerScore : this.playerScore;
    var scoreLlb = who == 'banker' ? this.bankerScoreLbl : this.playerScoreLbl;
    var cardScore = parseInt(flower / 16 / 16);
    cardScore = cardScore >= 10 ? 10 : cardScore;

    if (cardScore == 1) {
      score[0] += 1;
      score[1] += 11;
    } else {
      score[0] += cardScore;
      score[1] += cardScore;
    }

    if (score[0] == score[1]) {
      scoreLlb.string = score[0];
    } else {
      if (score[0] <= 21 && score[1] <= 21) {
        if (score[0] == 21 || score[1] == 21) {
          scoreLlb.string = '21';
        } else {
          scoreLlb.string = score[0] + '/' + score[1];
        }
      } else if (score[0] > 21 && score[1] > 21) {
        scoreLlb.string = score[0] >= score[1] ? score[1] : score[0];
      } else {
        scoreLlb.string = score[0] <= 21 ? score[0] : score[1];
      }
    }
  },
  playerStatus: function playerStatus(index) {
    for (var i in this.btnList) {
      this.btnList[i].node.active = false;
    }

    if (index == 1) {
      //保险+首次是否要牌
      this.btnList[0].node.active = true;
      this.btnList[1].node.active = true;
      this.btnList[2].node.active = true;
      this.btnList[3].node.active = true;
    } else if (index == 2) {
      //不用买保险+首次是否要牌
      this.btnList[0].node.active = true;
      this.btnList[1].node.active = true;
      this.btnList[3].node.active = true;
    } else if (index == 3) {
      //再次次是否要牌
      this.btnList[0].node.active = true;
      this.btnList[1].node.active = true;
    } else if (index == 4) {
      this.btnList[4].node.active = true;
    }
  },
  overAction: function overAction(bankerCards, whoWin, score) {
    var _this3 = this;

    //whoWin 0 玩家赢 1庄赢 2平
    for (var i in this.btnList) {
      this.btnList[i].node.active = false;
    }

    this.playerArrow.active = false;
    this.scheduleOnce(function () {
      _this3.bankerArrow.active = true;

      if (bankerCards.length > 2) {
        var index = 2;

        _this3.schedule(function () {
          _this3.deal('banker', bankerCards[index]);

          index++;

          if (index == bankerCards.length) {
            _this3.scheduleOnce(function () {
              var sprName = _this3.changeFlowerToStr(bankerCards[1]);

              _this3.setCount('banker', bankerCards[1]);

              _this3.bankerCardNode.children[1].getComponent(cc.Sprite).spriteFrame = _this3.cardAtlas.getSpriteFrame(sprName);
              _this3.gameResultPicList[whoWin].active = true;
              _this3.bankerArrow.active = false;
              _this3.playerArrow.active = false;
              _this3.myCoin = score;
              _this3.userCoin.string = (_this3.myCoin / 100).toFixed(2);

              _this3.playerStatus(4);
            }, 0.5);
          }
        }, 0.3, bankerCards.length - 3);
      } else {
        _this3.scheduleOnce(function () {
          var sprName = _this3.changeFlowerToStr(bankerCards[1]);

          _this3.setCount('banker', bankerCards[1]);

          _this3.bankerCardNode.children[1].getComponent(cc.Sprite).spriteFrame = _this3.cardAtlas.getSpriteFrame(sprName);
          _this3.gameResultPicList[whoWin].active = true;
          _this3.bankerArrow.active = false;
          _this3.playerArrow.active = false;
          _this3.myCoin = score;
          _this3.userCoin.string = (_this3.myCoin / 100).toFixed(2);

          _this3.playerStatus(4);
        }, 0.5);
      }
    }, 1);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFwyMWRpYW5cXGJsYWNrSmFja01haW4uanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJteUNoaXBzTGJsIiwiTGFiZWwiLCJjaGlwUGJMaXN0IiwiUHJlZmFiIiwiY29pbk5vZGUiLCJOb2RlIiwiYmV0VGlwIiwiY2hpcHNQb29sIiwiY2hpcHNOb2RlIiwiYnRuTGlzdCIsIkJ1dHRvbiIsImhlbHBCZCIsImdhbWVSZXN1bHRQaWNMaXN0IiwidXNlckhlYWQiLCJTcHJpdGUiLCJ1c2VyTmFtZSIsInVzZXJDb2luIiwiY2FyZEF0bGFzIiwiU3ByaXRlQXRsYXMiLCJiYW5rZXJDYXJkTm9kZSIsInBsYXllckNhcmROb2RlIiwiYmFua2VyQXJyb3ciLCJwbGF5ZXJBcnJvdyIsInBsYXllclNjb3JlTGJsIiwiYmFua2VyU2NvcmVMYmwiLCJvbkxvYWQiLCJwbGF5ZXJJbmZvIiwicmVxdWlyZSIsImdldEluc3RhbnQiLCJuZXQiLCJub2RlIiwiZ2V0Q29tcG9uZW50IiwiYXVkaW8iLCJiZXQiLCJsYXN0Q2hpcHMiLCJteUNvaW4iLCJwbGF5ZXJTY29yZSIsImJhbmtlclNjb3JlIiwic3RhcnQiLCJjbGVhckdhbWUiLCJzdHJpbmciLCJyZW1vdmVBbGxDaGlsZHJlbiIsImkiLCJhY3RpdmUiLCJvbkNsaWNrIiwiZXYiLCJhcmdzIiwic29ja2V0IiwiZGlzY29ubmVjdCIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiZW1pdCIsInBsYXllclN0YXR1cyIsImJldENhbGxCYWNrIiwidG9GaXhlZCIsInJvbGxDb2luIiwiaW5zdXJhbmNlQm9vbCIsImNvaW5Kc29uIiwiY29pbiIsImluc3RhbnRpYXRlIiwiYWRkQ2hpbGQiLCJwb3NpdGlvbiIsInYyIiwicnVuQWN0aW9uIiwibW92ZVRvIiwiTWF0aCIsInJhbmRvbSIsIm9uVG9nZ2xlIiwicGFyc2VJbnQiLCJzdGFydEJldCIsImdldENhcmQiLCJzcHIiLCJhZGRDb21wb25lbnQiLCJzcHJpdGVGcmFtZSIsImdldFNwcml0ZUZyYW1lIiwiY2hhbmdlRmxvd2VyVG9TdHIiLCJmbG93ZXIiLCJzdHIiLCJ1IiwidiIsImZpcnN0RGVhbCIsImN1ckluZGV4Iiwic2NoZWR1bGUiLCJkZWFsIiwid2hvIiwiZGVmYXVsdFBvcyIsImNhcmQiLCJyb3RhdGlvbiIsIndob05vZGUiLCJ3aG9Qb3MiLCJzZXF1ZW5jZSIsInNwYXduIiwicm90YXRlVG8iLCJjYWxsRnVuYyIsInNwck5hbWUiLCJwYXJlbnQiLCJzZXRDb3VudCIsInNjb3JlIiwic2NvcmVMbGIiLCJjYXJkU2NvcmUiLCJpbmRleCIsIm92ZXJBY3Rpb24iLCJiYW5rZXJDYXJkcyIsIndob1dpbiIsInNjaGVkdWxlT25jZSIsImxlbmd0aCIsImNoaWxkcmVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsVUFBVSxFQUFFSixFQUFFLENBQUNLLEtBRFA7QUFFUkMsSUFBQUEsVUFBVSxFQUFFLENBQUNOLEVBQUUsQ0FBQ08sTUFBSixDQUZKO0FBRWlCO0FBQ3pCQyxJQUFBQSxRQUFRLEVBQUVSLEVBQUUsQ0FBQ1MsSUFITDtBQUlSQyxJQUFBQSxNQUFNLEVBQUVWLEVBQUUsQ0FBQ1MsSUFKSDtBQUtSRSxJQUFBQSxTQUFTLEVBQUVYLEVBQUUsQ0FBQ1MsSUFMTjtBQU1SRyxJQUFBQSxTQUFTLEVBQUVaLEVBQUUsQ0FBQ1MsSUFOTjtBQU9SSSxJQUFBQSxPQUFPLEVBQUUsQ0FBQ2IsRUFBRSxDQUFDYyxNQUFKLENBUEQ7QUFPYztBQUN0QkMsSUFBQUEsTUFBTSxFQUFFZixFQUFFLENBQUNTLElBUkg7QUFTUk8sSUFBQUEsaUJBQWlCLEVBQUUsQ0FBQ2hCLEVBQUUsQ0FBQ1MsSUFBSixDQVRYO0FBU3NCO0FBQzlCUSxJQUFBQSxRQUFRLEVB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LENBQWxCO0FBQ0gsU0FWRCxFQVVHLEdBVkg7QUFXSDtBQUNKLEtBbENELEVBa0NHLENBbENIO0FBbUNIO0FBeFJJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIG15Q2hpcHNMYmw6IGNjLkxhYmVsLFxuICAgICAgICBjaGlwUGJMaXN0OiBbY2MuUHJlZmFiXSwgLy8gMe+8jDE577yMNTDvvIwxMDDvvIw1MDDvvIzkv53pmalcbiAgICAgICAgY29pbk5vZGU6IGNjLk5vZGUsXG4gICAgICAgIGJldFRpcDogY2MuTm9kZSxcbiAgICAgICAgY2hpcHNQb29sOiBjYy5Ob2RlLFxuICAgICAgICBjaGlwc05vZGU6IGNjLk5vZGUsXG4gICAgICAgIGJ0bkxpc3Q6IFtjYy5CdXR0b25dLCAvL+imgSDkuI3opoEg5L+d6ZmpIOe/u+WAjSDnu6fnu63muLjmiI9cbiAgICAgICAgaGVscEJkOiBjYy5Ob2RlLFxuICAgICAgICBnYW1lUmVzdWx0UGljTGlzdDogW2NjLk5vZGVdLCAvLyDotaIg5bmzIOi+k1xuICAgICAgICB1c2VySGVhZDogY2MuU3ByaXRlLFxuICAgICAgICB1c2VyTmFtZTogY2MuTGFiZWwsXG4gICAgICAgIHVzZXJDb2luOiBjYy5MYWJlbCxcbiAgICAgICAgY2FyZEF0bGFzOiBjYy5TcHJpdGVBdGxhcyxcbiAgICAgICAgYmFua2VyQ2FyZE5vZGU6IGNjLk5vZGUsXG4gICAgICAgIHBsYXllckNhcmROb2RlOiBjYy5Ob2RlLFxuICAgICAgICBiYW5rZXJBcnJvdzogY2MuTm9kZSxcbiAgICAgICAgcGxheWVyQXJyb3c6IGNjLk5vZGUsXG4gICAgICAgIHBsYXllclNjb3JlTGJsOiBjYy5MYWJlbCxcbiAgICAgICAgYmFua2VyU2NvcmVMYmw6IGNjLkxhYmVsLFxuXG4gICAgfSxcblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJJbmZvID0gcmVxdWlyZShcIlBsYXllckluZm9cIikuZ2V0SW5zdGFudDtcbiAgICAgICAgdGhpcy5uZXQgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KCdibGFja0phY2tOZXR3b3JrJyk7XG4gICAgICAgIHRoaXMuYXVkaW8gPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KCdibGFja0phY2tBdWRpbycpO1xuXG4gICAgICAgIC8v5Yid5aeL5YyW5pWw5YC8XG4gICAgICAgIHRoaXMuYmV0ID0gMTAwO1xuICAgICAgICB0aGlzLmxhc3RDaGlwcyA9IDA7XG4gICAgICAgIHRoaXMubXlDb2luID0gMDtcbiAgICAgICAgdGhpcy5wbGF5ZXJTY29yZSA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5iYW5rZXJTY29yZSA9IFswLCAwXTtcbiAgICB9LFxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJHYW1lKCk7XG4gICAgfSxcblxuICAgIGNsZWFyR2FtZSgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJTY29yZSA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5iYW5rZXJTY29yZSA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5wbGF5ZXJTY29yZUxibC5zdHJpbmcgPSAnMCc7XG4gICAgICAgIHRoaXMuYmFua2VyU2NvcmVMYmwuc3RyaW5nID0gJzAnO1xuICAgICAgICB0aGlzLm15Q2hpcHNMYmwuc3RyaW5nID0gJzAuMDAnO1xuICAgICAgICB0aGlzLmNoaXBzUG9vbC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuYnRuTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5idG5MaXN0W2ldLm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlwc05vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmdhbWVSZXN1bHRQaWNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVSZXN1bHRQaWNMaXN0W2ldLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFua2VyQ2FyZE5vZGUucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDYXJkTm9kZS5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB0aGlzLmNvaW5Ob2RlLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgIHRoaXMuYmV0VGlwLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFua2VyQXJyb3cuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheWVyQXJyb3cuYWN0aXZlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIG9uQ2xpY2soZXYsIGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MgPT0gJ2V4aXRHYW1lJykge1xuICAgICAgICAgICAgdGhpcy5uZXQuc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIkxvYmJ5TWFpblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzID09ICdvbkJldCcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm15Q29pbiA+PSB0aGlzLmJldCAmJiB0aGlzLmNoaXBzTm9kZS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJldFRpcC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaXBzTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5ldC5zb2NrZXQuZW1pdCgnbG90dGVyeScsIHRoaXMuYmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhcmdzID09ICdoZWxwJykge1xuICAgICAgICAgICAgdGhpcy5oZWxwQmQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzID09ICdjbG9zZUhlbHAnKSB7XG4gICAgICAgICAgICB0aGlzLmhlbHBCZC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzID09ICdoaXQnKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllclN0YXR1cygtMSk7XG4gICAgICAgICAgICAvL3NlbmRDYXJkICAwIHN0YW5kICAxIGhpdCAyZG91YmxlXG4gICAgICAgICAgICB0aGlzLm5ldC5zb2NrZXQuZW1pdCgnc2VuZENhcmQnLCAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzID09ICdzdGFuZCcpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3RhdHVzKC0xKTtcbiAgICAgICAgICAgIC8vc2VuZENhcmQgIDAgc3RhbmQgIDEgaGl0IDJkb3VibGVcbiAgICAgICAgICAgIHRoaXMubmV0LnNvY2tldC5lbWl0KCdzZW5kQ2FyZCcsIDApO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3MgPT0gJ2RvdWJsZScpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3RhdHVzKC0xKTtcbiAgICAgICAgICAgIC8vc2VuZENhcmQgIDAgc3RhbmQgIDEgaGl0IDJkb3VibGVcbiAgICAgICAgICAgIHRoaXMubmV0LnNvY2tldC5lbWl0KCdzZW5kQ2FyZCcsIDIpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3MgPT0gJ2luc3VyYW5jZScpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3RhdHVzKC0xKTtcbiAgICAgICAgICAgIHRoaXMubmV0LnNvY2tldC5lbWl0KCdidXlTYWZlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJncyA9PSAncmVHYW1lJykge1xuICAgICAgICAgICAgdGhpcy5jbGVhckdhbWUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBiZXRDYWxsQmFjaygpIHtcbiAgICAgICAgdGhpcy5teUNvaW4gLT0gdGhpcy5iZXQ7XG4gICAgICAgIHRoaXMubGFzdENoaXBzID0gdGhpcy5iZXQ7XG4gICAgICAgIHRoaXMudXNlckNvaW4uc3RyaW5nID0gKHRoaXMubXlDb2luIC8gMTAwKS50b0ZpeGVkKDIpO1xuICAgICAgICB0aGlzLm15Q2hpcHNMYmwuc3RyaW5nID0gKHRoaXMubGFzdENoaXBzIC8gMTAwKS50b0ZpeGVkKDIpO1xuICAgICAgICB0aGlzLnJvbGxDb2luKCk7XG4gICAgfSxcblxuICAgIHJvbGxDb2luKGluc3VyYW5jZUJvb2wpIHtcbiAgICAgICAgbGV0IGNvaW5Kc29uID0ge1xuICAgICAgICAgICAgMTAwOiAwLFxuICAgICAgICAgICAgMTAwMDogMSxcbiAgICAgICAgICAgIDUwMDA6IDIsXG4gICAgICAgICAgICAxMDAwMDogMyxcbiAgICAgICAgICAgIDUwMDAwOiA0LFxuICAgICAgICB9XG4gICAgICAgIGxldCBjb2luID0gY2MuaW5zdGFudGlhdGUodGhpcy5jaGlwUGJMaXN0WyEhaW5zdXJhbmNlQm9vbCA/IDUgOiBjb2luSnNvblt0aGlzLmJldF1dKTtcbiAgICAgICAgdGhpcy5jb2luTm9kZS5hZGRDaGlsZChjb2luKTtcbiAgICAgICAgY29pbi5wb3NpdGlvbiA9IGNjLnYyKDQwMCwgLTYwMCk7XG4gICAgICAgIGNvaW4ucnVuQWN0aW9uKGNjLm1vdmVUbygwLjMsIGNjLnYyKE1hdGgucmFuZG9tKCkgKiAxMDAgLSA1MCwgTWF0aC5yYW5kb20oKSAqIDEwMCAtIDUwKSkpO1xuICAgIH0sXG5cbiAgICBvblRvZ2dsZShldiwgYXJncykge1xuICAgICAgICB0aGlzLmJldCA9IHBhcnNlSW50KGFyZ3MpICogMTAwO1xuICAgIH0sXG5cbiAgICBzdGFydEJldCgpIHtcbiAgICAgICAgdGhpcy5jaGlwc05vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iZXRUaXAuYWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZ2V0Q2FyZCgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgIGxldCBzcHIgPSBub2RlLmFkZENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICBzcHIuc3ByaXRlRnJhbWUgPSB0aGlzLmNhcmRBdGxhcy5nZXRTcHJpdGVGcmFtZSgnYmdfYmFjaycpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9LFxuXG4gICAgY2hhbmdlRmxvd2VyVG9TdHIoZmxvd2VyKSB7XG4gICAgICAgIGxldCBzdHIgPSAnYmdfYmFjayc7XG4gICAgICAgIGlmICghIWZsb3dlcikge1xuICAgICAgICAgICAgbGV0IHUgPSBwYXJzZUludChmbG93ZXIgLyAxNiAvIDE2KTtcbiAgICAgICAgICAgIGxldCB2ID0gZmxvd2VyICUgMTY7XG4gICAgICAgICAgICBzdHIgPSBgJHt2fV8ke3UgPj0gMTAgPyB1IDogJzAnICsgdX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIGZpcnN0RGVhbCguLi5hcmdzKSB7XG4gICAgICAgIGxldCBjdXJJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1ckluZGV4IDw9IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYWwoJ2JhbmtlcicsIGFyZ3NbY3VySW5kZXhdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFsKCcnLCBhcmdzW2N1ckluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGN1ckluZGV4ID09IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllckFycm93LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDAuMywgMyk7XG4gICAgfSxcblxuICAgIGRlYWwod2hvLCBmbG93ZXIpIHtcbiAgICAgICAgbGV0IGRlZmF1bHRQb3MgPSBjYy52Mig1MTUsIDM4Nik7XG4gICAgICAgIGxldCBjYXJkID0gdGhpcy5nZXRDYXJkKCk7XG4gICAgICAgIGNhcmQucG9zaXRpb24gPSBkZWZhdWx0UG9zO1xuICAgICAgICBjYXJkLnJvdGF0aW9uID0gLTc2O1xuICAgICAgICBsZXQgd2hvTm9kZSA9IHRoaXMucGxheWVyQ2FyZE5vZGU7XG4gICAgICAgIGxldCB3aG9Qb3MgPSBjYy52MigwLCAtMTYwKTtcbiAgICAgICAgaWYgKHdobyA9PSAnYmFua2VyJykge1xuICAgICAgICAgICAgd2hvTm9kZSA9IHRoaXMuYmFua2VyQ2FyZE5vZGU7XG4gICAgICAgICAgICB3aG9Qb3MgPSBjYy52MigwLCAyNDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy/lh7rniYxcbiAgICAgICAgY2FyZC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc3Bhd24oY2MubW92ZVRvKDAuMywgd2hvUG9zKSwgY2Mucm90YXRlVG8oMC4zLCAwKSksIGNjLmNhbGxGdW5jKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBzcHJOYW1lID0gdGhpcy5jaGFuZ2VGbG93ZXJUb1N0cihmbG93ZXIpO1xuICAgICAgICAgICAgY2FyZC5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuY2FyZEF0bGFzLmdldFNwcml0ZUZyYW1lKHNwck5hbWUpO1xuICAgICAgICAgICAgY2FyZC5wYXJlbnQgPSB3aG9Ob2RlO1xuICAgICAgICAgICAgY2FyZC5wb3NpdGlvbiA9IGNjLnYyKDAsIDApO1xuICAgICAgICAgICAgdGhpcy5zZXRDb3VudCh3aG8sIGZsb3dlcik7XG4gICAgICAgIH0pKSk7XG4gICAgfSxcblxuICAgIHNldENvdW50KHdobywgZmxvd2VyKSB7XG4gICAgICAgIC8v6K6h566X5YiG5pWwXG4gICAgICAgIGxldCBzY29yZSA9IHdobyA9PSAnYmFua2VyJyA/IHRoaXMuYmFua2VyU2NvcmUgOiB0aGlzLnBsYXllclNjb3JlO1xuICAgICAgICBsZXQgc2NvcmVMbGIgPSB3aG8gPT0gJ2JhbmtlcicgPyB0aGlzLmJhbmtlclNjb3JlTGJsIDogdGhpcy5wbGF5ZXJTY29yZUxibDtcbiAgICAgICAgbGV0IGNhcmRTY29yZSA9IHBhcnNlSW50KGZsb3dlciAvIDE2IC8gMTYpO1xuICAgICAgICBjYXJkU2NvcmUgPSBjYXJkU2NvcmUgPj0gMTAgPyAxMCA6IGNhcmRTY29yZTtcbiAgICAgICAgaWYgKGNhcmRTY29yZSA9PSAxKSB7XG4gICAgICAgICAgICBzY29yZVswXSArPSAxO1xuICAgICAgICAgICAgc2NvcmVbMV0gKz0gMTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY29yZVswXSArPSBjYXJkU2NvcmU7XG4gICAgICAgICAgICBzY29yZVsxXSArPSBjYXJkU2NvcmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjb3JlWzBdID09IHNjb3JlWzFdKSB7XG4gICAgICAgICAgICBzY29yZUxsYi5zdHJpbmcgPSBzY29yZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzY29yZVswXSA8PSAyMSAmJiBzY29yZVsxXSA8PSAyMSkge1xuICAgICAgICAgICAgICAgIGlmIChzY29yZVswXSA9PSAyMSB8fCBzY29yZVsxXSA9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICBzY29yZUxsYi5zdHJpbmcgPSAnMjEnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlTGxiLnN0cmluZyA9IHNjb3JlWzBdICsgJy8nICsgc2NvcmVbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzY29yZVswXSA+IDIxICYmIHNjb3JlWzFdID4gMjEpIHtcbiAgICAgICAgICAgICAgICBzY29yZUxsYi5zdHJpbmcgPSBzY29yZVswXSA+PSBzY29yZVsxXSA/IHNjb3JlWzFdIDogc2NvcmVbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3JlTGxiLnN0cmluZyA9IHNjb3JlWzBdIDw9IDIxID8gc2NvcmVbMF0gOiBzY29yZVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBwbGF5ZXJTdGF0dXMoaW5kZXgpIHtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmJ0bkxpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFtpXS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSAxKSB7XG4gICAgICAgICAgICAvL+S/nemZqSvpppbmrKHmmK/lkKbopoHniYxcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFswXS5ub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RbMV0ubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5idG5MaXN0WzJdLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFszXS5ub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMikge1xuICAgICAgICAgICAgLy/kuI3nlKjkubDkv53pmakr6aaW5qyh5piv5ZCm6KaB54mMXG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RbMF0ubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5idG5MaXN0WzFdLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFszXS5ub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMykge1xuICAgICAgICAgICAgLy/lho3mrKHmrKHmmK/lkKbopoHniYxcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFswXS5ub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RbMV0ubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFs0XS5ub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb3ZlckFjdGlvbihiYW5rZXJDYXJkcywgd2hvV2luLCBzY29yZSkge1xuICAgICAgICAvL3dob1dpbiAwIOeOqeWutui1oiAx5bqE6LWiIDLlubNcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmJ0bkxpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdFtpXS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWVyQXJyb3cuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmFua2VyQXJyb3cuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChiYW5rZXJDYXJkcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFsKCdiYW5rZXInLCBiYW5rZXJDYXJkc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gYmFua2VyQ2FyZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwck5hbWUgPSB0aGlzLmNoYW5nZUZsb3dlclRvU3RyKGJhbmtlckNhcmRzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvdW50KCdiYW5rZXInLCBiYW5rZXJDYXJkc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYW5rZXJDYXJkTm9kZS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuY2FyZEF0bGFzLmdldFNwcml0ZUZyYW1lKHNwck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVJlc3VsdFBpY0xpc3Rbd2hvV2luXS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFua2VyQXJyb3cuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJBcnJvdy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm15Q29pbiA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckNvaW4uc3RyaW5nID0gKHRoaXMubXlDb2luIC8gMTAwKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyU3RhdHVzKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDAuMywgYmFua2VyQ2FyZHMubGVuZ3RoIC0gMyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwck5hbWUgPSB0aGlzLmNoYW5nZUZsb3dlclRvU3RyKGJhbmtlckNhcmRzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudCgnYmFua2VyJywgYmFua2VyQ2FyZHNbMV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtlckNhcmROb2RlLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5jYXJkQXRsYXMuZ2V0U3ByaXRlRnJhbWUoc3ByTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVJlc3VsdFBpY0xpc3Rbd2hvV2luXS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtlckFycm93LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckFycm93LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm15Q29pbiA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJDb2luLnN0cmluZyA9ICh0aGlzLm15Q29pbiAvIDEwMCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJTdGF0dXMoNCk7XG4gICAgICAgICAgICAgICAgfSwgMC41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMSk7XG4gICAgfSxcbn0pOyJdfQ==