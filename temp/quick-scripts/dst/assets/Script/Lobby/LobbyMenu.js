
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Lobby/LobbyMenu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc6fet1LSFPv5dnYoY+JFwO', 'LobbyMenu');
// Script/Lobby/LobbyMenu.js

"use strict";

/**
 * 大厅按钮管理类
 */
cc.Class({
  "extends": cc.Component,
  properties: {
    com_GameMenu: {
      "default": null,
      type: cc.Node
    }
  },
  onLoad: function onLoad() {
    this.playerInfo = this.node.getComponent("LobbyMain").playerInfo;
    this.lightTime = new Array(3);

    for (var i = 0; i < this.lightTime.length; i++) {
      this.lightTime[i] = this.getRandom_Function(2, 5);
    }
  },

  /**
   * 按钮上显示更新图标
   */
  needToUpdate_Function: function needToUpdate_Function() {
    var menuList = this.com_GameMenu.getChildByName("Game_iconlistz"); //在按钮上显示更新图标

    for (var i = 1; i < this.playerInfo.needToUpdate.length; i++) {
      if (this.playerInfo.needToUpdate[i]) {
        menuList.children[i + 3].children[0].active = true;
      } else {
        menuList.children[i + 3].children[0].active = false;
      }
    }
  },

  /**
   * 初始化大厅游戏按钮
   * @param {*} info 
   */
  gameMenuInit_Function: function gameMenuInit_Function(info) {
    this.com_GameMenu.active = true;
    console.log("game menu init gameInfo: ", info); //按钮列表

    var menuList = this.com_GameMenu.getChildByName("Game_iconlist");
    this.gameMenuButtonInit_Function(info[0], menuList.getChildByName("Arcade_Fish_jinchanbuyu"), this.com_GameMenu.getChildByName("com_Fish"), 0);
    this.gameMenuButtonInit_Function(info[1], menuList.getChildByName("Arcade_Fishhaiwang2"), this.com_GameMenu.getChildByName("com_Fishhaiwang2"), 0);
    this.gameMenuButtonInit_Function(info[2], menuList.getChildByName("Arcade_hongbaodaren"), this.com_GameMenu.getChildByName("com_Hongbao"), 0);
    this.gameMenuButtonInit_Function(info[7], menuList.getChildByName("Table_GrabBull"), this.com_GameMenu.getChildByName("com_GrabBull"), 0);
    this.gameMenuButtonInit_Function(info[9], menuList.getChildByName("Table_Land"), this.com_GameMenu.getChildByName("com_Land"), 0);
    this.gameMenuButtonInit_Function(info[10], menuList.getChildByName("Table_RunFast"), this.com_GameMenu.getChildByName("com_Run"), 0);
    this.gameMenuButtonInit_Function(info[11], menuList.getChildByName("Table_Holdem"), this.com_GameMenu.getChildByName("com_Holdem"), 0);
    this.gameMenuButtonInit_Function(info[12], menuList.getChildByName("Table_Flower"), this.com_GameMenu.getChildByName("com_Flower"), 0);
  },

  /**
   * 初始化选场按钮
   * @param {*} data 
   * @param {*} btNode 
   * @param {*} comNode 
   * @param {*} type 
   * @param {*} index 
   */
  gameMenuButtonInit_Function: function gameMenuButtonInit_Function(data, btNode, comNode, type, index) {
    //cc.log('初始化选场按钮:' + type  + ',按钮===========================' + btNode.getComponent("cc.Button"));
    //console.log("游戏信息：",data.GameId,"房间信息：",data.serverInfo.normal,"游戏按钮：",btNode,"type:",type);
    if (!cc.isValid(btNode)) return;

    switch (type) {
      case 0:
        //第一个子节点为背景图
        for (var i = 0; i < data.serverInfo.normal.length; i++) {
          if (!comNode.children[i + 1]) break;
          comNode.children[i + 1].gameId = data.GameId;
          comNode.children[i + 1].ip = data.serverInfo.normal[i].ip;
          comNode.children[i + 1].prot = data.serverInfo.normal[i].prot;
          comNode.children[i + 1].entryCoin = data.serverInfo.normal[i].entryCoin;
          comNode.children[i + 1].server = data.serverInfo.normal[i].Server;
          comNode.children[i + 1].bet = data.serverInfo.normal[i].bet;
          comNode.children[i + 1].getChildByName("lb_Bet").getComponent(cc.Label).string = (data.serverInfo.normal[i].bet / this.playerInfo.exchangeRate).toFixed(2);
          comNode.children[i + 1].getChildByName("lb_EntryCoin").getComponent(cc.Label).string = (data.serverInfo.normal[i].entryCoin / this.playerInfo.exchangeRate).toFixed(2);
          comNode.children[i + 1].getChildByName("lb_PlayerNum").getComponent(cc.Label).string = "良好";
          comNode.children[i + 1].getComponent(cc.Button).interactable = true;
        }

        btNode.getComponent(cc.Button).interactable = true;
        break;

      case 1:
        btNode.gameId = data.GameId;
        btNode.ip = data.serverInfo.normal[0].ip;
        btNode.prot = data.serverInfo.normal[0].prot;
        btNode.entryCoin = data.serverInfo.normal[0].entryCoin;
        btNode.server = data.serverInfo.normal[0].Server;
        btNode.bet = data.serverInfo.normal[0].bet;
        btNode.getComponent(cc.Button).interactable = true;
        break;

      case 2:
        btNode.gameId = data.GameId;
        btNode.ip = data.serverInfo.normal[index].ip;
        btNode.prot = data.serverInfo.normal[index].prot;
        btNode.entryCoin = data.serverInfo.normal[index].entryCoin;
        btNode.server = data.serverInfo.normal[index].Server;
        btNode.bet = data.serverInfo.normal[index].bet;
        btNode.getChildByName("lb_Bet").getComponent(cc.Label).string = (data.serverInfo.normal[index].bet / this.playerInfo.exchangeRate).toFixed(2);
        btNode.getChildByName("lb_EntryCoin").getComponent(cc.Label).string = (data.serverInfo.normal[index].entryCoin / this.playerInfo.exchangeRate).toFixed(2);
        btNode.getComponent(cc.Button).interactable = true;
        break;
    }
  },

  /**
   * 更新
   * @param {*} dt 
   */
  update: function update(dt) {},

  /**
   * 获得范围随机数
   * @param {*} min 
   * @param {*} max 
   */
  getRandom_Function: function getRandom_Function(min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxMb2JieVxcTG9iYnlNZW51LmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiY29tX0dhbWVNZW51IiwidHlwZSIsIk5vZGUiLCJvbkxvYWQiLCJwbGF5ZXJJbmZvIiwibm9kZSIsImdldENvbXBvbmVudCIsImxpZ2h0VGltZSIsIkFycmF5IiwiaSIsImxlbmd0aCIsImdldFJhbmRvbV9GdW5jdGlvbiIsIm5lZWRUb1VwZGF0ZV9GdW5jdGlvbiIsIm1lbnVMaXN0IiwiZ2V0Q2hpbGRCeU5hbWUiLCJuZWVkVG9VcGRhdGUiLCJjaGlsZHJlbiIsImFjdGl2ZSIsImdhbWVNZW51SW5pdF9GdW5jdGlvbiIsImluZm8iLCJjb25zb2xlIiwibG9nIiwiZ2FtZU1lbnVCdXR0b25Jbml0X0Z1bmN0aW9uIiwiZGF0YSIsImJ0Tm9kZSIsImNvbU5vZGUiLCJpbmRleCIsImlzVmFsaWQiLCJzZXJ2ZXJJbmZvIiwibm9ybWFsIiwiZ2FtZUlkIiwiR2FtZUlkIiwiaXAiLCJwcm90IiwiZW50cnlDb2luIiwic2VydmVyIiwiU2VydmVyIiwiYmV0IiwiTGFiZWwiLCJzdHJpbmciLCJleGNoYW5nZVJhdGUiLCJ0b0ZpeGVkIiwiQnV0dG9uIiwiaW50ZXJhY3RhYmxlIiwidXBkYXRlIiwiZHQiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0FBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxZQUFZLEVBQUU7QUFDVixpQkFBUyxJQURDO0FBRVZDLE1BQUFBLElBQUksRUFBRUwsRUFBRSxDQUFDTTtBQUZDO0FBRE4sR0FIUDtBQVNMQyxFQUFBQSxNQUFNLEVBQUUsa0JBQVk7QUFDaEIsU0FBS0MsVUFBTCxHQUFrQixLQUFLQyxJQUFMLENBQVVDLFlBQVYsQ0FBdUIsV0FBdkIsRUFBb0NGLFVBQXREO0FBQ0EsU0FBS0csU0FBTCxHQUFpQixJQUFJQyxLQUFKLENBQVUsQ0FBVixDQUFqQjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS0YsU0FBTCxDQUFlRyxNQUFuQyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUFnRDtBQUM1QyxXQUFLRixTQUFMLENBQWVFLENBQWYsSUFBb0IsS0FBS0Usa0JBQUwsQ0FBd0IsQ0FBeEIsRUFBMkIsQ0FBM0IsQ0FBcEI7QUFDSDtBQUNKLEdBZkk7O0FBZ0JMO0FBQ0o7QUFDQTtBQUNJQyxFQUFBQSxxQkFBcUIsRUFBRSxpQ0FBWTtBQUMvQixRQUFJQyxRQUFRLEdBQUcsS0FBS2IsWUFBTCxDQUFrQmMsY0FBbEIsQ0FBaUMsZ0JBQWpDLENBQWYsQ0FEK0IsQ0FFL0I7O0FBQ0EsU0FBSyxJQUFJTCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtMLFVBQUwsQ0FBZ0JXLFlBQWhCLENBQTZCTCxNQUFqRCxFQUF5REQsQ0FBQyxFQUExRCxFQUE4RDtBQUMxRCxVQUFJLEtBQUtMLFVBQUwsQ0FBZ0JXLFlBQWhCLENBQTZCTixDQUE3QixDQUFKLEVBQXFDO0FBQ2pDSSxRQUFBQSxRQUFRLENBQUNHLFFBQVQsQ0FBa0JQLENBQUMsR0FBRyxDQUF0QixFQUF5Qk8sUUFBekIsQ0FBa0MsQ0FBbEMsRUFBcUNDLE1BQXJDLEdBQThDLElBQTlDO0FBQ0gsT0FGRCxNQUdLO0FBQ0RKLFFBQUFBLFFBQVEsQ0FBQ0csUUFBVCxDQUFrQlAsQ0FBQyxHQUFHLENBQXRCLEVBQXlCTyxRQUF6QixDQUFrQyxDQUFsQyxFQUFxQ0MsTUFBckMsR0FBOEMsS0FBOUM7QUFDSDtBQUNKO0FBQ0osR0E5Qkk7O0FBK0JMO0FBQ0o7QUFDQTtBQUNBO0FBQ0lDLEVBQUFBLHFCQUFxQixFQUFFLCtCQUFVQyxJQUFWLEVBQWdCO0FBQ25DLFNBQUtuQixZQUFMLENBQWtCaUIsTUFBbEIsR0FBMkIsSUFBM0I7QUFDQUcsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksMkJBQVosRUFBeUNGLElBQXpDLEVBRm1DLENBR25DOztBQUNBLFFBQUlOLFFBQVEsR0FBRyxLQUFLYixZQUFMLENBQWtCYyxjQUFsQixDQUFpQyxlQUFqQyxDQUFmO0FBQ0EsU0FBS1EsMkJBQUwsQ0FBaUNILElBQUksQ0FBQyxDQUFELENBQXJDLEVBQTBDTixRQUFRLENBQUNDLGNBQVQsQ0FBd0IseUJBQXhCLENBQTFDLEVBQThGLEtBQUtkLFlBQUwsQ0FBa0JjLGNBQWxCLENBQWlDLFVBQWpDLENBQTlGLEVBQTRJLENBQTVJO0FBQ0EsU0FBS1EsMkJBQUwsQ0FBaUNILElBQUksQ0FBQyxDQUFELENBQXJDLEVBQTBDTixRQUFRLENBQUNDLGNBQVQsQ0FBd0IscUJBQXhCLENBQTFDLEVBQTBGLEtBQUtkLFlBQUwsQ0FBa0JjLGNBQWxCLENBQWlDLGtCQUFqQyxDQUExRixFQUFnSixDQUFoSjtBQUNBLFNBQUtRLDJCQUFMLENBQWlDSCxJQUFJLENBQUMsQ0FBRCxDQUFyQyxFQUEwQ04sUUFBUSxDQUFDQyxjQUFULENBQXdCLHFCQUF4QixDQUExQyxFQUEwRixLQUFLZCxZQUFMLENBQWtCYyxjQUFsQixDQUFpQyxhQUFqQyxDQUExRixFQUEySSxDQUEzSTtBQUNBLFNBQUtRLDJCQUFMLENBQWlDSCxJQUFJLENBQUMsQ0FBRCxDQUFyQyxFQUEwQ04sUUFBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixDQUExQyxFQUFxRixLQUFLZCxZQUFMLENBQWtCYyxjQUFsQixDQUFpQyxjQUFqQyxDQUFyRixFQUF1SSxDQUF2STtBQUNBLFNBQUtRLDJCQUFMLENBQWlDSCxJQUFJLENBQUMsQ0FBRCxDQUFyQyxFQUEwQ04sUUFBUSxDQUFDQyxjQUFULENBQXdCLFlBQXhCLENBQTFDLEVBQWlGLEtBQUtkLFlBQUwsQ0FBa0JjLGNBQWxCLENBQWlDLFVBQWpDLENBQWpGLEVBQStILENBQS9IO0FBQ0EsU0FBS1EsMkJBQUwsQ0FBaUNILElBQUksQ0FBQyxFQUFELENBQXJDLEVBQTJDTixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsZUFBeEIsQ0FBM0MsRUFBcUYsS0FBS2QsWUFBTCxDQUFrQmMsY0FBbEIsQ0FBaUMsU0FBakMsQ0FBckYsRUFBa0ksQ0FBbEk7QUFDQSxTQUFLUSwyQkFBTCxDQUFpQ0gsSUFBSSxDQUFDLEVBQUQsQ0FBckMsRUFBMkNOLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixjQUF4QixDQUEzQyxFQUFvRixLQUFLZCxZQUFMLENBQWtCYyxjQUFsQixDQUFpQyxZQUFqQyxDQUFwRixFQUFvSSxDQUFwSTtBQUNBLFNBQUtRLDJCQUFMLENBQWlDSCxJQUFJLENBQUMsRUFBRCxDQUFyQyxFQUEyQ04sUUFBUSxDQUFDQyxjQUFULENBQXdCLGNBQXhCLENBQTNDLEVBQW9GLEtBQUtkLFlBQUwsQ0FBa0JjLGNBQWxCLENBQWlDLFlBQWpDLENBQXBGLEVBQW9JLENBQXBJO0FBQ0gsR0FoREk7O0FBa0RMO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSVEsRUFBQUEsMkJBQTJCLEVBQUUscUNBQVVDLElBQVYsRUFBZ0JDLE1BQWhCLEVBQXdCQyxPQUF4QixFQUFpQ3hCLElBQWpDLEVBQXVDeUIsS0FBdkMsRUFBOEM7QUFDdkU7QUFDQTtBQUNBLFFBQUksQ0FBQzlCLEVBQUUsQ0FBQytCLE9BQUgsQ0FBV0gsTUFBWCxDQUFMLEVBQXlCOztBQUN6QixZQUFRdkIsSUFBUjtBQUNJLFdBQUssQ0FBTDtBQUFPO0FBQ0gsYUFBSyxJQUFJUSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHYyxJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCbkIsTUFBM0MsRUFBbURELENBQUMsRUFBcEQsRUFBd0Q7QUFDcEQsY0FBSSxDQUFDZ0IsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsQ0FBTCxFQUE4QjtBQUM5QmdCLFVBQUFBLE9BQU8sQ0FBQ1QsUUFBUixDQUFpQlAsQ0FBQyxHQUFHLENBQXJCLEVBQXdCcUIsTUFBeEIsR0FBaUNQLElBQUksQ0FBQ1EsTUFBdEM7QUFDQU4sVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0J1QixFQUF4QixHQUE2QlQsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QnBCLENBQXZCLEVBQTBCdUIsRUFBdkQ7QUFDQVAsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0J3QixJQUF4QixHQUErQlYsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QnBCLENBQXZCLEVBQTBCd0IsSUFBekQ7QUFDQVIsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0J5QixTQUF4QixHQUFvQ1gsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QnBCLENBQXZCLEVBQTBCeUIsU0FBOUQ7QUFDQVQsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0IwQixNQUF4QixHQUFpQ1osSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QnBCLENBQXZCLEVBQTBCMkIsTUFBM0Q7QUFDQVgsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0I0QixHQUF4QixHQUE4QmQsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QnBCLENBQXZCLEVBQTBCNEIsR0FBeEQ7QUFDQVosVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0JLLGNBQXhCLENBQXVDLFFBQXZDLEVBQWlEUixZQUFqRCxDQUE4RFYsRUFBRSxDQUFDMEMsS0FBakUsRUFBd0VDLE1BQXhFLEdBQWlGLENBQUNoQixJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCcEIsQ0FBdkIsRUFBMEI0QixHQUExQixHQUFnQyxLQUFLakMsVUFBTCxDQUFnQm9DLFlBQWpELEVBQStEQyxPQUEvRCxDQUF1RSxDQUF2RSxDQUFqRjtBQUNBaEIsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0JLLGNBQXhCLENBQXVDLGNBQXZDLEVBQXVEUixZQUF2RCxDQUFvRVYsRUFBRSxDQUFDMEMsS0FBdkUsRUFBOEVDLE1BQTlFLEdBQXVGLENBQUNoQixJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCcEIsQ0FBdkIsRUFBMEJ5QixTQUExQixHQUFzQyxLQUFLOUIsVUFBTCxDQUFnQm9DLFlBQXZELEVBQXFFQyxPQUFyRSxDQUE2RSxDQUE3RSxDQUF2RjtBQUNBaEIsVUFBQUEsT0FBTyxDQUFDVCxRQUFSLENBQWlCUCxDQUFDLEdBQUcsQ0FBckIsRUFBd0JLLGNBQXhCLENBQXVDLGNBQXZDLEVBQXVEUixZQUF2RCxDQUFvRVYsRUFBRSxDQUFDMEMsS0FBdkUsRUFBOEVDLE1BQTlFLEdBQXVGLElBQXZGO0FBQ0FkLFVBQUFBLE9BQU8sQ0FBQ1QsUUFBUixDQUFpQlAsQ0FBQyxHQUFHLENBQXJCLEVBQXdCSCxZQUF4QixDQUFxQ1YsRUFBRSxDQUFDOEMsTUFBeEMsRUFBZ0RDLFlBQWhELEdBQStELElBQS9EO0FBQ0g7O0FBQ0RuQixRQUFBQSxNQUFNLENBQUNsQixZQUFQLENBQW9CVixFQUFFLENBQUM4QyxNQUF2QixFQUErQkMsWUFBL0IsR0FBOEMsSUFBOUM7QUFDQTs7QUFDSixXQUFLLENBQUw7QUFDSW5CLFFBQUFBLE1BQU0sQ0FBQ00sTUFBUCxHQUFnQlAsSUFBSSxDQUFDUSxNQUFyQjtBQUNBUCxRQUFBQSxNQUFNLENBQUNRLEVBQVAsR0FBWVQsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQkcsRUFBdEM7QUFDQVIsUUFBQUEsTUFBTSxDQUFDUyxJQUFQLEdBQWNWLElBQUksQ0FBQ0ssVUFBTCxDQUFnQkMsTUFBaEIsQ0FBdUIsQ0FBdkIsRUFBMEJJLElBQXhDO0FBQ0FULFFBQUFBLE1BQU0sQ0FBQ1UsU0FBUCxHQUFtQlgsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQkssU0FBN0M7QUFDQVYsUUFBQUEsTUFBTSxDQUFDVyxNQUFQLEdBQWdCWixJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCLENBQXZCLEVBQTBCTyxNQUExQztBQUNBWixRQUFBQSxNQUFNLENBQUNhLEdBQVAsR0FBYWQsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQlEsR0FBdkM7QUFDQWIsUUFBQUEsTUFBTSxDQUFDbEIsWUFBUCxDQUFvQlYsRUFBRSxDQUFDOEMsTUFBdkIsRUFBK0JDLFlBQS9CLEdBQThDLElBQTlDO0FBQ0E7O0FBQ0osV0FBSyxDQUFMO0FBQ0luQixRQUFBQSxNQUFNLENBQUNNLE1BQVAsR0FBZ0JQLElBQUksQ0FBQ1EsTUFBckI7QUFDQVAsUUFBQUEsTUFBTSxDQUFDUSxFQUFQLEdBQVlULElBQUksQ0FBQ0ssVUFBTCxDQUFnQkMsTUFBaEIsQ0FBdUJILEtBQXZCLEVBQThCTSxFQUExQztBQUNBUixRQUFBQSxNQUFNLENBQUNTLElBQVAsR0FBY1YsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QkgsS0FBdkIsRUFBOEJPLElBQTVDO0FBQ0FULFFBQUFBLE1BQU0sQ0FBQ1UsU0FBUCxHQUFtQlgsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QkgsS0FBdkIsRUFBOEJRLFNBQWpEO0FBQ0FWLFFBQUFBLE1BQU0sQ0FBQ1csTUFBUCxHQUFnQlosSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QkgsS0FBdkIsRUFBOEJVLE1BQTlDO0FBQ0FaLFFBQUFBLE1BQU0sQ0FBQ2EsR0FBUCxHQUFhZCxJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCSCxLQUF2QixFQUE4QlcsR0FBM0M7QUFDQWIsUUFBQUEsTUFBTSxDQUFDVixjQUFQLENBQXNCLFFBQXRCLEVBQWdDUixZQUFoQyxDQUE2Q1YsRUFBRSxDQUFDMEMsS0FBaEQsRUFBdURDLE1BQXZELEdBQWdFLENBQUNoQixJQUFJLENBQUNLLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCSCxLQUF2QixFQUE4QlcsR0FBOUIsR0FBb0MsS0FBS2pDLFVBQUwsQ0FBZ0JvQyxZQUFyRCxFQUFtRUMsT0FBbkUsQ0FBMkUsQ0FBM0UsQ0FBaEU7QUFDQWpCLFFBQUFBLE1BQU0sQ0FBQ1YsY0FBUCxDQUFzQixjQUF0QixFQUFzQ1IsWUFBdEMsQ0FBbURWLEVBQUUsQ0FBQzBDLEtBQXRELEVBQTZEQyxNQUE3RCxHQUFzRSxDQUFDaEIsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxNQUFoQixDQUF1QkgsS0FBdkIsRUFBOEJRLFNBQTlCLEdBQTBDLEtBQUs5QixVQUFMLENBQWdCb0MsWUFBM0QsRUFBeUVDLE9BQXpFLENBQWlGLENBQWpGLENBQXRFO0FBQ0FqQixRQUFBQSxNQUFNLENBQUNsQixZQUFQLENBQW9CVixFQUFFLENBQUM4QyxNQUF2QixFQUErQkMsWUFBL0IsR0FBOEMsSUFBOUM7QUFDQTtBQXBDUjtBQXNDSCxHQXBHSTs7QUFzR0w7QUFDSjtBQUNBO0FBQ0E7QUFDSUMsRUFBQUEsTUFBTSxFQUFFLGdCQUFVQyxFQUFWLEVBQWMsQ0FFckIsQ0E1R0k7O0FBOEdMO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSWxDLEVBQUFBLGtCQUFrQixFQUFFLDRCQUFVbUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQ3BDLFdBQU9DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsTUFBaUJILEdBQUcsR0FBR0QsR0FBTixHQUFZLENBQTdCLElBQWtDQSxHQUE3QyxDQUFQO0FBQ0g7QUFySEksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWkp+WOheaMiemSrueuoeeQhuexu1xyXG4gKi9cclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBjb21fR2FtZU1lbnU6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBsYXllckluZm8gPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KFwiTG9iYnlNYWluXCIpLnBsYXllckluZm87XHJcbiAgICAgICAgdGhpcy5saWdodFRpbWUgPSBuZXcgQXJyYXkoMyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpZ2h0VGltZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmxpZ2h0VGltZVtpXSA9IHRoaXMuZ2V0UmFuZG9tX0Z1bmN0aW9uKDIsIDUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOaMiemSruS4iuaYvuekuuabtOaWsOWbvuagh1xyXG4gICAgICovXHJcbiAgICBuZWVkVG9VcGRhdGVfRnVuY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWVudUxpc3QgPSB0aGlzLmNvbV9HYW1lTWVudS5nZXRDaGlsZEJ5TmFtZShcIkdhbWVfaWNvbmxpc3R6XCIpO1xyXG4gICAgICAgIC8v5Zyo5oyJ6ZKu5LiK5pi+56S65pu05paw5Zu+5qCHXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBsYXllckluZm8ubmVlZFRvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckluZm8ubmVlZFRvVXBkYXRlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBtZW51TGlzdC5jaGlsZHJlbltpICsgM10uY2hpbGRyZW5bMF0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lbnVMaXN0LmNoaWxkcmVuW2kgKyAzXS5jaGlsZHJlblswXS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMluWkp+WOhea4uOaIj+aMiemSrlxyXG4gICAgICogQHBhcmFtIHsqfSBpbmZvIFxyXG4gICAgICovXHJcbiAgICBnYW1lTWVudUluaXRfRnVuY3Rpb246IGZ1bmN0aW9uIChpbmZvKSB7XHJcbiAgICAgICAgdGhpcy5jb21fR2FtZU1lbnUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWUgbWVudSBpbml0IGdhbWVJbmZvOiBcIiwgaW5mbyk7XHJcbiAgICAgICAgLy/mjInpkq7liJfooahcclxuICAgICAgICB2YXIgbWVudUxpc3QgPSB0aGlzLmNvbV9HYW1lTWVudS5nZXRDaGlsZEJ5TmFtZShcIkdhbWVfaWNvbmxpc3RcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb24oaW5mb1swXSwgbWVudUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJBcmNhZGVfRmlzaF9qaW5jaGFuYnV5dVwiKSwgdGhpcy5jb21fR2FtZU1lbnUuZ2V0Q2hpbGRCeU5hbWUoXCJjb21fRmlzaFwiKSwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb24oaW5mb1sxXSwgbWVudUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJBcmNhZGVfRmlzaGhhaXdhbmcyXCIpLCB0aGlzLmNvbV9HYW1lTWVudS5nZXRDaGlsZEJ5TmFtZShcImNvbV9GaXNoaGFpd2FuZzJcIiksIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU1lbnVCdXR0b25Jbml0X0Z1bmN0aW9uKGluZm9bMl0sIG1lbnVMaXN0LmdldENoaWxkQnlOYW1lKFwiQXJjYWRlX2hvbmdiYW9kYXJlblwiKSwgdGhpcy5jb21fR2FtZU1lbnUuZ2V0Q2hpbGRCeU5hbWUoXCJjb21fSG9uZ2Jhb1wiKSwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb24oaW5mb1s3XSwgbWVudUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJUYWJsZV9HcmFiQnVsbFwiKSwgdGhpcy5jb21fR2FtZU1lbnUuZ2V0Q2hpbGRCeU5hbWUoXCJjb21fR3JhYkJ1bGxcIiksIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU1lbnVCdXR0b25Jbml0X0Z1bmN0aW9uKGluZm9bOV0sIG1lbnVMaXN0LmdldENoaWxkQnlOYW1lKFwiVGFibGVfTGFuZFwiKSwgdGhpcy5jb21fR2FtZU1lbnUuZ2V0Q2hpbGRCeU5hbWUoXCJjb21fTGFuZFwiKSwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb24oaW5mb1sxMF0sIG1lbnVMaXN0LmdldENoaWxkQnlOYW1lKFwiVGFibGVfUnVuRmFzdFwiKSwgdGhpcy5jb21fR2FtZU1lbnUuZ2V0Q2hpbGRCeU5hbWUoXCJjb21fUnVuXCIpLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVNZW51QnV0dG9uSW5pdF9GdW5jdGlvbihpbmZvWzExXSwgbWVudUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJUYWJsZV9Ib2xkZW1cIiksIHRoaXMuY29tX0dhbWVNZW51LmdldENoaWxkQnlOYW1lKFwiY29tX0hvbGRlbVwiKSwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb24oaW5mb1sxMl0sIG1lbnVMaXN0LmdldENoaWxkQnlOYW1lKFwiVGFibGVfRmxvd2VyXCIpLCB0aGlzLmNvbV9HYW1lTWVudS5nZXRDaGlsZEJ5TmFtZShcImNvbV9GbG93ZXJcIiksIDApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMlumAieWcuuaMiemSrlxyXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFxyXG4gICAgICogQHBhcmFtIHsqfSBidE5vZGUgXHJcbiAgICAgKiBAcGFyYW0geyp9IGNvbU5vZGUgXHJcbiAgICAgKiBAcGFyYW0geyp9IHR5cGUgXHJcbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFxyXG4gICAgICovXHJcbiAgICBnYW1lTWVudUJ1dHRvbkluaXRfRnVuY3Rpb246IGZ1bmN0aW9uIChkYXRhLCBidE5vZGUsIGNvbU5vZGUsIHR5cGUsIGluZGV4KSB7XHJcbiAgICAgICAgLy9jYy5sb2coJ+WIneWni+WMlumAieWcuuaMiemSrjonICsgdHlwZSAgKyAnLOaMiemSrj09PT09PT09PT09PT09PT09PT09PT09PT09PScgKyBidE5vZGUuZ2V0Q29tcG9uZW50KFwiY2MuQnV0dG9uXCIpKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwi5ri45oiP5L+h5oGv77yaXCIsZGF0YS5HYW1lSWQsXCLmiL/pl7Tkv6Hmga/vvJpcIixkYXRhLnNlcnZlckluZm8ubm9ybWFsLFwi5ri45oiP5oyJ6ZKu77yaXCIsYnROb2RlLFwidHlwZTpcIix0eXBlKTtcclxuICAgICAgICBpZiAoIWNjLmlzVmFsaWQoYnROb2RlKSkgcmV0dXJuO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIDA6Ly/nrKzkuIDkuKrlrZDoioLngrnkuLrog4zmma/lm75cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tTm9kZS5jaGlsZHJlbltpICsgMV0pIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmdhbWVJZCA9IGRhdGEuR2FtZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmlwID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFtpXS5pcDtcclxuICAgICAgICAgICAgICAgICAgICBjb21Ob2RlLmNoaWxkcmVuW2kgKyAxXS5wcm90ID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFtpXS5wcm90O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmVudHJ5Q29pbiA9IGRhdGEuc2VydmVySW5mby5ub3JtYWxbaV0uZW50cnlDb2luO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLnNlcnZlciA9IGRhdGEuc2VydmVySW5mby5ub3JtYWxbaV0uU2VydmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmJldCA9IGRhdGEuc2VydmVySW5mby5ub3JtYWxbaV0uYmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmdldENoaWxkQnlOYW1lKFwibGJfQmV0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gKGRhdGEuc2VydmVySW5mby5ub3JtYWxbaV0uYmV0IC8gdGhpcy5wbGF5ZXJJbmZvLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21Ob2RlLmNoaWxkcmVuW2kgKyAxXS5nZXRDaGlsZEJ5TmFtZShcImxiX0VudHJ5Q29pblwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IChkYXRhLnNlcnZlckluZm8ubm9ybWFsW2ldLmVudHJ5Q29pbiAvIHRoaXMucGxheWVySW5mby5leGNoYW5nZVJhdGUpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tTm9kZS5jaGlsZHJlbltpICsgMV0uZ2V0Q2hpbGRCeU5hbWUoXCJsYl9QbGF5ZXJOdW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIuiJr+WlvVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbU5vZGUuY2hpbGRyZW5baSArIDFdLmdldENvbXBvbmVudChjYy5CdXR0b24pLmludGVyYWN0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZ2FtZUlkID0gZGF0YS5HYW1lSWQ7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuaXAgPSBkYXRhLnNlcnZlckluZm8ubm9ybWFsWzBdLmlwO1xyXG4gICAgICAgICAgICAgICAgYnROb2RlLnByb3QgPSBkYXRhLnNlcnZlckluZm8ubm9ybWFsWzBdLnByb3Q7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZW50cnlDb2luID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFswXS5lbnRyeUNvaW47XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuc2VydmVyID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFswXS5TZXJ2ZXI7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuYmV0ID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFswXS5iZXQ7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZ2FtZUlkID0gZGF0YS5HYW1lSWQ7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuaXAgPSBkYXRhLnNlcnZlckluZm8ubm9ybWFsW2luZGV4XS5pcDtcclxuICAgICAgICAgICAgICAgIGJ0Tm9kZS5wcm90ID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFtpbmRleF0ucHJvdDtcclxuICAgICAgICAgICAgICAgIGJ0Tm9kZS5lbnRyeUNvaW4gPSBkYXRhLnNlcnZlckluZm8ubm9ybWFsW2luZGV4XS5lbnRyeUNvaW47XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuc2VydmVyID0gZGF0YS5zZXJ2ZXJJbmZvLm5vcm1hbFtpbmRleF0uU2VydmVyO1xyXG4gICAgICAgICAgICAgICAgYnROb2RlLmJldCA9IGRhdGEuc2VydmVySW5mby5ub3JtYWxbaW5kZXhdLmJldDtcclxuICAgICAgICAgICAgICAgIGJ0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImxiX0JldFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IChkYXRhLnNlcnZlckluZm8ubm9ybWFsW2luZGV4XS5iZXQgLyB0aGlzLnBsYXllckluZm8uZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgYnROb2RlLmdldENoaWxkQnlOYW1lKFwibGJfRW50cnlDb2luXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gKGRhdGEuc2VydmVySW5mby5ub3JtYWxbaW5kZXhdLmVudHJ5Q29pbiAvIHRoaXMucGxheWVySW5mby5leGNoYW5nZVJhdGUpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICBidE5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrBcclxuICAgICAqIEBwYXJhbSB7Kn0gZHQgXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gKGR0KSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+iMg+WbtOmaj+acuuaVsFxyXG4gICAgICogQHBhcmFtIHsqfSBtaW4gXHJcbiAgICAgKiBAcGFyYW0geyp9IG1heCBcclxuICAgICAqL1xyXG4gICAgZ2V0UmFuZG9tX0Z1bmN0aW9uOiBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxuICAgIH1cclxufSk7Il19