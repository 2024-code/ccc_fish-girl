
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Flower/FlowerSeat.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '020adKLAxlBQpYhX6DfXNDM', 'FlowerSeat');
// Script/Flower/FlowerSeat.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    cavas: {
      "default": null,
      type: cc.Node
    },
    _sprIcon: null,
    _zhuang: null,
    _ready: null,
    _offline: null,
    _lblName: null,
    _lblScore: null,
    _nddayingjia: null,
    _userName: "",
    _score: 0,
    _dayingjia: false,
    _isOffline: false,
    _isReady: false,
    _isZhuang: false,
    _userId: null,
    _isKanPai: false,
    _isQiPai: false,
    _isShu: false,
    _timeLabel: null,
    _time: -1
  },
  // use this for initialization
  onLoad: function onLoad() {
    this._sprIcon = this.node.getChildByName("head").getComponent(cc.Sprite);
    this._lblName = this.node.getChildByName("name").getComponent(cc.Label);
    this._lblScore = this.node.getChildByName("money").getComponent(cc.Label);
    this._costMoney = this.node.getChildByName("zjh14").getChildByName("xiazhu").getComponent(cc.Label);
    this._kanicon = this.node.getChildByName("kanicon");
    this._shuicon = this.node.getChildByName("shuicon");
    this._qiicon = this.node.getChildByName("qiicon");
    this._kanpai = this.node.getChildByName("kanpai");
    this._saykanpai = this.node.getChildByName("saykanpai");
    this._genzhu = this.node.getChildByName("genzhu");
    this._jiazhu = this.node.getChildByName("jiazhu");
    this._fangqi = this.node.getChildByName("fangqi");
    this._pkButton = this.node.getChildByName("pk_button");
    this._yanhua = this.node.getChildByName("yanhua");
    this._yanhuaAnim = this._yanhua.getComponent(cc.Animation);
    this._timeLabel = this.node.getChildByName("toggle").getChildByName("lblTime").getComponent(cc.Label);
    this._timeLabel.string = "00";
    this._zhuang = this.node.getChildByName("zhuang");
    this.refresh(); // if (this._sprIcon && this._userId) {
    //     this._sprIcon.setUserID(this._userId);
    // }
  },
  onIconClicked: function onIconClicked() {// if (this._userId != null && this._userId > 0) {
    //     var seat = cc.vv.gameNetMgr.getSeatByID(this._userId);
    //     var sex = 0;
    //     if (cc.vv.baseInfoMap) {
    //         var info = cc.vv.baseInfoMap[this._userId];
    //         if (info) {
    //             sex = info.sex;
    //         }
    //     }
    // }
  },
  refresh: function refresh() {
    if (this._lblName != null) {
      this._lblName.string = this._userName;
    }

    if (this._lblScore != null) {
      this._lblScore.string = this._score;
    }

    if (this._nddayingjia != null) {
      this._nddayingjia.active = this._dayingjia == true;
    }

    if (this._offline) {
      this._offline.active = this._isOffline && this._userName != "";
    }

    if (this._ready) {
      this._ready.active = this._isReady && cc.vv.gameNetMgr.numOfGames > 0;
    }

    if (this._zhuang) {
      this._zhuang.active = this._isZhuang;
    }

    this.node.active = this._userName != null && this._userName != "";

    if (this._kanicon) {
      this._kanicon.active = this._isKanPai;
    }

    if (this._shuicon) {
      this._shuicon.active = this._isShu;
    }

    if (this._qiicon) {
      this._qiicon.active = this._isQiPai;
    }

    if (this._kanpai) {
      this._kanpai.active = false;
    }

    if (this._saykanpai) {
      this._saykanpai.active = false;
    }

    if (this._genzhu) {
      this._genzhu.active = false;
    }

    if (this._jiazhu) {
      this._jiazhu.active = false;
    }

    if (this._fangqi) {
      this._fangqi.active = false;
    }

    if (this._pkButton) {
      this._pkButton.active = false;
    }

    if (this._yanhua) {
      this._yanhua.active = false;
    }
  },
  setInfo: function setInfo(name, score, head) {
    var _this = this;

    this._userName = name;
    Helper.loadHead(head, function (sp) {
      if (!!_this._sprIcon) _this._sprIcon.spriteFrame = sp;
    });
    this._score = score;

    if (this._score == null) {
      this._score = 0;
    }

    if (this._lblScore != null) {
      this._lblScore.node.active = this._score != null;
    }

    this.refresh();
  },
  setZhuang: function setZhuang(value) {
    this._isZhuang = value;

    if (this._zhuang) {
      this._zhuang.active = value;
    } else {
      this._zhuang = this.node.getChildByName("zhuang");
      this._zhuang.active = value;
    }
  },
  setReady: function setReady(isReady) {
    this._isReady = isReady;

    if (this._ready) {
      this._ready.active = this._isReady && cc.vv.gameNetMgr.numOfGames > 0;
    }
  },
  setID: function setID(id) {
    var idNode = this.node.getChildByName("id");

    if (idNode) {
      var lbl = idNode.getComponent(cc.Label);
      lbl.string = "ID:" + id;
    }

    this._userId = id; // if (this._sprIcon) {
    //     this._sprIcon.setUserID(id);
    // }
  },
  getID: function getID() {
    return this._userId;
  },
  setOffline: function setOffline(isOffline) {
    this._isOffline = isOffline;

    if (this._offline) {
      this._offline.active = this._isOffline && this._userName != "";
    }
  },
  setMoney: function setMoney(data) {
    //设置该玩家所拥有的的钱
    this._lblScore.string = data;
    this._score = data;
  },
  setCostMoney: function setCostMoney(data) {
    //设置该玩家本局所压的注
    if (data) {
      console.log('注池数据' + JSON.stringify(data));
      this._costMoney.string = (data / 100).toFixed(2);
    }

    if (!this.node.getChildByName("zjh14").active) this.node.getChildByName("zjh14").active = true;
  },
  showGenZhu: function showGenZhu() {
    var self = this;
    self._genzhu.active = true;
    setTimeout(function () {
      self._genzhu.active = false;
    }, 1000);
  },

  /**
   * 显示开牌图标
   */
  showKanPai: function showKanPai() {
    var self = this;
    this._kanicon.active = true;
    this._saykanpai.active = true;
    var stime = setTimeout(function () {
      clearTimeout(stime);
      self._saykanpai.active = false;
    }, 1000);
  },
  showJiaZhu: function showJiaZhu() {
    var self = this;
    self._jiazhu.active = true;
    setTimeout(function () {
      self._jiazhu.active = false;
    }, 1000);
  },
  showQiPai: function showQiPai(status) {
    var self = this;

    if (status == 'shu') {
      self._shuicon.active = true;
    } else {
      self._qiicon.active = true;
      self._fangqi.active = true;
      setTimeout(function () {
        if (self._fangqi) {
          self._fangqi.active = false;
        }
      }, 1000);
    }
  },
  showPkButton: function showPkButton() {
    if (this._pkButton) {
      this._pkButton.active = true;
    }
  },
  hidePkButton: function hidePkButton() {
    if (this._pkButton) {
      this._pkButton.active = false;
    }
  },
  onClickPkButton: function onClickPkButton() {
    this.cavas.getComponent("FlowerMain").clickPkButton(this._userId);
  },
  showYanhua: function showYanhua() {
    if (this._yanhua) {
      this._yanhua.active = true;

      this._yanhuaAnim.play('yanhua');
    }
  },
  setTime: function setTime(o) {
    if (o) {
      this._time = 0;
    } else {
      this._time = 30;
    }
  },
  fanPai: function fanPai(spriteFrames) {
    cc.log('进行翻牌-----------------------------------');

    for (var i = 0; i < 3; i++) {
      var zhengpai = this._kanpai.getChildByName('zhengpai' + i);

      var paiObj = spriteFrames[i];
      var numRes = paiObj['num'];
      var huase_bigRes = paiObj['huase_big'];
      var huase_smallRes = paiObj['huase_small'];
      zhengpai.getChildByName('num').getComponent(cc.Sprite).spriteFrame = numRes;
      zhengpai.getChildByName('huase_big').getComponent(cc.Sprite).spriteFrame = huase_bigRes;
      zhengpai.getChildByName('huase_small').getComponent(cc.Sprite).spriteFrame = huase_smallRes;
    }

    this.hideFupai();
    this._kanpai.active = true;
  },
  hideFupai: function hideFupai() {
    cc.log('隐藏副牌===================');

    for (var i = 0; i < 3; i++) {
      var fupai = this.node.getChildByName('fupai' + i);
      fupai.active = false;
    }
  },
  // called every frame, uncomment this function to activate update callback
  update: function update(dt) {
    if (this._time > 0) {
      this._time -= dt;
      var pre = "";

      if (this._time < 0) {
        this._time = 0;
      }

      var t = Math.ceil(this._time);

      if (t < 10) {
        pre = "0";
      }

      this._timeLabel.string = pre + t;
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxGbG93ZXJcXEZsb3dlclNlYXQuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJjYXZhcyIsInR5cGUiLCJOb2RlIiwiX3Nwckljb24iLCJfemh1YW5nIiwiX3JlYWR5IiwiX29mZmxpbmUiLCJfbGJsTmFtZSIsIl9sYmxTY29yZSIsIl9uZGRheWluZ2ppYSIsIl91c2VyTmFtZSIsIl9zY29yZSIsIl9kYXlpbmdqaWEiLCJfaXNPZmZsaW5lIiwiX2lzUmVhZHkiLCJfaXNaaHVhbmciLCJfdXNlcklkIiwiX2lzS2FuUGFpIiwiX2lzUWlQYWkiLCJfaXNTaHUiLCJfdGltZUxhYmVsIiwiX3RpbWUiLCJvbkxvYWQiLCJub2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJMYWJlbCIsIl9jb3N0TW9uZXkiLCJfa2FuaWNvbiIsIl9zaHVpY29uIiwiX3FpaWNvbiIsIl9rYW5wYWkiLCJfc2F5a2FucGFpIiwiX2dlbnpodSIsIl9qaWF6aHUiLCJfZmFuZ3FpIiwiX3BrQnV0dG9uIiwiX3lhbmh1YSIsIl95YW5odWFBbmltIiwiQW5pbWF0aW9uIiwic3RyaW5nIiwicmVmcmVzaCIsIm9uSWNvbkNsaWNrZWQiLCJhY3RpdmUiLCJ2diIsImdhbWVOZXRNZ3IiLCJudW1PZkdhbWVzIiwic2V0SW5mbyIsIm5hbWUiLCJzY29yZSIsImhlYWQiLCJIZWxwZXIiLCJsb2FkSGVhZCIsInNwIiwic3ByaXRlRnJhbWUiLCJzZXRaaHVhbmciLCJ2YWx1ZSIsInNldFJlYWR5IiwiaXNSZWFkeSIsInNldElEIiwiaWQiLCJpZE5vZGUiLCJsYmwiLCJnZXRJRCIsInNldE9mZmxpbmUiLCJpc09mZmxpbmUiLCJzZXRNb25leSIsImRhdGEiLCJzZXRDb3N0TW9uZXkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvRml4ZWQiLCJzaG93R2VuWmh1Iiwic2VsZiIsInNldFRpbWVvdXQiLCJzaG93S2FuUGFpIiwic3RpbWUiLCJjbGVhclRpbWVvdXQiLCJzaG93SmlhWmh1Iiwic2hvd1FpUGFpIiwic3RhdHVzIiwic2hvd1BrQnV0dG9uIiwiaGlkZVBrQnV0dG9uIiwib25DbGlja1BrQnV0dG9uIiwiY2xpY2tQa0J1dHRvbiIsInNob3dZYW5odWEiLCJwbGF5Iiwic2V0VGltZSIsIm8iLCJmYW5QYWkiLCJzcHJpdGVGcmFtZXMiLCJpIiwiemhlbmdwYWkiLCJwYWlPYmoiLCJudW1SZXMiLCJodWFzZV9iaWdSZXMiLCJodWFzZV9zbWFsbFJlcyIsImhpZGVGdXBhaSIsImZ1cGFpIiwidXBkYXRlIiwiZHQiLCJwcmUiLCJ0IiwiTWF0aCIsImNlaWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBRUxDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSCxpQkFBUyxJQUROO0FBRUhDLE1BQUFBLElBQUksRUFBRUwsRUFBRSxDQUFDTTtBQUZOLEtBREM7QUFLUkMsSUFBQUEsUUFBUSxFQUFFLElBTEY7QUFNUkMsSUFBQUEsT0FBTyxFQUFFLElBTkQ7QUFPUkMsSUFBQUEsTUFBTSxFQUFFLElBUEE7QUFRUkMsSUFBQUEsUUFBUSxFQUFFLElBUkY7QUFTUkMsSUFBQUEsUUFBUSxFQUFFLElBVEY7QUFVUkMsSUFBQUEsU0FBUyxFQUFFLElBVkg7QUFXUkMsSUFBQUEsWUFBWSxFQUFFLElBWE47QUFZUkMsSUFBQUEsU0FBUyxFQUFFLEVBWkg7QUFhUkMsSUFBQUEsTUFBTSxFQUFFLENBYkE7QUFjUkMsSUFBQUEsVUFBVSxFQUFFLEtBZEo7QUFlUkMsSUFBQUEsVUFBVSxFQUFFLEtBZko7QUFnQlJDLElBQUFBLFFBQVEsRUFBRSxLQWhCRjtBQWlCUkMsSUFBQUEsU0FBUyxFQUFFLEtBakJIO0FBa0JSQyxJQUFBQSxPQUFPLEVBQUUsSUFs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QUFHLEtBQUs5RSxJQUFMLENBQVVDLGNBQVYsQ0FBeUIsVUFBVXNFLENBQW5DLENBQVo7QUFDQU8sTUFBQUEsS0FBSyxDQUFDekQsTUFBTixHQUFlLEtBQWY7QUFDSDtBQUNKLEdBMVFJO0FBMlFMO0FBQ0EwRCxFQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLEVBQVYsRUFBYztBQUNsQixRQUFJLEtBQUtsRixLQUFMLEdBQWEsQ0FBakIsRUFBb0I7QUFDaEIsV0FBS0EsS0FBTCxJQUFja0YsRUFBZDtBQUNBLFVBQUlDLEdBQUcsR0FBRyxFQUFWOztBQUNBLFVBQUksS0FBS25GLEtBQUwsR0FBYSxDQUFqQixFQUFvQjtBQUNoQixhQUFLQSxLQUFMLEdBQWEsQ0FBYjtBQUNIOztBQUNELFVBQUlvRixDQUFDLEdBQUdDLElBQUksQ0FBQ0MsSUFBTCxDQUFVLEtBQUt0RixLQUFmLENBQVI7O0FBQ0EsVUFBSW9GLENBQUMsR0FBRyxFQUFSLEVBQVk7QUFDUkQsUUFBQUEsR0FBRyxHQUFHLEdBQU47QUFDSDs7QUFDRCxXQUFLcEYsVUFBTCxDQUFnQnFCLE1BQWhCLEdBQXlCK0QsR0FBRyxHQUFHQyxDQUEvQjtBQUNIO0FBQ0o7QUF6UkksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNhdmFzOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLk5vZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9zcHJJY29uOiBudWxsLFxyXG4gICAgICAgIF96aHVhbmc6IG51bGwsXHJcbiAgICAgICAgX3JlYWR5OiBudWxsLFxyXG4gICAgICAgIF9vZmZsaW5lOiBudWxsLFxyXG4gICAgICAgIF9sYmxOYW1lOiBudWxsLFxyXG4gICAgICAgIF9sYmxTY29yZTogbnVsbCxcclxuICAgICAgICBfbmRkYXlpbmdqaWE6IG51bGwsXHJcbiAgICAgICAgX3VzZXJOYW1lOiBcIlwiLFxyXG4gICAgICAgIF9zY29yZTogMCxcclxuICAgICAgICBfZGF5aW5namlhOiBmYWxzZSxcclxuICAgICAgICBfaXNPZmZsaW5lOiBmYWxzZSxcclxuICAgICAgICBfaXNSZWFkeTogZmFsc2UsXHJcbiAgICAgICAgX2lzWmh1YW5nOiBmYWxzZSxcclxuICAgICAgICBfdXNlcklkOiBudWxsLFxyXG4gICAgICAgIF9pc0thblBhaTogZmFsc2UsXHJcbiAgICAgICAgX2lzUWlQYWk6IGZhbHNlLFxyXG4gICAgICAgIF9pc1NodTogZmFsc2UsXHJcbiAgICAgICAgX3RpbWVMYWJlbDogbnVsbCxcclxuICAgICAgICBfdGltZTogLTEsXHJcbiAgICB9LFxyXG4gICAgLy8gdXNlIHRoaXMgZm9yIGluaXRpYWxpemF0aW9uXHJcbiAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9zcHJJY29uID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiaGVhZFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICB0aGlzLl9sYmxOYW1lID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuX2xibFNjb3JlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibW9uZXlcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aGlzLl9jb3N0TW9uZXkgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ6amgxNFwiKS5nZXRDaGlsZEJ5TmFtZShcInhpYXpodVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuX2thbmljb24gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJrYW5pY29uXCIpO1xyXG4gICAgICAgIHRoaXMuX3NodWljb24gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzaHVpY29uXCIpO1xyXG4gICAgICAgIHRoaXMuX3FpaWNvbiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInFpaWNvblwiKTtcclxuICAgICAgICB0aGlzLl9rYW5wYWkgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJrYW5wYWlcIik7XHJcbiAgICAgICAgdGhpcy5fc2F5a2FucGFpID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2F5a2FucGFpXCIpO1xyXG4gICAgICAgIHRoaXMuX2dlbnpodSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImdlbnpodVwiKTtcclxuICAgICAgICB0aGlzLl9qaWF6aHUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWF6aHVcIik7XHJcbiAgICAgICAgdGhpcy5fZmFuZ3FpID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZmFuZ3FpXCIpO1xyXG4gICAgICAgIHRoaXMuX3BrQnV0dG9uID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicGtfYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX3lhbmh1YSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInlhbmh1YVwiKTtcclxuICAgICAgICB0aGlzLl95YW5odWFBbmltID0gdGhpcy5feWFuaHVhLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pO1xyXG4gICAgICAgIHRoaXMuX3RpbWVMYWJlbCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInRvZ2dsZVwiKS5nZXRDaGlsZEJ5TmFtZShcImxibFRpbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aGlzLl90aW1lTGFiZWwuc3RyaW5nID0gXCIwMFwiO1xyXG4gICAgICAgIHRoaXMuX3podWFuZyA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInpodWFuZ1wiKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAvLyBpZiAodGhpcy5fc3BySWNvbiAmJiB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5fc3BySWNvbi5zZXRVc2VySUQodGhpcy5fdXNlcklkKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9LFxyXG4gICAgb25JY29uQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGlmICh0aGlzLl91c2VySWQgIT0gbnVsbCAmJiB0aGlzLl91c2VySWQgPiAwKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBzZWF0ID0gY2MudnYuZ2FtZU5ldE1nci5nZXRTZWF0QnlJRCh0aGlzLl91c2VySWQpO1xyXG4gICAgICAgIC8vICAgICB2YXIgc2V4ID0gMDtcclxuICAgICAgICAvLyAgICAgaWYgKGNjLnZ2LmJhc2VJbmZvTWFwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgaW5mbyA9IGNjLnZ2LmJhc2VJbmZvTWFwW3RoaXMuX3VzZXJJZF07XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoaW5mbykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHNleCA9IGluZm8uc2V4O1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSxcclxuICAgIHJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGJsTmFtZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xibE5hbWUuc3RyaW5nID0gdGhpcy5fdXNlck5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9sYmxTY29yZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xibFNjb3JlLnN0cmluZyA9IHRoaXMuX3Njb3JlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbmRkYXlpbmdqaWEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9uZGRheWluZ2ppYS5hY3RpdmUgPSB0aGlzLl9kYXlpbmdqaWEgPT0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX29mZmxpbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fb2ZmbGluZS5hY3RpdmUgPSB0aGlzLl9pc09mZmxpbmUgJiYgdGhpcy5fdXNlck5hbWUgIT0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5LmFjdGl2ZSA9IHRoaXMuX2lzUmVhZHkgJiYgKGNjLnZ2LmdhbWVOZXRNZ3IubnVtT2ZHYW1lcyA+IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5femh1YW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3podWFuZy5hY3RpdmUgPSB0aGlzLl9pc1podWFuZztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRoaXMuX3VzZXJOYW1lICE9IG51bGwgJiYgdGhpcy5fdXNlck5hbWUgIT0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5fa2FuaWNvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9rYW5pY29uLmFjdGl2ZSA9IHRoaXMuX2lzS2FuUGFpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fc2h1aWNvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9zaHVpY29uLmFjdGl2ZSA9IHRoaXMuX2lzU2h1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fcWlpY29uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3FpaWNvbi5hY3RpdmUgPSB0aGlzLl9pc1FpUGFpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fa2FucGFpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2thbnBhaS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3NheWthbnBhaSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zYXlrYW5wYWkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9nZW56aHUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ2Vuemh1LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5famlhemh1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ppYXpodS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZhbmdxaSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mYW5ncWkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9wa0J1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9wa0J1dHRvbi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3lhbmh1YSkge1xyXG4gICAgICAgICAgICB0aGlzLl95YW5odWEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldEluZm86IGZ1bmN0aW9uIChuYW1lLCBzY29yZSwgaGVhZCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gbmFtZTtcclxuICAgICAgICBIZWxwZXIubG9hZEhlYWQoaGVhZCwgc3AgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISF0aGlzLl9zcHJJY29uKSB0aGlzLl9zcHJJY29uLnNwcml0ZUZyYW1lID0gc3A7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Njb3JlID0gc2NvcmU7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Njb3JlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbGJsU2NvcmUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sYmxTY29yZS5ub2RlLmFjdGl2ZSA9IHRoaXMuX3Njb3JlICE9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfSxcclxuICAgIHNldFpodWFuZzogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5faXNaaHVhbmcgPSB2YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5femh1YW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3podWFuZy5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl96aHVhbmcgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ6aHVhbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX3podWFuZy5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0UmVhZHk6IGZ1bmN0aW9uIChpc1JlYWR5KSB7XHJcbiAgICAgICAgdGhpcy5faXNSZWFkeSA9IGlzUmVhZHk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5LmFjdGl2ZSA9IHRoaXMuX2lzUmVhZHkgJiYgKGNjLnZ2LmdhbWVOZXRNZ3IubnVtT2ZHYW1lcyA+IDApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRJRDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdmFyIGlkTm9kZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImlkXCIpO1xyXG4gICAgICAgIGlmIChpZE5vZGUpIHtcclxuICAgICAgICAgICAgdmFyIGxibCA9IGlkTm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBsYmwuc3RyaW5nID0gXCJJRDpcIiArIGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VySWQgPSBpZDtcclxuICAgICAgICAvLyBpZiAodGhpcy5fc3BySWNvbikge1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9zcHJJY29uLnNldFVzZXJJRChpZCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSxcclxuICAgIGdldElEOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICAgIH0sXHJcbiAgICBzZXRPZmZsaW5lOiBmdW5jdGlvbiAoaXNPZmZsaW5lKSB7XHJcbiAgICAgICAgdGhpcy5faXNPZmZsaW5lID0gaXNPZmZsaW5lO1xyXG4gICAgICAgIGlmICh0aGlzLl9vZmZsaW5lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29mZmxpbmUuYWN0aXZlID0gdGhpcy5faXNPZmZsaW5lICYmIHRoaXMuX3VzZXJOYW1lICE9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzZXRNb25leTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAvL+iuvue9ruivpeeOqeWutuaJgOaLpeacieeahOeahOmSsVxyXG4gICAgICAgIHRoaXMuX2xibFNjb3JlLnN0cmluZyA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSBkYXRhO1xyXG4gICAgfSxcclxuICAgIHNldENvc3RNb25leTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAvL+iuvue9ruivpeeOqeWutuacrOWxgOaJgOWOi+eahOazqFxyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfms6jmsaDmlbDmja4nICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb3N0TW9uZXkuc3RyaW5nID0gKGRhdGEgLyAxMDApLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiempoMTRcIikuYWN0aXZlKSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ6amgxNFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIHNob3dHZW5aaHU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5fZ2Vuemh1LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2dlbnpodS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuuW8gOeJjOWbvuagh1xyXG4gICAgICovXHJcbiAgICBzaG93S2FuUGFpOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2thbmljb24uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9zYXlrYW5wYWkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc3RpbWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0aW1lKTtcclxuICAgICAgICAgICAgc2VsZi5fc2F5a2FucGFpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfSxcclxuICAgIHNob3dKaWFaaHU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5famlhemh1LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2ppYXpodS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgIH0sXHJcbiAgICBzaG93UWlQYWk6IGZ1bmN0aW9uIChzdGF0dXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PSAnc2h1Jykge1xyXG4gICAgICAgICAgICBzZWxmLl9zaHVpY29uLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5fcWlpY29uLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYuX2ZhbmdxaS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9mYW5ncWkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9mYW5ncWkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93UGtCdXR0b246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcGtCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5fcGtCdXR0b24uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGlkZVBrQnV0dG9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3BrQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BrQnV0dG9uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkNsaWNrUGtCdXR0b246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhdmFzLmdldENvbXBvbmVudChcIkZsb3dlck1haW5cIikuY2xpY2tQa0J1dHRvbih0aGlzLl91c2VySWQpO1xyXG4gICAgfSxcclxuICAgIHNob3dZYW5odWE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5feWFuaHVhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3lhbmh1YS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl95YW5odWFBbmltLnBsYXkoJ3lhbmh1YScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRUaW1lOiBmdW5jdGlvbiAobykge1xyXG4gICAgICAgIGlmIChvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSAzMDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZmFuUGFpOiBmdW5jdGlvbiAoc3ByaXRlRnJhbWVzKSB7XHJcbiAgICAgICAgY2MubG9nKCfov5vooYznv7vniYwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHpoZW5ncGFpID0gdGhpcy5fa2FucGFpLmdldENoaWxkQnlOYW1lKCd6aGVuZ3BhaScgKyBpKTtcclxuICAgICAgICAgICAgdmFyIHBhaU9iaiA9IHNwcml0ZUZyYW1lc1tpXTtcclxuICAgICAgICAgICAgdmFyIG51bVJlcyA9IHBhaU9ialsnbnVtJ107XHJcbiAgICAgICAgICAgIHZhciBodWFzZV9iaWdSZXMgPSBwYWlPYmpbJ2h1YXNlX2JpZyddO1xyXG4gICAgICAgICAgICB2YXIgaHVhc2Vfc21hbGxSZXMgPSBwYWlPYmpbJ2h1YXNlX3NtYWxsJ107XHJcbiAgICAgICAgICAgIHpoZW5ncGFpLmdldENoaWxkQnlOYW1lKCdudW0nKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bVJlcztcclxuICAgICAgICAgICAgemhlbmdwYWkuZ2V0Q2hpbGRCeU5hbWUoJ2h1YXNlX2JpZycpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gaHVhc2VfYmlnUmVzO1xyXG4gICAgICAgICAgICB6aGVuZ3BhaS5nZXRDaGlsZEJ5TmFtZSgnaHVhc2Vfc21hbGwnKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IGh1YXNlX3NtYWxsUmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGVGdXBhaSgpO1xyXG4gICAgICAgIHRoaXMuX2thbnBhaS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIGhpZGVGdXBhaTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNjLmxvZygn6ZqQ6JeP5Ymv54mMPT09PT09PT09PT09PT09PT09PScpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBmdXBhaSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnZnVwYWknICsgaSk7XHJcbiAgICAgICAgICAgIGZ1cGFpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBjYWxsZWQgZXZlcnkgZnJhbWUsIHVuY29tbWVudCB0aGlzIGZ1bmN0aW9uIHRvIGFjdGl2YXRlIHVwZGF0ZSBjYWxsYmFja1xyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGltZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fdGltZSAtPSBkdDtcclxuICAgICAgICAgICAgdmFyIHByZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHQgPSBNYXRoLmNlaWwodGhpcy5fdGltZSk7XHJcbiAgICAgICAgICAgIGlmICh0IDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHByZSA9IFwiMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWVMYWJlbC5zdHJpbmcgPSBwcmUgKyB0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0pOyJdfQ==